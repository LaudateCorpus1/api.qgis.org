<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: /tmp/buildd/qgis-3.4.3+14stretch/src/gui/processing/qgsprocessingtoolboxmodel.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.4.3-Madeira (2f64a3c)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_99d0482cf009f9d97a0877749b817f19.html">gui</a></li><li class="navelem"><a class="el" href="dir_d78fade339fe3027f54a8ddb51ecca47.html">processing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qgsprocessingtoolboxmodel.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qgsprocessingtoolboxmodel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">    qgsprocessingtoolboxmodel.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    -------------------------------</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    begin                : May 2018</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    copyright            : (C) 2018 by Nyall Dawson</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    email                : nyall dot dawson at gmail dot com</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> ***************************************************************************</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingtoolboxmodel_8h.html">qgsprocessingtoolboxmodel.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsapplication_8h.html">qgsapplication.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsvectorlayer_8h.html">qgsvectorlayer.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingregistry_8h.html">qgsprocessingregistry.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingrecentalgorithmlog_8h.html">qgsprocessingrecentalgorithmlog.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifdef ENABLE_MODELTEST</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;modeltest.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// QgsProcessingToolboxModelNode</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;QgsProcessingToolboxModelNode::~QgsProcessingToolboxModelNode()</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  deleteChildren();</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;QgsProcessingToolboxModelNode *QgsProcessingToolboxModelNode::takeChild( QgsProcessingToolboxModelNode *node )</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> mChildren.takeAt( mChildren.indexOf( node ) );</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;QgsProcessingToolboxModelGroupNode *QgsProcessingToolboxModelNode::getChildGroupNode( <span class="keyword">const</span> QString &amp;groupId )</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">for</span> ( QgsProcessingToolboxModelNode *node : qgis::as_const( mChildren ) )</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> ( node-&gt;nodeType() == NodeGroup )</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      QgsProcessingToolboxModelGroupNode *groupNode = qobject_cast&lt; QgsProcessingToolboxModelGroupNode * &gt;( node );</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="keywordflow">if</span> ( groupNode &amp;&amp; groupNode-&gt;id() == groupId )</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> groupNode;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModelNode::addChildNode( QgsProcessingToolboxModelNode *node )</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> ( !node )</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  Q_ASSERT( !node-&gt;mParent );</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  node-&gt;mParent = <span class="keyword">this</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  mChildren.append( node );</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModelNode::deleteChildren()</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  qDeleteAll( mChildren );</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  mChildren.clear();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// QgsProcessingToolboxModelProviderNode</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;QgsProcessingToolboxModelProviderNode::QgsProcessingToolboxModelProviderNode( <a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *provider )</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  : mProviderId( provider-&gt;id() )</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  , mProvider( provider )</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *QgsProcessingToolboxModelProviderNode::provider()</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">return</span> mProvider;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">// QgsProcessingToolboxModelGroupNode</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;QgsProcessingToolboxModelGroupNode::QgsProcessingToolboxModelGroupNode( <span class="keyword">const</span> QString &amp;<span class="keywordtype">id</span>, <span class="keyword">const</span> QString &amp;name )</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  : mId( id )</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  , mName( name )</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">// QgsProcessingToolboxModelAlgorithmNode</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;QgsProcessingToolboxModelAlgorithmNode::QgsProcessingToolboxModelAlgorithmNode( <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> )</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  : mAlgorithm( algorithm )</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">QgsProcessingToolboxModelAlgorithmNode::algorithm</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">return</span> mAlgorithm;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">// QgsProcessingToolboxModel</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a0919b2c0a26179fae79a7c4958c97d1b">  116</a></span>&#160;<a class="code" href="classQgsProcessingToolboxModel.html#a0919b2c0a26179fae79a7c4958c97d1b">QgsProcessingToolboxModel::QgsProcessingToolboxModel</a>( QObject *parent, <a class="code" href="classQgsProcessingRegistry.html">QgsProcessingRegistry</a> *registry, QgsProcessingRecentAlgorithmLog *recentLog )</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  : QAbstractItemModel( parent )</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  , mRegistry( registry ? registry : <a class="code" href="classQgsApplication.html">QgsApplication</a>::processingRegistry() )</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  , mRecentLog( recentLog )</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  , mRootNode( qgis::make_unique&lt; QgsProcessingToolboxModelGroupNode &gt;( QString(), QString() ) )</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  rebuild();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> ( mRecentLog )</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    connect( mRecentLog, &amp;QgsProcessingRecentAlgorithmLog::changed, <span class="keyword">this</span>, [ = ] { repopulateRecentAlgorithms(); } );</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  connect( mRegistry, &amp;<a class="code" href="classQgsProcessingRegistry.html#ac0e6a044c1665221717cdaa69c47a686">QgsProcessingRegistry::providerAdded</a>, <span class="keyword">this</span>, &amp;QgsProcessingToolboxModel::rebuild );</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  connect( mRegistry, &amp;<a class="code" href="classQgsProcessingRegistry.html#af0f77d68b4e00565ce9541f913626068">QgsProcessingRegistry::providerRemoved</a>, <span class="keyword">this</span>, &amp;QgsProcessingToolboxModel::providerRemoved );</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModel::rebuild()</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  beginResetModel();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  mRootNode-&gt;deleteChildren();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  mRecentNode = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span> ( mRecentLog )</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    std::unique_ptr&lt; QgsProcessingToolboxModelRecentNode &gt; recentNode = qgis::make_unique&lt; QgsProcessingToolboxModelRecentNode &gt;();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    mRecentNode = recentNode.get();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    mRootNode-&gt;addChildNode( recentNode.release() );</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    repopulateRecentAlgorithms( <span class="keyword">true</span> );</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> ( mRegistry )</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">const</span> QList&lt; QgsProcessingProvider * &gt; providers = mRegistry-&gt;providers();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">for</span> ( <a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *provider : providers )</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      addProvider( provider );</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  endResetModel();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModel::repopulateRecentAlgorithms( <span class="keywordtype">bool</span> resetting )</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> ( !mRecentNode || !mRecentLog )</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  QModelIndex recentIndex = <a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a>( 0, 0 );</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> prevCount = <a class="code" href="classQgsProcessingToolboxModel.html#a94a76c8639c3055cd17fa6105bb8282d">rowCount</a>( recentIndex );</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">if</span> ( !resetting &amp;&amp; prevCount &gt; 0 )</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    beginRemoveRows( recentIndex, 0, prevCount - 1 );</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    mRecentNode-&gt;deleteChildren();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    endRemoveRows();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> ( !mRegistry )</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> ( !resetting )</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      emit <a class="code" href="classQgsProcessingToolboxModel.html#a7bc8238e12215070fbf9e2c7370233cc">recentAlgorithmAdded</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keyword">const</span> QStringList recentAlgIds = mRecentLog-&gt;recentAlgorithmIds();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  QList&lt; const QgsProcessingAlgorithm * &gt; recentAlgorithms;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  recentAlgorithms.reserve( recentAlgIds.count() );</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> QString &amp;<span class="keywordtype">id</span> : recentAlgIds )</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> = mRegistry-&gt;algorithmById( <span class="keywordtype">id</span> );</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      recentAlgorithms &lt;&lt; <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> ( recentAlgorithms.empty() )</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> ( !resetting )</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      emit <a class="code" href="classQgsProcessingToolboxModel.html#a7bc8238e12215070fbf9e2c7370233cc">recentAlgorithmAdded</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> ( !resetting )</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    beginInsertRows( recentIndex, 0, recentAlgorithms.count() - 1 );</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> : qgis::as_const( recentAlgorithms ) )</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    std::unique_ptr&lt; QgsProcessingToolboxModelAlgorithmNode &gt; algorithmNode = qgis::make_unique&lt; QgsProcessingToolboxModelAlgorithmNode &gt;( <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> );</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    mRecentNode-&gt;addChildNode( algorithmNode.release() );</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> ( !resetting )</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    endInsertRows();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    emit <a class="code" href="classQgsProcessingToolboxModel.html#a7bc8238e12215070fbf9e2c7370233cc">recentAlgorithmAdded</a>();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModel::providerAdded( <span class="keyword">const</span> QString &amp;<span class="keywordtype">id</span> )</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> ( !mRegistry )</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *provider = mRegistry-&gt;providerById( <span class="keywordtype">id</span> );</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> ( !provider )</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> ( !isTopLevelProvider( <span class="keywordtype">id</span> ) )</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordtype">int</span> previousRowCount = <a class="code" href="classQgsProcessingToolboxModel.html#a94a76c8639c3055cd17fa6105bb8282d">rowCount</a>();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    beginInsertRows( QModelIndex(), previousRowCount, previousRowCount );</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    addProvider( provider );</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    endInsertRows();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// native providers use top level groups - that&#39;s too hard for us to</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// work out exactly what&#39;s going to change, so just reset the model</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    beginResetModel();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    addProvider( provider );</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    endResetModel();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModel::providerRemoved( <span class="keyword">const</span> QString &amp; )</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// native providers use top level groups - so we can&#39;t</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// work out what to remove. Just rebuild the whole model instead.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  rebuild();</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">  246</a></span>&#160;QgsProcessingToolboxModelNode *<a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">QgsProcessingToolboxModel::index2node</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> ( !index.isValid() )</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> mRootNode.get();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  QObject *obj = <span class="keyword">reinterpret_cast&lt;</span>QObject *<span class="keyword">&gt;</span>( index.internalPointer() );</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">return</span> qobject_cast&lt;QgsProcessingToolboxModelNode *&gt;( obj );</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a2de9f344e4e35d8700aae3c56ebfed9d">  255</a></span>&#160;QModelIndex <a class="code" href="classQgsProcessingToolboxModel.html#a2de9f344e4e35d8700aae3c56ebfed9d">QgsProcessingToolboxModel::node2index</a>( QgsProcessingToolboxModelNode *node )<span class="keyword"> const</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> ( !node || !node-&gt;parent() )</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> QModelIndex(); <span class="comment">// this is the only root item -&gt; invalid index</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  QModelIndex parentIndex = <a class="code" href="classQgsProcessingToolboxModel.html#a2de9f344e4e35d8700aae3c56ebfed9d">node2index</a>( node-&gt;parent() );</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">int</span> row = node-&gt;parent()-&gt;children().indexOf( node );</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  Q_ASSERT( row &gt;= 0 );</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a>( row, 0, parentIndex );</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">void</span> QgsProcessingToolboxModel::addProvider( <a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *provider )</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">if</span> ( !provider )</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  connect( provider, &amp;<a class="code" href="classQgsProcessingProvider.html#a664558d0f7f083e6b72b661f8a2e4f12">QgsProcessingProvider::algorithmsLoaded</a>, <span class="keyword">this</span>, &amp;QgsProcessingToolboxModel::rebuild, Qt::UniqueConnection );</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  QgsProcessingToolboxModelNode *parentNode = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> ( !isTopLevelProvider( provider-&gt;<a class="code" href="classQgsProcessingProvider.html#aaf82dcfa6c13b415b8f85a35859c67bf">id</a>() ) )</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    std::unique_ptr&lt; QgsProcessingToolboxModelProviderNode &gt; node = qgis::make_unique&lt; QgsProcessingToolboxModelProviderNode &gt;( provider );</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    parentNode = node.get();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    mRootNode-&gt;addChildNode( node.release() );</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    parentNode = mRootNode.get();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keyword">const</span> QList&lt; const QgsProcessingAlgorithm * &gt; algorithms = provider-&gt;<a class="code" href="classQgsProcessingProvider.html#aff41f16364f3be726b8a9fe164fad501">algorithms</a>();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> : algorithms )</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    std::unique_ptr&lt; QgsProcessingToolboxModelAlgorithmNode &gt; algorithmNode = qgis::make_unique&lt; QgsProcessingToolboxModelAlgorithmNode &gt;( <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> );</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">const</span> QString groupId = <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a2b976f38c1ff648152d7872a8b887ac2">groupId</a>();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> ( !groupId.isEmpty() )</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      QgsProcessingToolboxModelGroupNode *groupNode = parentNode-&gt;getChildGroupNode( groupId );</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">if</span> ( !groupNode )</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        groupNode = <span class="keyword">new</span> QgsProcessingToolboxModelGroupNode( <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a2b976f38c1ff648152d7872a8b887ac2">groupId</a>(), <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a258c0bbdb36fb19512226804fd948bbb">group</a>() );</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        parentNode-&gt;addChildNode( groupNode );</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      groupNode-&gt;addChildNode( algorithmNode.release() );</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="comment">// &quot;top level&quot; algorithm - no group</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      parentNode-&gt;addChildNode( algorithmNode.release() );</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">bool</span> QgsProcessingToolboxModel::isTopLevelProvider( <span class="keyword">const</span> QString &amp;providerId )</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">return</span> providerId == QLatin1String( <span class="stringliteral">&quot;qgis&quot;</span> ) ||</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         providerId == QLatin1String( <span class="stringliteral">&quot;native&quot;</span> ) ||</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         providerId == QLatin1String( <span class="stringliteral">&quot;3d&quot;</span> );</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;QString QgsProcessingToolboxModel::toolTipForAlgorithm( <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> )</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;&lt;p&gt;&lt;b&gt;%1&lt;/b&gt;&lt;/p&gt;%2&lt;p&gt;%3&lt;/p&gt;&quot;</span> ).arg(</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;           algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a7b315c390929a904a0a63cdad9d45869">displayName</a>(),</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;           !algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a5259bda1835282ab29ad6ec7b0c8df09">shortDescription</a>().isEmpty() ? QStringLiteral( <span class="stringliteral">&quot;&lt;p&gt;%1&lt;/p&gt;&quot;</span> ).arg( algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a5259bda1835282ab29ad6ec7b0c8df09">shortDescription</a>() ) : QString(),</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;           QObject::tr( <span class="stringliteral">&quot;Algorithm ID: ‘%1’&quot;</span> ).arg( QStringLiteral( <span class="stringliteral">&quot;&lt;i&gt;%1&lt;/i&gt;&quot;</span> ).arg( algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a5ca92c590bec71b303e062496dc13823">id</a>() ) )</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         );</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a55c6ee0fee820d67974cb475afe64778">  326</a></span>&#160;Qt::ItemFlags <a class="code" href="classQgsProcessingToolboxModel.html#a55c6ee0fee820d67974cb475afe64778">QgsProcessingToolboxModel::flags</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> ( !index.isValid() )</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> QAbstractItemModel::flags( index );</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#ad54eb8b2a45605e9d14cf30872e650ec">  334</a></span>&#160;QVariant <a class="code" href="classQgsProcessingToolboxModel.html#ad54eb8b2a45605e9d14cf30872e650ec">QgsProcessingToolboxModel::data</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a>, <span class="keywordtype">int</span> role )<span class="keyword"> const</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> ( !index.isValid() )</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> ( role == <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763ac6473e1610c14353a2dd06de4c05f2f0">RoleNodeType</a> )</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> ( QgsProcessingToolboxModelNode *node = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index ) )</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">return</span> node-&gt;nodeType();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordtype">bool</span> isRecentNode = <span class="keyword">false</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span> ( QgsProcessingToolboxModelNode *node = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index ) )</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    isRecentNode = node-&gt;nodeType() == QgsProcessingToolboxModelNode::NodeRecent;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *provider = <a class="code" href="classQgsProcessingToolboxModel.html#a8bcd4ad1bb0d2f1bf9f529449ac80841">providerForIndex</a>( index );</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  QgsProcessingToolboxModelGroupNode *groupNode = qobject_cast&lt; QgsProcessingToolboxModelGroupNode * &gt;( <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index ) );</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *algorithm = <a class="code" href="classQgsProcessingToolboxModel.html#add3a6b4b62646b317d6b9d4c27f7d159">algorithmForIndex</a>( index );</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">switch</span> ( role )</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">case</span> Qt::DisplayRole:</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          <span class="keywordflow">if</span> ( provider )</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">return</span> provider-&gt;<a class="code" href="classQgsProcessingProvider.html#a4f5876da84e960d2d89d70013831ce03">name</a>();</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">return</span> algorithm-&gt;displayName();</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( groupNode )</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> groupNode-&gt;name();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( isRecentNode )</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">return</span> tr( <span class="stringliteral">&quot;Recently used&quot;</span> );</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">case</span> Qt::ToolTipRole:</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> ( provider )</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">return</span> provider-&gt;<a class="code" href="classQgsProcessingProvider.html#ae6e23a879b11fb4d04eaacb6158df99c">longName</a>();</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">return</span> toolTipForAlgorithm( algorithm );</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( groupNode )</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">return</span> groupNode-&gt;name();</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">case</span> Qt::DecorationRole:</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          <span class="keywordflow">if</span> ( provider )</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">return</span> provider-&gt;<a class="code" href="classQgsProcessingProvider.html#a06a73138eddb9e503fd4540dd4793bc1">icon</a>();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">return</span> algorithm-&gt;icon();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( isRecentNode )</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQgsApplication.html#afe2f6b9ced1b37bbf67ba0a189b24093">QgsApplication::getThemeIcon</a>( QStringLiteral( <span class="stringliteral">&quot;/mIconHistory.svg&quot;</span> ) );</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !index.parent().isValid() )</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="comment">// top level groups get the QGIS icon</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQgsApplication.html#afe2f6b9ced1b37bbf67ba0a189b24093">QgsApplication::getThemeIcon</a>( QStringLiteral( <span class="stringliteral">&quot;/providerQgis.svg&quot;</span> ) );</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763aa4542f4924aa34c45c9e7e15a70e80d2">RoleAlgorithmFlags</a>:</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( algorithm-&gt;flags() );</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a742960a846838bf9fce6a837f5dbbac9">RoleAlgorithmId</a>:</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;          <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">return</span> algorithm-&gt;id();</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763af2762adb4e88274a9c7b3ce7a93e84e4">RoleAlgorithmName</a>:</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">return</span> algorithm-&gt;name();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a18ab0d9ce74a3ed549220e4d6e0d6faf">RoleAlgorithmTags</a>:</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;          <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">return</span> algorithm-&gt;tags();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a170ab39921345f8318ee9033b88e9be2">RoleAlgorithmShortDescription</a>:</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">switch</span> ( index.column() )</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">return</span> algorithm-&gt;shortDescription();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;          <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">return</span> QVariant();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a94a76c8639c3055cd17fa6105bb8282d">  501</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsProcessingToolboxModel.html#a94a76c8639c3055cd17fa6105bb8282d">QgsProcessingToolboxModel::rowCount</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">parent</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( parent );</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> ( !n )</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">return</span> n-&gt;children().count();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a04a54733e6886e79dfe38d236d0cca7f">  510</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsProcessingToolboxModel.html#a04a54733e6886e79dfe38d236d0cca7f">QgsProcessingToolboxModel::columnCount</a>( <span class="keyword">const</span> QModelIndex &amp; )<span class="keyword"> const</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">  515</a></span>&#160;QModelIndex <a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">QgsProcessingToolboxModel::index</a>( <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> column, <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">parent</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> ( !hasIndex( row, column, parent ) )</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> QModelIndex();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( parent );</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">if</span> ( !n )</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> QModelIndex(); <span class="comment">// have no children</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">return</span> createIndex( row, column, static_cast&lt;QObject *&gt;( n-&gt;children().at( row ) ) );</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">  527</a></span>&#160;QModelIndex <a class="code" href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">QgsProcessingToolboxModel::parent</a>( <span class="keyword">const</span> QModelIndex &amp;child )<span class="keyword"> const</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> ( !child.isValid() )</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> QModelIndex();</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">if</span> ( QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( child ) )</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQgsProcessingToolboxModel.html#a55bdeec6087e7c1e3bc27039383ce38f">indexOfParentTreeNode</a>( n-&gt;parent() ); <span class="comment">// must not be null</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    Q_ASSERT( <span class="keyword">false</span> ); <span class="comment">// no other node types!</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> QModelIndex();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#ae26f1c6bcdf9877921e804bd4d8119da">  543</a></span>&#160;QMimeData *<a class="code" href="classQgsProcessingToolboxModel.html#ae26f1c6bcdf9877921e804bd4d8119da">QgsProcessingToolboxModel::mimeData</a>( <span class="keyword">const</span> QModelIndexList &amp;indexes )<span class="keyword"> const</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">if</span> ( !indexes.isEmpty() &amp;&amp; <a class="code" href="classQgsProcessingToolboxModel.html#a795079454dc2349c9a08d0bea923b896">isAlgorithm</a>( indexes.at( 0 ) ) )</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    QByteArray encodedData;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    QDataStream stream( &amp;encodedData, QIODevice::WriteOnly | QIODevice::Truncate );</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    std::unique_ptr&lt; QMimeData &gt; <a class="code" href="classQgsProcessingToolboxModel.html#ae26f1c6bcdf9877921e804bd4d8119da">mimeData</a> = qgis::make_unique&lt; QMimeData &gt;();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *algorithm = <a class="code" href="classQgsProcessingToolboxModel.html#add3a6b4b62646b317d6b9d4c27f7d159">algorithmForIndex</a>( indexes.at( 0 ) );</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> ( algorithm )</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      stream &lt;&lt; algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a5ca92c590bec71b303e062496dc13823">id</a>();</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    mimeData-&gt;setData( QStringLiteral( <span class="stringliteral">&quot;application/x-vnd.qgis.qgis.algorithmid&quot;</span> ), encodedData );</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span> mimeData.release();</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a8bcd4ad1bb0d2f1bf9f529449ac80841">  562</a></span>&#160;<a class="code" href="classQgsProcessingProvider.html">QgsProcessingProvider</a> *<a class="code" href="classQgsProcessingToolboxModel.html#a8bcd4ad1bb0d2f1bf9f529449ac80841">QgsProcessingToolboxModel::providerForIndex</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index );</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> ( !n || n-&gt;nodeType() != QgsProcessingToolboxModelNode::NodeProvider )</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">return</span> qobject_cast&lt; QgsProcessingToolboxModelProviderNode * &gt;( n )-&gt;provider();</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a67e5fdca4fe5b5a9dedb3afed1b1c01f">  571</a></span>&#160;QString <a class="code" href="classQgsProcessingToolboxModel.html#a67e5fdca4fe5b5a9dedb3afed1b1c01f">QgsProcessingToolboxModel::providerIdForIndex</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index );</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">if</span> ( !n || n-&gt;nodeType() != QgsProcessingToolboxModelNode::NodeProvider )</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">return</span> qobject_cast&lt; QgsProcessingToolboxModelProviderNode * &gt;( n )-&gt;providerId();</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#add3a6b4b62646b317d6b9d4c27f7d159">  580</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="classQgsProcessingToolboxModel.html#add3a6b4b62646b317d6b9d4c27f7d159">QgsProcessingToolboxModel::algorithmForIndex</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index );</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span> ( !n || n-&gt;nodeType() != QgsProcessingToolboxModelNode::NodeAlgorithm )</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">return</span> qobject_cast&lt; QgsProcessingToolboxModelAlgorithmNode * &gt;( n )-&gt;<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a795079454dc2349c9a08d0bea923b896">  589</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsProcessingToolboxModel.html#a795079454dc2349c9a08d0bea923b896">QgsProcessingToolboxModel::isAlgorithm</a>( <span class="keyword">const</span> QModelIndex &amp;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  QgsProcessingToolboxModelNode *n = <a class="code" href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">index2node</a>( index );</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">return</span> ( n &amp;&amp; n-&gt;nodeType() == QgsProcessingToolboxModelNode::NodeAlgorithm );</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a22dea07469f85bd690ea8f25cacb830e">  595</a></span>&#160;QModelIndex <a class="code" href="classQgsProcessingToolboxModel.html#a22dea07469f85bd690ea8f25cacb830e">QgsProcessingToolboxModel::indexForProvider</a>( <span class="keyword">const</span> QString &amp;providerId )<span class="keyword"> const</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  std::function&lt; QModelIndex( const QModelIndex &amp;parent, const QString &amp;providerId ) &gt; findIndex = [&amp;]( <span class="keyword">const</span> QModelIndex &amp; <a class="code" href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">parent</a>, <span class="keyword">const</span> QString &amp; providerId )-&gt;QModelIndex</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> row = 0; row &lt; <a class="code" href="classQgsProcessingToolboxModel.html#a94a76c8639c3055cd17fa6105bb8282d">rowCount</a>( parent ); ++row )</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      QModelIndex current = <a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a>( row, 0, parent );</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keyword">const</span> QString currentProviderId = <a class="code" href="classQgsProcessingToolboxModel.html#a67e5fdca4fe5b5a9dedb3afed1b1c01f">providerIdForIndex</a>( current );</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">if</span> ( !currentProviderId.isEmpty() &amp;&amp; currentProviderId == providerId )</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> current;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      QModelIndex checkChildren = findIndex( current, providerId );</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">if</span> ( checkChildren.isValid() )</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">return</span> checkChildren;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> QModelIndex();</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  };</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">return</span> findIndex( QModelIndex(), providerId );</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxModel.html#a55bdeec6087e7c1e3bc27039383ce38f">  616</a></span>&#160;QModelIndex <a class="code" href="classQgsProcessingToolboxModel.html#a55bdeec6087e7c1e3bc27039383ce38f">QgsProcessingToolboxModel::indexOfParentTreeNode</a>( QgsProcessingToolboxModelNode *parentNode )<span class="keyword"> const</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  Q_ASSERT( parentNode );</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  QgsProcessingToolboxModelNode *grandParentNode = parentNode-&gt;parent();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span> ( !grandParentNode )</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> QModelIndex();  <span class="comment">// root node -&gt; invalid index</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordtype">int</span> row = grandParentNode-&gt;children().indexOf( parentNode );</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  Q_ASSERT( row &gt;= 0 );</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">return</span> createIndex( row, 0, static_cast&lt;QObject *&gt;( parentNode ) );</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">// QgsProcessingToolboxProxyModel</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#aefe4a47a109dfc0a32b4d3f01eb9850b">  634</a></span>&#160;<a class="code" href="classQgsProcessingToolboxProxyModel.html#aefe4a47a109dfc0a32b4d3f01eb9850b">QgsProcessingToolboxProxyModel::QgsProcessingToolboxProxyModel</a>( QObject *<a class="code" href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">parent</a>, <a class="code" href="classQgsProcessingRegistry.html">QgsProcessingRegistry</a> *registry,</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    QgsProcessingRecentAlgorithmLog *recentLog )</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  : QSortFilterProxyModel( parent )</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  , mModel( new <a class="code" href="classQgsProcessingToolboxModel.html">QgsProcessingToolboxModel</a>( this, registry, recentLog ) )</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;{</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  setSourceModel( mModel );</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  setDynamicSortFilter( <span class="keyword">true</span> );</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  setSortLocaleAware( <span class="keyword">true</span> );</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  setFilterCaseSensitivity( Qt::CaseInsensitive );</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  sort( 0 );</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  connect( mModel, &amp;<a class="code" href="classQgsProcessingToolboxModel.html#a7bc8238e12215070fbf9e2c7370233cc">QgsProcessingToolboxModel::recentAlgorithmAdded</a>, <span class="keyword">this</span>, [ = ] { invalidateFilter(); } );</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#ad9333fd8c689566438ddb8fcf7f93a82">  648</a></span>&#160;<a class="code" href="classQgsProcessingToolboxModel.html">QgsProcessingToolboxModel</a> *<a class="code" href="classQgsProcessingToolboxProxyModel.html#ad9333fd8c689566438ddb8fcf7f93a82">QgsProcessingToolboxProxyModel::toolboxModel</a>()</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">return</span> mModel;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#a4901ce451275602f709e7f99cf981534">  653</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsProcessingToolboxProxyModel.html#a4901ce451275602f709e7f99cf981534">QgsProcessingToolboxProxyModel::setFilters</a>( QgsProcessingToolboxProxyModel::Filters <a class="code" href="classQgsProcessingToolboxProxyModel.html#a08f0e8426bcf75efad28dc5bbfa6b2eb">filters</a> )</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  mFilters = <a class="code" href="classQgsProcessingToolboxProxyModel.html#a08f0e8426bcf75efad28dc5bbfa6b2eb">filters</a>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  invalidateFilter();</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#ac551cc73f4e48697bd8466fb6e10783b">  659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsProcessingToolboxProxyModel.html#ac551cc73f4e48697bd8466fb6e10783b">QgsProcessingToolboxProxyModel::setInPlaceLayer</a>( <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer )</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  mInPlaceLayer = layer;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  invalidateFilter();</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#a561a67a9260ccbfb88dd3d040797f6f2">  666</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsProcessingToolboxProxyModel.html#a561a67a9260ccbfb88dd3d040797f6f2">QgsProcessingToolboxProxyModel::setFilterString</a>( <span class="keyword">const</span> QString &amp;filter )</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  mFilterString = filter;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  invalidateFilter();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#ad352de2bcfe42ccd721ec7ab830fa20b">  672</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsProcessingToolboxProxyModel.html#ad352de2bcfe42ccd721ec7ab830fa20b">QgsProcessingToolboxProxyModel::filterAcceptsRow</a>( <span class="keywordtype">int</span> sourceRow, <span class="keyword">const</span> QModelIndex &amp;sourceParent )<span class="keyword"> const</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  QModelIndex sourceIndex = mModel-&gt;<a class="code" href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">index</a>( sourceRow, 0, sourceParent );</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span> ( mModel-&gt;<a class="code" href="classQgsProcessingToolboxModel.html#a795079454dc2349c9a08d0bea923b896">isAlgorithm</a>( sourceIndex ) )</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> ( !mFilterString.trimmed().isEmpty() )</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keyword">const</span> QString algId = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a742960a846838bf9fce6a837f5dbbac9">QgsProcessingToolboxModel::RoleAlgorithmId</a> ).toString();</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keyword">const</span> QString algName = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763af2762adb4e88274a9c7b3ce7a93e84e4">QgsProcessingToolboxModel::RoleAlgorithmName</a> ).toString();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keyword">const</span> QStringList algTags = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a18ab0d9ce74a3ed549220e4d6e0d6faf">QgsProcessingToolboxModel::RoleAlgorithmTags</a> ).toStringList();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keyword">const</span> QString shortDesc = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a170ab39921345f8318ee9033b88e9be2">QgsProcessingToolboxModel::RoleAlgorithmShortDescription</a> ).toString();</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      QStringList parentText;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      QModelIndex parent = sourceIndex.parent();</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">while</span> ( parent.isValid() )</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keyword">const</span> QStringList parentParts = sourceModel()-&gt;data( parent, Qt::DisplayRole ).toString().split( <span class="charliteral">&#39; &#39;</span> );</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">if</span> ( !parentParts.empty() )</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          parentText.append( parentParts );</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        parent = parent.parent();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keyword">const</span> QStringList partsToMatch = mFilterString.trimmed().split( <span class="charliteral">&#39; &#39;</span> );</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      QStringList partsToSearch = sourceModel()-&gt;data( sourceIndex, Qt::DisplayRole ).toString().split( <span class="charliteral">&#39; &#39;</span> );</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      partsToSearch &lt;&lt; algId &lt;&lt; algName;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      partsToSearch.append( algTags );</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">if</span> ( !shortDesc.isEmpty() )</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        partsToSearch.append( shortDesc.split( <span class="charliteral">&#39; &#39;</span> ) );</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      partsToSearch.append( parentText );</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">for</span> ( <span class="keyword">const</span> QString &amp;part : partsToMatch )</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">for</span> ( <span class="keyword">const</span> QString &amp;partToSearch : qgis::as_const( partsToSearch ) )</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          <span class="keywordflow">if</span> ( partToSearch.contains( part, Qt::CaseInsensitive ) )</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;          {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            found = <span class="keyword">true</span>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> ( !found )</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// couldn&#39;t find a match for this word, so hide algorithm</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span> ( mFilters &amp; <a class="code" href="classQgsProcessingToolboxProxyModel.html#aa48cb6d7ed9dc10d9810a175eff25354aba0ed919019e22caa8131eda96f4d579">FilterInPlace</a> )</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> supportsInPlace = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763aa4542f4924aa34c45c9e7e15a70e80d2">QgsProcessingToolboxModel::RoleAlgorithmFlags</a> ).toInt() &amp; <a class="code" href="classQgsProcessingAlgorithm.html#a6a8c21fab75e03f50f45e41a9d67dbc3a344d854c1895f74972c28602980da674">QgsProcessingAlgorithm::FlagSupportsInPlaceEdits</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">if</span> ( !supportsInPlace )</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *alg = mModel-&gt;<a class="code" href="classQgsProcessingToolboxModel.html#add3a6b4b62646b317d6b9d4c27f7d159">algorithmForIndex</a>( sourceIndex );</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">if</span> ( !( mInPlaceLayer &amp;&amp; alg &amp;&amp; alg-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#ad5da49d627f0e467f7147ace4bfa7254">supportInPlaceEdit</a>( mInPlaceLayer ) ) )</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> ( mFilters &amp; <a class="code" href="classQgsProcessingToolboxProxyModel.html#aa48cb6d7ed9dc10d9810a175eff25354aa7eab0d7d90fa4d8a7dab466b5a7d13f">FilterModeler</a> )</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordtype">bool</span> isHiddenFromModeler = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763aa4542f4924aa34c45c9e7e15a70e80d2">QgsProcessingToolboxModel::RoleAlgorithmFlags</a> ).toInt() &amp; <a class="code" href="classQgsProcessingAlgorithm.html#a6a8c21fab75e03f50f45e41a9d67dbc3a80148880fad1e4e0d3613f243497de5b">QgsProcessingAlgorithm::FlagHideFromModeler</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">return</span> !isHiddenFromModeler;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> ( mFilters &amp; <a class="code" href="classQgsProcessingToolboxProxyModel.html#aa48cb6d7ed9dc10d9810a175eff25354a3967847791a52d8a2871bffde0057dd5">FilterToolbox</a> )</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="keywordtype">bool</span> isHiddenFromToolbox = sourceModel()-&gt;data( sourceIndex, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763aa4542f4924aa34c45c9e7e15a70e80d2">QgsProcessingToolboxModel::RoleAlgorithmFlags</a> ).toInt() &amp; <a class="code" href="classQgsProcessingAlgorithm.html#a6a8c21fab75e03f50f45e41a9d67dbc3a62f2a83f05f962a56b928c23d899962d">QgsProcessingAlgorithm::FlagHideFromToolbox</a>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">return</span> !isHiddenFromToolbox;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordtype">bool</span> hasChildren = <span class="keyword">false</span>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// groups/providers are shown only if they have visible children</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordtype">int</span> count = sourceModel()-&gt;rowCount( sourceIndex );</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; count; ++i )</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsProcessingToolboxProxyModel.html#ad352de2bcfe42ccd721ec7ab830fa20b">filterAcceptsRow</a>( i, sourceIndex ) )</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      hasChildren = <span class="keyword">true</span>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">return</span> hasChildren;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="classQgsProcessingToolboxProxyModel.html#a44434b8ddda7aa171e47af36dffce984">  759</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsProcessingToolboxProxyModel.html#a44434b8ddda7aa171e47af36dffce984">QgsProcessingToolboxProxyModel::lessThan</a>( <span class="keyword">const</span> QModelIndex &amp;left, <span class="keyword">const</span> QModelIndex &amp;right )<span class="keyword"> const</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  QgsProcessingToolboxModelNode::NodeType leftType = <span class="keyword">static_cast&lt;</span> QgsProcessingToolboxModelNode::NodeType <span class="keyword">&gt;</span>( sourceModel()-&gt;data( left, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763ac6473e1610c14353a2dd06de4c05f2f0">QgsProcessingToolboxModel::RoleNodeType</a> ).toInt() );</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  QgsProcessingToolboxModelNode::NodeType rightType = <span class="keyword">static_cast&lt;</span> QgsProcessingToolboxModelNode::NodeType <span class="keyword">&gt;</span>( sourceModel()-&gt;data( right, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763ac6473e1610c14353a2dd06de4c05f2f0">QgsProcessingToolboxModel::RoleNodeType</a> ).toInt() );</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> ( leftType == QgsProcessingToolboxModelNode::NodeRecent )</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( rightType == QgsProcessingToolboxModelNode::NodeRecent )</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( leftType != rightType )</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> ( leftType == QgsProcessingToolboxModelNode::NodeProvider )</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( rightType == QgsProcessingToolboxModelNode::NodeProvider )</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( leftType == QgsProcessingToolboxModelNode::NodeGroup )</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// if node represents a recent algorithm, it&#39;s not sorted at all</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordtype">bool</span> isRecentNode = <span class="keyword">false</span>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  QModelIndex parent = left.parent();</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">while</span> ( parent.isValid() )</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> ( mModel-&gt;<a class="code" href="classQgsProcessingToolboxModel.html#ad54eb8b2a45605e9d14cf30872e650ec">data</a>( parent, <a class="code" href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763ac6473e1610c14353a2dd06de4c05f2f0">QgsProcessingToolboxModel::RoleNodeType</a> ).toInt() == QgsProcessingToolboxModelNode::NodeRecent )</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      isRecentNode = <span class="keyword">true</span>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    parent = parent.parent();</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">if</span> ( isRecentNode )</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">return</span> left.row() &lt; right.row();</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// default mode is alphabetical order</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  QString leftStr = sourceModel()-&gt;data( left ).toString();</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  QString rightStr = sourceModel()-&gt;data( right ).toString();</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordflow">return</span> QString::localeAwareCompare( leftStr, rightStr ) &lt; 0;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="ttc" id="classQgsProcessingAlgorithm_html_a6a8c21fab75e03f50f45e41a9d67dbc3a62f2a83f05f962a56b928c23d899962d"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a6a8c21fab75e03f50f45e41a9d67dbc3a62f2a83f05f962a56b928c23d899962d">QgsProcessingAlgorithm::FlagHideFromToolbox</a></div><div class="ttdoc">Algorithm should be hidden from the toolbox. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00069">qgsprocessingalgorithm.h:69</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aefe2a0589104e882336821a3e41d5763a742960a846838bf9fce6a837f5dbbac9"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a742960a846838bf9fce6a837f5dbbac9">QgsProcessingToolboxModel::RoleAlgorithmId</a></div><div class="ttdoc">Algorithm ID, for algorithm nodes. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00285">qgsprocessingtoolboxmodel.h:285</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a5ca92c590bec71b303e062496dc13823"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a5ca92c590bec71b303e062496dc13823">QgsProcessingAlgorithm::id</a></div><div class="ttdeci">QString id() const</div><div class="ttdoc">Returns the unique ID for the algorithm, which is a combination of the algorithm provider&amp;#39;s ID and th...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8cpp_source.html#l00045">qgsprocessingalgorithm.cpp:45</a></div></div>
<div class="ttc" id="classQgsApplication_html"><div class="ttname"><a href="classQgsApplication.html">QgsApplication</a></div><div class="ttdoc">Extends QApplication to provide access to QGIS specific resources such as theme paths, database paths etc. </div><div class="ttdef"><b>Definition:</b> <a href="qgsapplication_8h_source.html#l00068">qgsapplication.h:68</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_aa48cb6d7ed9dc10d9810a175eff25354aa7eab0d7d90fa4d8a7dab466b5a7d13f"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#aa48cb6d7ed9dc10d9810a175eff25354aa7eab0d7d90fa4d8a7dab466b5a7d13f">QgsProcessingToolboxProxyModel::FilterModeler</a></div><div class="ttdoc">Filters out any algorithms and content which should not be shown in the modeler. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00426">qgsprocessingtoolboxmodel.h:426</a></div></div>
<div class="ttc" id="classQgsProcessingRegistry_html_ac0e6a044c1665221717cdaa69c47a686"><div class="ttname"><a href="classQgsProcessingRegistry.html#ac0e6a044c1665221717cdaa69c47a686">QgsProcessingRegistry::providerAdded</a></div><div class="ttdeci">void providerAdded(const QString &amp;id)</div><div class="ttdoc">Emitted when a provider has been added to the registry. </div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_ad352de2bcfe42ccd721ec7ab830fa20b"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#ad352de2bcfe42ccd721ec7ab830fa20b">QgsProcessingToolboxProxyModel::filterAcceptsRow</a></div><div class="ttdeci">bool filterAcceptsRow(int sourceRow, const QModelIndex &amp;sourceParent) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00672">qgsprocessingtoolboxmodel.cpp:672</a></div></div>
<div class="ttc" id="classQgsProcessingProvider_html_a4f5876da84e960d2d89d70013831ce03"><div class="ttname"><a href="classQgsProcessingProvider.html#a4f5876da84e960d2d89d70013831ce03">QgsProcessingProvider::name</a></div><div class="ttdeci">virtual QString name() const =0</div><div class="ttdoc">Returns the provider name, which is used to describe the provider within the GUI. ...</div></div>
<div class="ttc" id="classQgsProcessingProvider_html_aff41f16364f3be726b8a9fe164fad501"><div class="ttname"><a href="classQgsProcessingProvider.html#aff41f16364f3be726b8a9fe164fad501">QgsProcessingProvider::algorithms</a></div><div class="ttdeci">QList&lt; const QgsProcessingAlgorithm *&gt; algorithms() const</div><div class="ttdoc">Returns a list of algorithms supplied by this provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingprovider_8cpp_source.html#l00070">qgsprocessingprovider.cpp:70</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_add3a6b4b62646b317d6b9d4c27f7d159"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#add3a6b4b62646b317d6b9d4c27f7d159">QgsProcessingToolboxModel::algorithmForIndex</a></div><div class="ttdeci">const QgsProcessingAlgorithm * algorithmForIndex(const QModelIndex &amp;index) const</div><div class="ttdoc">Returns the algorithm which corresponds to a given index, or a nullptr if the index does not represen...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00580">qgsprocessingtoolboxmodel.cpp:580</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a258c0bbdb36fb19512226804fd948bbb"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a258c0bbdb36fb19512226804fd948bbb">QgsProcessingAlgorithm::group</a></div><div class="ttdeci">virtual QString group() const</div><div class="ttdoc">Returns the name of the group this algorithm belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00214">qgsprocessingalgorithm.h:214</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_a08f0e8426bcf75efad28dc5bbfa6b2eb"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#a08f0e8426bcf75efad28dc5bbfa6b2eb">QgsProcessingToolboxProxyModel::filters</a></div><div class="ttdeci">Filters filters() const</div><div class="ttdoc">Returns any filters that affect how toolbox content is filtered. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00462">qgsprocessingtoolboxmodel.h:462</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_a44434b8ddda7aa171e47af36dffce984"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#a44434b8ddda7aa171e47af36dffce984">QgsProcessingToolboxProxyModel::lessThan</a></div><div class="ttdeci">bool lessThan(const QModelIndex &amp;left, const QModelIndex &amp;right) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00759">qgsprocessingtoolboxmodel.cpp:759</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a04a54733e6886e79dfe38d236d0cca7f"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a04a54733e6886e79dfe38d236d0cca7f">QgsProcessingToolboxModel::columnCount</a></div><div class="ttdeci">int columnCount(const QModelIndex &amp;=QModelIndex()) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00510">qgsprocessingtoolboxmodel.cpp:510</a></div></div>
<div class="ttc" id="classQgsApplication_html_afe2f6b9ced1b37bbf67ba0a189b24093"><div class="ttname"><a href="classQgsApplication.html#afe2f6b9ced1b37bbf67ba0a189b24093">QgsApplication::getThemeIcon</a></div><div class="ttdeci">static QIcon getThemeIcon(const QString &amp;name)</div><div class="ttdoc">Helper to get a theme icon. </div><div class="ttdef"><b>Definition:</b> <a href="qgsapplication_8cpp_source.html#l00514">qgsapplication.cpp:514</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aca76ba1486363bfda8ba0cc1add34b38"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aca76ba1486363bfda8ba0cc1add34b38">QgsProcessingToolboxModel::parent</a></div><div class="ttdeci">QModelIndex parent(const QModelIndex &amp;index) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00527">qgsprocessingtoolboxmodel.cpp:527</a></div></div>
<div class="ttc" id="classQgsProcessingProvider_html"><div class="ttname"><a href="classQgsProcessingProvider.html">QgsProcessingProvider</a></div><div class="ttdoc">Abstract base class for processing providers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingprovider_8h_source.html#l00034">qgsprocessingprovider.h:34</a></div></div>
<div class="ttc" id="qgsprocessingrecentalgorithmlog_8h_html"><div class="ttname"><a href="qgsprocessingrecentalgorithmlog_8h.html">qgsprocessingrecentalgorithmlog.h</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a0919b2c0a26179fae79a7c4958c97d1b"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a0919b2c0a26179fae79a7c4958c97d1b">QgsProcessingToolboxModel::QgsProcessingToolboxModel</a></div><div class="ttdeci">QgsProcessingToolboxModel(QObject *parent=nullptr, QgsProcessingRegistry *registry=nullptr, QgsProcessingRecentAlgorithmLog *recentLog=nullptr)</div><div class="ttdoc">Constructor for QgsProcessingToolboxModel, with the given parent object. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00116">qgsprocessingtoolboxmodel.cpp:116</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html"><div class="ttname"><a href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a></div><div class="ttdoc">Abstract base class for processing algorithms. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00050">qgsprocessingalgorithm.h:50</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aefe2a0589104e882336821a3e41d5763af2762adb4e88274a9c7b3ce7a93e84e4"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763af2762adb4e88274a9c7b3ce7a93e84e4">QgsProcessingToolboxModel::RoleAlgorithmName</a></div><div class="ttdoc">Untranslated algorithm name, for algorithm nodes. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00286">qgsprocessingtoolboxmodel.h:286</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_aefe4a47a109dfc0a32b4d3f01eb9850b"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#aefe4a47a109dfc0a32b4d3f01eb9850b">QgsProcessingToolboxProxyModel::QgsProcessingToolboxProxyModel</a></div><div class="ttdeci">QgsProcessingToolboxProxyModel(QObject *parent=nullptr, QgsProcessingRegistry *registry=nullptr, QgsProcessingRecentAlgorithmLog *recentLog=nullptr)</div><div class="ttdoc">Constructor for QgsProcessingToolboxProxyModel, with the given parent object. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00634">qgsprocessingtoolboxmodel.cpp:634</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_ad5da49d627f0e467f7147ace4bfa7254"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#ad5da49d627f0e467f7147ace4bfa7254">QgsProcessingAlgorithm::supportInPlaceEdit</a></div><div class="ttdeci">virtual bool supportInPlaceEdit(const QgsMapLayer *layer) const</div><div class="ttdoc">Checks whether this algorithm supports in-place editing on the given layer Default implementation ret...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8cpp_source.html#l00765">qgsprocessingalgorithm.cpp:765</a></div></div>
<div class="ttc" id="classQgsProcessingRegistry_html_af0f77d68b4e00565ce9541f913626068"><div class="ttname"><a href="classQgsProcessingRegistry.html#af0f77d68b4e00565ce9541f913626068">QgsProcessingRegistry::providerRemoved</a></div><div class="ttdeci">void providerRemoved(const QString &amp;id)</div><div class="ttdoc">Emitted when a provider is removed from the registry. </div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a6bbf0f3de7e27e7020e04c7c2371f00e"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a6bbf0f3de7e27e7020e04c7c2371f00e">QgsProcessingToolboxModel::index2node</a></div><div class="ttdeci">QgsProcessingToolboxModelNode * index2node(const QModelIndex &amp;index) const</div><div class="ttdoc">Returns the model node corresponding to the given index. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00246">qgsprocessingtoolboxmodel.cpp:246</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aefe2a0589104e882336821a3e41d5763aa4542f4924aa34c45c9e7e15a70e80d2"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763aa4542f4924aa34c45c9e7e15a70e80d2">QgsProcessingToolboxModel::RoleAlgorithmFlags</a></div><div class="ttdoc">Returns the node&amp;#39;s algorithm flags, for algorithm nodes. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00284">qgsprocessingtoolboxmodel.h:284</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a22dea07469f85bd690ea8f25cacb830e"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a22dea07469f85bd690ea8f25cacb830e">QgsProcessingToolboxModel::indexForProvider</a></div><div class="ttdeci">QModelIndex indexForProvider(const QString &amp;providerId) const</div><div class="ttdoc">Returns the index corresponding to the specified providerId. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00595">qgsprocessingtoolboxmodel.cpp:595</a></div></div>
<div class="ttc" id="classQgsProcessingProvider_html_aaf82dcfa6c13b415b8f85a35859c67bf"><div class="ttname"><a href="classQgsProcessingProvider.html#aaf82dcfa6c13b415b8f85a35859c67bf">QgsProcessingProvider::id</a></div><div class="ttdeci">virtual QString id() const =0</div><div class="ttdoc">Returns the unique provider id, used for identifying the provider. </div></div>
<div class="ttc" id="qgsprocessingregistry_8h_html"><div class="ttname"><a href="qgsprocessingregistry_8h.html">qgsprocessingregistry.h</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a2de9f344e4e35d8700aae3c56ebfed9d"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a2de9f344e4e35d8700aae3c56ebfed9d">QgsProcessingToolboxModel::node2index</a></div><div class="ttdeci">QModelIndex node2index(QgsProcessingToolboxModelNode *node) const</div><div class="ttdoc">Returns the model index corresponding to the given node. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00255">qgsprocessingtoolboxmodel.cpp:255</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aefe2a0589104e882336821a3e41d5763ac6473e1610c14353a2dd06de4c05f2f0"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763ac6473e1610c14353a2dd06de4c05f2f0">QgsProcessingToolboxModel::RoleNodeType</a></div><div class="ttdoc">Corresponds to the node&amp;#39;s type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00283">qgsprocessingtoolboxmodel.h:283</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_ad54eb8b2a45605e9d14cf30872e650ec"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#ad54eb8b2a45605e9d14cf30872e650ec">QgsProcessingToolboxModel::data</a></div><div class="ttdeci">QVariant data(const QModelIndex &amp;index, int role=Qt::DisplayRole) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00334">qgsprocessingtoolboxmodel.cpp:334</a></div></div>
<div class="ttc" id="qgsapplication_8h_html"><div class="ttname"><a href="qgsapplication_8h.html">qgsapplication.h</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a6a8c21fab75e03f50f45e41a9d67dbc3a80148880fad1e4e0d3613f243497de5b"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a6a8c21fab75e03f50f45e41a9d67dbc3a80148880fad1e4e0d3613f243497de5b">QgsProcessingAlgorithm::FlagHideFromModeler</a></div><div class="ttdoc">Algorithm should be hidden from the modeler. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00070">qgsprocessingalgorithm.h:70</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a55c6ee0fee820d67974cb475afe64778"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a55c6ee0fee820d67974cb475afe64778">QgsProcessingToolboxModel::flags</a></div><div class="ttdeci">Qt::ItemFlags flags(const QModelIndex &amp;index) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00326">qgsprocessingtoolboxmodel.cpp:326</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_a4901ce451275602f709e7f99cf981534"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#a4901ce451275602f709e7f99cf981534">QgsProcessingToolboxProxyModel::setFilters</a></div><div class="ttdeci">void setFilters(QgsProcessingToolboxProxyModel::Filters filters)</div><div class="ttdoc">Set filters that affect how toolbox content is filtered. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00653">qgsprocessingtoolboxmodel.cpp:653</a></div></div>
<div class="ttc" id="porting__processing_8dox_html_a2363590aeaf7c1e254a233e7d840ae29"><div class="ttname"><a href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a></div><div class="ttdeci">As part of the API refactoring and improvements which landed in the Processing API was substantially reworked from the x version This was done in order to allow much of the underlying Processing framework to be ported into allowing algorithms to be written in pure substantial changes are required in order to port existing x Processing algorithms for QGIS x The most significant changes are outlined not GeoAlgorithm For algorithms which operate on features one by consider subclassing the QgsProcessingFeatureBasedAlgorithm class This class allows much of the boilerplate code for looping over features from a vector layer to be bypassed and instead requires implementation of a processFeature method Ensure that your algorithm(or algorithm 's parent class) implements the new pure virtual createInstance(self) call</div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html"><div class="ttname"><a href="classQgsProcessingToolboxModel.html">QgsProcessingToolboxModel</a></div><div class="ttdoc">A model for providers and algorithms shown within the Processing toolbox. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00274">qgsprocessingtoolboxmodel.h:274</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a795079454dc2349c9a08d0bea923b896"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a795079454dc2349c9a08d0bea923b896">QgsProcessingToolboxModel::isAlgorithm</a></div><div class="ttdeci">bool isAlgorithm(const QModelIndex &amp;index) const</div><div class="ttdoc">Returns true if index corresponds to an algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00589">qgsprocessingtoolboxmodel.cpp:589</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_ae26f1c6bcdf9877921e804bd4d8119da"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#ae26f1c6bcdf9877921e804bd4d8119da">QgsProcessingToolboxModel::mimeData</a></div><div class="ttdeci">QMimeData * mimeData(const QModelIndexList &amp;indexes) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00543">qgsprocessingtoolboxmodel.cpp:543</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_ac551cc73f4e48697bd8466fb6e10783b"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#ac551cc73f4e48697bd8466fb6e10783b">QgsProcessingToolboxProxyModel::setInPlaceLayer</a></div><div class="ttdeci">void setInPlaceLayer(QgsVectorLayer *layer)</div><div class="ttdoc">Sets the vector layer for in-place algorithm filter. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00659">qgsprocessingtoolboxmodel.cpp:659</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a6a8c21fab75e03f50f45e41a9d67dbc3a344d854c1895f74972c28602980da674"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a6a8c21fab75e03f50f45e41a9d67dbc3a344d854c1895f74972c28602980da674">QgsProcessingAlgorithm::FlagSupportsInPlaceEdits</a></div><div class="ttdoc">Algorithm supports in-place editing. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00076">qgsprocessingalgorithm.h:76</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a55bdeec6087e7c1e3bc27039383ce38f"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a55bdeec6087e7c1e3bc27039383ce38f">QgsProcessingToolboxModel::indexOfParentTreeNode</a></div><div class="ttdeci">QModelIndex indexOfParentTreeNode(QgsProcessingToolboxModelNode *parentNode) const</div><div class="ttdoc">Returns the index corresponding to the parent of a given node. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00616">qgsprocessingtoolboxmodel.cpp:616</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aefe2a0589104e882336821a3e41d5763a170ab39921345f8318ee9033b88e9be2"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a170ab39921345f8318ee9033b88e9be2">QgsProcessingToolboxModel::RoleAlgorithmShortDescription</a></div><div class="ttdoc">Short algorithm description, for algorithm nodes. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00287">qgsprocessingtoolboxmodel.h:287</a></div></div>
<div class="ttc" id="classQgsProcessingRegistry_html"><div class="ttname"><a href="classQgsProcessingRegistry.html">QgsProcessingRegistry</a></div><div class="ttdoc">Registry for various processing components, including providers, algorithms and various parameters an...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingregistry_8h_source.html#l00039">qgsprocessingregistry.h:39</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a7b315c390929a904a0a63cdad9d45869"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a7b315c390929a904a0a63cdad9d45869">QgsProcessingAlgorithm::displayName</a></div><div class="ttdeci">virtual QString displayName() const =0</div><div class="ttdoc">Returns the translated algorithm name, which should be used for any user-visible display of the algor...</div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a5259bda1835282ab29ad6ec7b0c8df09"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a5259bda1835282ab29ad6ec7b0c8df09">QgsProcessingAlgorithm::shortDescription</a></div><div class="ttdeci">virtual QString shortDescription() const</div><div class="ttdoc">Returns an optional translated short description of the algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8cpp_source.html#l00053">qgsprocessingalgorithm.cpp:53</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_ad3ccd358e7aa77c40b7cecf70da0fd5a"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#ad3ccd358e7aa77c40b7cecf70da0fd5a">QgsProcessingToolboxModel::index</a></div><div class="ttdeci">QModelIndex index(int row, int column, const QModelIndex &amp;parent=QModelIndex()) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00515">qgsprocessingtoolboxmodel.cpp:515</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a8bcd4ad1bb0d2f1bf9f529449ac80841"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a8bcd4ad1bb0d2f1bf9f529449ac80841">QgsProcessingToolboxModel::providerForIndex</a></div><div class="ttdeci">QgsProcessingProvider * providerForIndex(const QModelIndex &amp;index) const</div><div class="ttdoc">Returns the provider which corresponds to a given index, or a nullptr if the index does not represent...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00562">qgsprocessingtoolboxmodel.cpp:562</a></div></div>
<div class="ttc" id="qgsvectorlayer_8h_html"><div class="ttname"><a href="qgsvectorlayer_8h.html">qgsvectorlayer.h</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_aefe2a0589104e882336821a3e41d5763a18ab0d9ce74a3ed549220e4d6e0d6faf"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#aefe2a0589104e882336821a3e41d5763a18ab0d9ce74a3ed549220e4d6e0d6faf">QgsProcessingToolboxModel::RoleAlgorithmTags</a></div><div class="ttdoc">List of algorithm tags, for algorithm nodes. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00288">qgsprocessingtoolboxmodel.h:288</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_aa48cb6d7ed9dc10d9810a175eff25354a3967847791a52d8a2871bffde0057dd5"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#aa48cb6d7ed9dc10d9810a175eff25354a3967847791a52d8a2871bffde0057dd5">QgsProcessingToolboxProxyModel::FilterToolbox</a></div><div class="ttdoc">Filters out any algorithms and content which should not be shown in the toolbox. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00425">qgsprocessingtoolboxmodel.h:425</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a2b976f38c1ff648152d7872a8b887ac2"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a2b976f38c1ff648152d7872a8b887ac2">QgsProcessingAlgorithm::groupId</a></div><div class="ttdeci">virtual QString groupId() const</div><div class="ttdoc">Returns the unique ID of the group this algorithm belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00223">qgsprocessingalgorithm.h:223</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a7bc8238e12215070fbf9e2c7370233cc"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a7bc8238e12215070fbf9e2c7370233cc">QgsProcessingToolboxModel::recentAlgorithmAdded</a></div><div class="ttdeci">void recentAlgorithmAdded()</div><div class="ttdoc">Emitted whenever recent algorithms are added to the model. </div></div>
<div class="ttc" id="classQgsProcessingProvider_html_a06a73138eddb9e503fd4540dd4793bc1"><div class="ttname"><a href="classQgsProcessingProvider.html#a06a73138eddb9e503fd4540dd4793bc1">QgsProcessingProvider::icon</a></div><div class="ttdeci">virtual QIcon icon() const</div><div class="ttdoc">Returns an icon for the provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingprovider_8cpp_source.html#l00034">qgsprocessingprovider.cpp:34</a></div></div>
<div class="ttc" id="classQgsProcessingProvider_html_ae6e23a879b11fb4d04eaacb6158df99c"><div class="ttname"><a href="classQgsProcessingProvider.html#ae6e23a879b11fb4d04eaacb6158df99c">QgsProcessingProvider::longName</a></div><div class="ttdeci">virtual QString longName() const</div><div class="ttdoc">Returns the longer version of the provider name, which can include extra details such as version numb...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingprovider_8cpp_source.html#l00049">qgsprocessingprovider.cpp:49</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a67e5fdca4fe5b5a9dedb3afed1b1c01f"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a67e5fdca4fe5b5a9dedb3afed1b1c01f">QgsProcessingToolboxModel::providerIdForIndex</a></div><div class="ttdeci">QString providerIdForIndex(const QModelIndex &amp;index) const</div><div class="ttdoc">Returns the provider ID which corresponds to a given index, or an empty string if the index does not ...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00571">qgsprocessingtoolboxmodel.cpp:571</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_ad9333fd8c689566438ddb8fcf7f93a82"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#ad9333fd8c689566438ddb8fcf7f93a82">QgsProcessingToolboxProxyModel::toolboxModel</a></div><div class="ttdeci">QgsProcessingToolboxModel * toolboxModel()</div><div class="ttdoc">Returns the underlying source Processing toolbox model. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00648">qgsprocessingtoolboxmodel.cpp:648</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_a561a67a9260ccbfb88dd3d040797f6f2"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#a561a67a9260ccbfb88dd3d040797f6f2">QgsProcessingToolboxProxyModel::setFilterString</a></div><div class="ttdeci">void setFilterString(const QString &amp;filter)</div><div class="ttdoc">Sets a filter string, such that only algorithms matching the specified string will be shown...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00666">qgsprocessingtoolboxmodel.cpp:666</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html"><div class="ttname"><a href="classQgsVectorLayer.html">QgsVectorLayer</a></div><div class="ttdoc">Represents a vector layer which manages a vector based data sets. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8h_source.html#l00362">qgsvectorlayer.h:362</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxProxyModel_html_aa48cb6d7ed9dc10d9810a175eff25354aba0ed919019e22caa8131eda96f4d579"><div class="ttname"><a href="classQgsProcessingToolboxProxyModel.html#aa48cb6d7ed9dc10d9810a175eff25354aba0ed919019e22caa8131eda96f4d579">QgsProcessingToolboxProxyModel::FilterInPlace</a></div><div class="ttdoc">Only show algorithms which support in-place edits. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8h_source.html#l00427">qgsprocessingtoolboxmodel.h:427</a></div></div>
<div class="ttc" id="classQgsProcessingToolboxModel_html_a94a76c8639c3055cd17fa6105bb8282d"><div class="ttname"><a href="classQgsProcessingToolboxModel.html#a94a76c8639c3055cd17fa6105bb8282d">QgsProcessingToolboxModel::rowCount</a></div><div class="ttdeci">int rowCount(const QModelIndex &amp;parent=QModelIndex()) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingtoolboxmodel_8cpp_source.html#l00501">qgsprocessingtoolboxmodel.cpp:501</a></div></div>
<div class="ttc" id="classQgsProcessingProvider_html_a664558d0f7f083e6b72b661f8a2e4f12"><div class="ttname"><a href="classQgsProcessingProvider.html#a664558d0f7f083e6b72b661f8a2e4f12">QgsProcessingProvider::algorithmsLoaded</a></div><div class="ttdeci">void algorithmsLoaded()</div><div class="ttdoc">Emitted when the provider has loaded (or refreshed) its list of available algorithms. </div></div>
<div class="ttc" id="qgsprocessingtoolboxmodel_8h_html"><div class="ttname"><a href="qgsprocessingtoolboxmodel_8h.html">qgsprocessingtoolboxmodel.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 22 2018 18:32:26 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
