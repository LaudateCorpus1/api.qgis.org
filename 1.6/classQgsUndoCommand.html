<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Quantum GIS API Documentation: QgsUndoCommand Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>QgsUndoCommand Class Reference</h1><!-- doxytag: class="QgsUndoCommand" -->Class to support universal undo command sequence for application, basic for.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for QgsUndoCommand:</div>
<div class="dynsection">
<p><center><img src="classQgsUndoCommand__coll__graph.png" border="0" usemap="#QgsUndoCommand__coll__map" alt="Collaboration graph"></center>
<map name="QgsUndoCommand__coll__map">
<area shape="rect" href="classQgsVectorLayer.html" title="Vector layer backed by a data source provider." alt="" coords="733,191,856,217"><area shape="rect" href="classQgsAttributeAction.html" title="Storage and management of actions associated with Qgis layer attributes." alt="" coords="967,191,1108,217"><area shape="rect" href="classQgsMapLayer.html" title="Base class for all map layer types." alt="" coords="427,161,533,188"><area shape="rect" href="classQgsRectangle.html" title="A rectangle specified with double values." alt="" coords="67,117,173,144"><area shape="rect" href="classQgsCoordinateReferenceSystem.html" title="Class for storing a coordinate reference system (CRS)." alt="" coords="7,185,233,212"><area shape="rect" href="classQgsRenderer.html" title="Abstract base class for renderers." alt="" coords="428,212,532,239"><area shape="rect" href="classQgsFeatureRendererV2.html" title="QgsFeatureRendererV2" alt="" coords="396,263,564,289"><area shape="rect" href="classQgsVectorDataProvider.html" title="This is the base class for vector data providers." alt="" coords="395,313,565,340"><area shape="rect" href="classQgsDataProvider.html" title="Abstract base class for spatial data provider implementations." alt="" coords="56,313,184,340"><area shape="rect" href="classQgsLabel.html" title="A class to render labels." alt="" coords="440,364,520,391"><area shape="rect" href="classQgsLabelAttributes.html" title="A class to store attributes needed for label rendering." alt="" coords="48,364,192,391"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classQgsUndoCommand-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef QMap&lt; int, <br>
<a class="el" href="classQgsUndoCommand_1_1AttributeChangeEntry.html">AttributeChangeEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#b6884a22104afbc7051bab1ea4df570a">AttributeChanges</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#b8096d2d6a01ec186bc1848ebf9603ba">QgsUndoCommand</a> (<a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, QString text)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#f81033df3e8e54afb54258d19ebfeded">undo</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Necessary function to provide undo operation.  <a href="#f81033df3e8e54afb54258d19ebfeded"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#1bbe55f0fb0d7ac33a7dec2e1ea9c06b">redo</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Necessary function to provide redo operation.  <a href="#1bbe55f0fb0d7ac33a7dec2e1ea9c06b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#f51f3a3977e723eda0fb5344b0475d27">storeGeometryChange</a> (int featureId, <a class="el" href="classQgsGeometry.html">QgsGeometry</a> &amp;original, <a class="el" href="classQgsGeometry.html">QgsGeometry</a> &amp;target)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to store changes in geometry to be returned to this state after undo/redo.  <a href="#f51f3a3977e723eda0fb5344b0475d27"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#30d6fd7309081095c9968f514898fd5a">storeAttributeChange</a> (int featureId, int field, QVariant original, QVariant target, bool isFirstChange)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores changes of attributes for the feature to be returned to this state after undo/redo.  <a href="#30d6fd7309081095c9968f514898fd5a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#765f54c0d60a795d23fd69b544de0161">storeFeatureDelete</a> (int featureId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add id of feature to deleted list to be reverted if needed afterwards.  <a href="#765f54c0d60a795d23fd69b544de0161"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#d7f062254aca80115ece6cdb2e2875ee">storeFeatureAdd</a> (<a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;feature)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add new feature to list of new features to be stored for undo/redo operations.  <a href="#d7f062254aca80115ece6cdb2e2875ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#22c2b4dd5b3c700018cede618adc6bd6">storeAttributeAdd</a> (int index, const <a class="el" href="classQgsField.html">QgsField</a> &amp;value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add new attribute to list of attributes to be used for attributes of features for undo/redo operations.  <a href="#22c2b4dd5b3c700018cede618adc6bd6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#38b04ed68de43cd8ac7528f5d461667f">storeAttributeDelete</a> (int index, const <a class="el" href="classQgsField.html">QgsField</a> &amp;orig)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add deleted attribute which is to be stored for undo/redo operations.  <a href="#38b04ed68de43cd8ac7528f5d461667f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#be45b2d8f5b51aa3348310fa8b5f83ce">mFirstRun</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Variable to disable first run of undo, because it's automaticaly done after push.  <a href="#be45b2d8f5b51aa3348310fa8b5f83ce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#4186cf14aa7f392220deb7791e9735fd">mLayer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Layer on which operations should be performed.  <a href="#4186cf14aa7f392220deb7791e9735fd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QMap&lt; int, <a class="el" href="classQgsUndoCommand_1_1GeometryChangeEntry.html">GeometryChangeEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#1f68029e872939b437f6fc3bfbcaf4b8">mGeometryChange</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map of changes of geometry for features it describes changes of geometry.  <a href="#1f68029e872939b437f6fc3bfbcaf4b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QMap&lt; int, <a class="el" href="classQgsUndoCommand.html#b6884a22104afbc7051bab1ea4df570a">AttributeChanges</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#64fd34f6ad75ff02631c177b1dbce4aa">mAttributeChange</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map of changes of atrributes for features which describes changes of attributes.  <a href="#64fd34f6ad75ff02631c177b1dbce4aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="qgsvectorlayerundocommand_8h.html#b7dff5a54c33856054d359bd9ed2805b">QgsFeatureIds</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#0836bf575db5681c41ec4a07f3253226">mDeletedFeatureIdChange</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deleted feature IDs which are not commited.  <a href="#0836bf575db5681c41ec4a07f3253226"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="qgslabel_8h.html#acd5afec301c03ed9499abb2bad2554b">QgsFieldMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#2b9bde7d9dde2792880526d9ebd95528">mAddedAttributes</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">added attributes fields which are not commited  <a href="#2b9bde7d9dde2792880526d9ebd95528"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="qgslabel_8h.html#acd5afec301c03ed9499abb2bad2554b">QgsFieldMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#da7c70dccdee1cd6c8d572517b0bbe7c">mDeletedAttributes</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">deleted attributes fields which are not commited  <a href="#da7c70dccdee1cd6c8d572517b0bbe7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="qgsfeature_8h.html#e0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#4ff17a4496d6a6d0a11a0dc57db3a2a1">mAddedFeatures</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">New features which are not commited.  <a href="#4ff17a4496d6a6d0a11a0dc57db3a2a1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand.html#37b7a9764d004dbe1f1ed7c59fd6e14a">QgsVectorLayer</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand_1_1AttributeChangeEntry.html">AttributeChangeEntry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">change structure for attribute for undo/redo purpose  <a href="classQgsUndoCommand_1_1AttributeChangeEntry.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsUndoCommand_1_1GeometryChangeEntry.html">GeometryChangeEntry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">change structure to geometry for undo/redo purpose  <a href="classQgsUndoCommand_1_1GeometryChangeEntry.html#_details">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class to support universal undo command sequence for application, basic for. 
<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00028">28</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="b6884a22104afbc7051bab1ea4df570a"></a><!-- doxytag: member="QgsUndoCommand::AttributeChanges" ref="b6884a22104afbc7051bab1ea4df570a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef QMap&lt;int, <a class="el" href="classQgsUndoCommand_1_1AttributeChangeEntry.html">AttributeChangeEntry</a>&gt; <a class="el" href="classQgsUndoCommand.html#b6884a22104afbc7051bab1ea4df570a">QgsUndoCommand::AttributeChanges</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00041">41</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b8096d2d6a01ec186bc1848ebf9603ba"></a><!-- doxytag: member="QgsUndoCommand::QgsUndoCommand" ref="b8096d2d6a01ec186bc1848ebf9603ba" args="(QgsVectorLayer *layer, QString text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgsUndoCommand::QgsUndoCommand           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&nbsp;</td>
          <td class="paramname"> <em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&nbsp;</td>
          <td class="paramname"> <em>text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00046">46</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00116">mFirstRun</a>, and <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00119">mLayer</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f81033df3e8e54afb54258d19ebfeded"></a><!-- doxytag: member="QgsUndoCommand::undo" ref="f81033df3e8e54afb54258d19ebfeded" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::undo           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Necessary function to provide undo operation. 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00067">67</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00119">mLayer</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1bbe55f0fb0d7ac33a7dec2e1ea9c06b"></a><!-- doxytag: member="QgsUndoCommand::redo" ref="1bbe55f0fb0d7ac33a7dec2e1ea9c06b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::redo           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Necessary function to provide redo operation. 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00054">54</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00116">mFirstRun</a>, <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00119">mLayer</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f51f3a3977e723eda0fb5344b0475d27"></a><!-- doxytag: member="QgsUndoCommand::storeGeometryChange" ref="f51f3a3977e723eda0fb5344b0475d27" args="(int featureId, QgsGeometry &amp;original, QgsGeometry &amp;target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::storeGeometryChange           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>featureId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsGeometry.html">QgsGeometry</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsGeometry.html">QgsGeometry</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>target</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to store changes in geometry to be returned to this state after undo/redo. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>featureId</em>&nbsp;</td><td>id of feature edited </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>original</em>&nbsp;</td><td>original geometry of feature which was changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>changed geometry which was changed </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00073">73</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00122">mGeometryChange</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04374">QgsVectorLayer::editGeometryChange()</a>.</p>

</div>
</div><p>
<a class="anchor" name="30d6fd7309081095c9968f514898fd5a"></a><!-- doxytag: member="QgsUndoCommand::storeAttributeChange" ref="30d6fd7309081095c9968f514898fd5a" args="(int featureId, int field, QVariant original, QVariant target, bool isFirstChange)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::storeAttributeChange           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>featureId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&nbsp;</td>
          <td class="paramname"> <em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isFirstChange</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores changes of attributes for the feature to be returned to this state after undo/redo. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>featureId</em>&nbsp;</td><td>id of feature for which this chaged is stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>field identifier of field which was changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>original</em>&nbsp;</td><td>original value of attribute before change </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>target value of attribute after change </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isFirstChange</em>&nbsp;</td><td>flag if this change is the first one </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00089">89</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00036">QgsUndoCommand::AttributeChangeEntry::isFirstChange</a>, <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00125">mAttributeChange</a>, <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00037">QgsUndoCommand::AttributeChangeEntry::original</a>, and <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00038">QgsUndoCommand::AttributeChangeEntry::target</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04402">QgsVectorLayer::editAttributeChange()</a>.</p>

</div>
</div><p>
<a class="anchor" name="765f54c0d60a795d23fd69b544de0161"></a><!-- doxytag: member="QgsUndoCommand::storeFeatureDelete" ref="765f54c0d60a795d23fd69b544de0161" args="(int featureId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::storeFeatureDelete           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>featureId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add id of feature to deleted list to be reverted if needed afterwards. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>featureId</em>&nbsp;</td><td>id of feature which is to be deleted </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00108">108</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00131">mDeletedFeatureIdChange</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04393">QgsVectorLayer::editFeatureDelete()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d7f062254aca80115ece6cdb2e2875ee"></a><!-- doxytag: member="QgsUndoCommand::storeFeatureAdd" ref="d7f062254aca80115ece6cdb2e2875ee" args="(QgsFeature &amp;feature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::storeFeatureAdd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>feature</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add new feature to list of new features to be stored for undo/redo operations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>feature</em>&nbsp;</td><td>feature which is to be added </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00113">113</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00142">mAddedFeatures</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04384">QgsVectorLayer::editFeatureAdd()</a>.</p>

</div>
</div><p>
<a class="anchor" name="22c2b4dd5b3c700018cede618adc6bd6"></a><!-- doxytag: member="QgsUndoCommand::storeAttributeAdd" ref="22c2b4dd5b3c700018cede618adc6bd6" args="(int index, const QgsField &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::storeAttributeAdd           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsField.html">QgsField</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add new attribute to list of attributes to be used for attributes of features for undo/redo operations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>index of attribute which is to be added </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>field description which is to be stored </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00098">98</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00134">mAddedAttributes</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l03116">QgsVectorLayer::addAttribute()</a>.</p>

</div>
</div><p>
<a class="anchor" name="38b04ed68de43cd8ac7528f5d461667f"></a><!-- doxytag: member="QgsUndoCommand::storeAttributeDelete" ref="38b04ed68de43cd8ac7528f5d461667f" args="(int index, const QgsField &amp;orig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsUndoCommand::storeAttributeDelete           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsField.html">QgsField</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>orig</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add deleted attribute which is to be stored for undo/redo operations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>index od attribute definition which is to be deleted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>orig</em>&nbsp;</td><td>deleted field's description </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00103">103</a> of file <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a>.</p>

<p>References <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00137">mDeletedAttributes</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l03191">QgsVectorLayer::deleteAttribute()</a>.</p>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="37b7a9764d004dbe1f1ed7c59fd6e14a"></a><!-- doxytag: member="QgsUndoCommand::QgsVectorLayer" ref="37b7a9764d004dbe1f1ed7c59fd6e14a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00144">144</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="be45b2d8f5b51aa3348310fa8b5f83ce"></a><!-- doxytag: member="QgsUndoCommand::mFirstRun" ref="be45b2d8f5b51aa3348310fa8b5f83ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQgsUndoCommand.html#be45b2d8f5b51aa3348310fa8b5f83ce">QgsUndoCommand::mFirstRun</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Variable to disable first run of undo, because it's automaticaly done after push. 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00116">116</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00046">QgsUndoCommand()</a>, and <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00054">redo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4186cf14aa7f392220deb7791e9735fd"></a><!-- doxytag: member="QgsUndoCommand::mLayer" ref="4186cf14aa7f392220deb7791e9735fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a>* <a class="el" href="classQgsUndoCommand.html#4186cf14aa7f392220deb7791e9735fd">QgsUndoCommand::mLayer</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Layer on which operations should be performed. 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00119">119</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00046">QgsUndoCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00054">redo()</a>, and <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00067">undo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1f68029e872939b437f6fc3bfbcaf4b8"></a><!-- doxytag: member="QgsUndoCommand::mGeometryChange" ref="1f68029e872939b437f6fc3bfbcaf4b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;int, <a class="el" href="classQgsUndoCommand_1_1GeometryChangeEntry.html">GeometryChangeEntry</a>&gt; <a class="el" href="classQgsUndoCommand.html#1f68029e872939b437f6fc3bfbcaf4b8">QgsUndoCommand::mGeometryChange</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map of changes of geometry for features it describes changes of geometry. 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00122">122</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00073">storeGeometryChange()</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="64fd34f6ad75ff02631c177b1dbce4aa"></a><!-- doxytag: member="QgsUndoCommand::mAttributeChange" ref="64fd34f6ad75ff02631c177b1dbce4aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;int, <a class="el" href="classQgsUndoCommand.html#b6884a22104afbc7051bab1ea4df570a">AttributeChanges</a>&gt; <a class="el" href="classQgsUndoCommand.html#64fd34f6ad75ff02631c177b1dbce4aa">QgsUndoCommand::mAttributeChange</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map of changes of atrributes for features which describes changes of attributes. 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00125">125</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00089">storeAttributeChange()</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0836bf575db5681c41ec4a07f3253226"></a><!-- doxytag: member="QgsUndoCommand::mDeletedFeatureIdChange" ref="0836bf575db5681c41ec4a07f3253226" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgsvectorlayerundocommand_8h.html#b7dff5a54c33856054d359bd9ed2805b">QgsFeatureIds</a> <a class="el" href="classQgsUndoCommand.html#0836bf575db5681c41ec4a07f3253226">QgsUndoCommand::mDeletedFeatureIdChange</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deleted feature IDs which are not commited. 
<p>
Note a feature can be added and then deleted again before the change is committed - in that case the added feature would be removed from mAddedFeatures only and *not* entered here. 
<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00131">131</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00108">storeFeatureDelete()</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2b9bde7d9dde2792880526d9ebd95528"></a><!-- doxytag: member="QgsUndoCommand::mAddedAttributes" ref="2b9bde7d9dde2792880526d9ebd95528" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgslabel_8h.html#acd5afec301c03ed9499abb2bad2554b">QgsFieldMap</a> <a class="el" href="classQgsUndoCommand.html#2b9bde7d9dde2792880526d9ebd95528">QgsUndoCommand::mAddedAttributes</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
added attributes fields which are not commited 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00134">134</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00098">storeAttributeAdd()</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="da7c70dccdee1cd6c8d572517b0bbe7c"></a><!-- doxytag: member="QgsUndoCommand::mDeletedAttributes" ref="da7c70dccdee1cd6c8d572517b0bbe7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgslabel_8h.html#acd5afec301c03ed9499abb2bad2554b">QgsFieldMap</a> <a class="el" href="classQgsUndoCommand.html#da7c70dccdee1cd6c8d572517b0bbe7c">QgsUndoCommand::mDeletedAttributes</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
deleted attributes fields which are not commited 
<p>

<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00137">137</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00103">storeAttributeDelete()</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4ff17a4496d6a6d0a11a0dc57db3a2a1"></a><!-- doxytag: member="QgsUndoCommand::mAddedFeatures" ref="4ff17a4496d6a6d0a11a0dc57db3a2a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgsfeature_8h.html#e0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> <a class="el" href="classQgsUndoCommand.html#4ff17a4496d6a6d0a11a0dc57db3a2a1">QgsUndoCommand::mAddedFeatures</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
New features which are not commited. 
<p>
Note a feature can be added and then changed, therefore the details here can be overridden by mChangedAttributeValues and mChangedGeometries. 
<p>Definition at line <a class="el" href="qgsvectorlayerundocommand_8h-source.html#l00142">142</a> of file <a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a>.</p>

<p>Referenced by <a class="el" href="qgsvectorlayer_8cpp-source.html#l04485">QgsVectorLayer::redoEditCommand()</a>, <a class="el" href="qgsvectorlayerundocommand_8cpp-source.html#l00113">storeFeatureAdd()</a>, and <a class="el" href="qgsvectorlayer_8cpp-source.html#l04587">QgsVectorLayer::undoEditCommand()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/core/<a class="el" href="qgsvectorlayerundocommand_8h-source.html">qgsvectorlayerundocommand.h</a><li>src/core/<a class="el" href="qgsvectorlayerundocommand_8cpp-source.html">qgsvectorlayerundocommand.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 4 19:17:56 2012 for Quantum GIS API Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
