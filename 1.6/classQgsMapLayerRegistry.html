<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Quantum GIS API Documentation: QgsMapLayerRegistry Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>QgsMapLayerRegistry Class Reference<br>
<small>
[<a class="el" href="group__core.html">QGIS core library</a>]</small>
</h1><!-- doxytag: class="QgsMapLayerRegistry" -->This class tracks map layers that are currently loaded and provides a means to fetch a pointer to a map layer and delete it.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="qgsmaplayerregistry_8h-source.html">qgsmaplayerregistry.h</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for QgsMapLayerRegistry:</div>
<div class="dynsection">
<p><center><img src="classQgsMapLayerRegistry__coll__graph.png" border="0" usemap="#QgsMapLayerRegistry__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classQgsMapLayerRegistry-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Signals</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#f0793f974bda45428a87ec4be64ca30d">layerWillBeRemoved</a> (QString theLayerId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">emitted when a layer is removed from the registry connected to main map canvas and overview map canvas remove()  <a href="#f0793f974bda45428a87ec4be64ca30d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#21a01035cd61fe43858a8fef497eaf79">layerWasAdded</a> (<a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> *theMapLayer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">emitted when a layer is added to the registry connected to main map canvas and overview map canvas addLayer()  <a href="#21a01035cd61fe43858a8fef497eaf79"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#f95f046db63906352dba8058c8e676d2">removedAll</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">emitted when ALL layers are removed at once This could have been implemented by iteratively signalling <a class="el" href="classQgsMapLayerRegistry.html#f0793f974bda45428a87ec4be64ca30d" title="emitted when a layer is removed from the registry connected to main map canvas and...">layerWillBeRemoved()</a> for each layer as it is removed.  <a href="#f95f046db63906352dba8058c8e676d2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#6037a75aa53f1d05939cbaf2763ae711">count</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#4d970caf3f882004fcbf9a394ab16429">~QgsMapLayerRegistry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#ae705be985d85b4122bf7d9ff9cc9b05">mapLayer</a> (QString theLayerId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve a pointer to a loaded plugin by id.  <a href="#ae705be985d85b4122bf7d9ff9cc9b05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QMap&lt; QString, <a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> * &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#408a2351a041c2cde93a4c07a8c81225">mapLayers</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the mapLayers collection (mainly intended for use by projectio).  <a href="#408a2351a041c2cde93a4c07a8c81225"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#06a1339cd757608a61e3899a27f39e8a">addMapLayer</a> (<a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> *theMapLayer, bool theEmitSignal=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a layer to the map of loaded layers.  <a href="#06a1339cd757608a61e3899a27f39e8a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#55af387e97ddf930fd13e1a53fd484ac">removeMapLayer</a> (QString theLayerId, bool theEmitSignal=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a layer from qgis.  <a href="#55af387e97ddf930fd13e1a53fd484ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#9d1844cbbe2bc5db119ddb97cbe10229">removeAllMapLayers</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove all registered layers.  <a href="#9d1844cbbe2bc5db119ddb97cbe10229"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#bbbe37ec1e3484e4fab81357c0f74909">clearAllLayerCaches</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#ac92c66138dea99dae557b3a4df4102d">reloadAllLayers</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reload all provider data caches (currently used for WFS and WMS providers).  <a href="#ac92c66138dea99dae557b3a4df4102d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classQgsMapLayerRegistry.html">QgsMapLayerRegistry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#7ce9795cc7eea3a683d66264c3e1e623">instance</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the instance pointer, creating the object on the first call.  <a href="#7ce9795cc7eea3a683d66264c3e1e623"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#4d633ddd19a3fc8c022ecc590bc772b7">QgsMapLayerRegistry</a> (QObject *parent=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">protected constructor  <a href="#4d633ddd19a3fc8c022ecc590bc772b7"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#41402c9bd9efcc7db669e7cdc9bc5665">connectNotify</a> (const char *signal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">debugging member invoked when a connect() is made to this object  <a href="#41402c9bd9efcc7db669e7cdc9bc5665"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QMap&lt; QString, <a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#95d818708ea0117ebfbc34717d726fe3">mMapLayers</a></td></tr>

<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classQgsMapLayerRegistry.html">QgsMapLayerRegistry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsMapLayerRegistry.html#86f1e3288d0786c99e84e7605c3616c6">mInstance</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class tracks map layers that are currently loaded and provides a means to fetch a pointer to a map layer and delete it. 
<p>Definition at line <a class="el" href="qgsmaplayerregistry_8h-source.html#l00035">35</a> of file <a class="el" href="qgsmaplayerregistry_8h-source.html">qgsmaplayerregistry.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="4d970caf3f882004fcbf9a394ab16429"></a><!-- doxytag: member="QgsMapLayerRegistry::~QgsMapLayerRegistry" ref="4d970caf3f882004fcbf9a394ab16429" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgsMapLayerRegistry::~QgsMapLayerRegistry           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00047">47</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00102">removeAllMapLayers()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4d633ddd19a3fc8c022ecc590bc772b7"></a><!-- doxytag: member="QgsMapLayerRegistry::QgsMapLayerRegistry" ref="4d633ddd19a3fc8c022ecc590bc772b7" args="(QObject *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgsMapLayerRegistry::QgsMapLayerRegistry           </td>
          <td>(</td>
          <td class="paramtype">QObject *&nbsp;</td>
          <td class="paramname"> <em>parent</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
protected constructor 
<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00042">42</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00029">instance()</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7ce9795cc7eea3a683d66264c3e1e623"></a><!-- doxytag: member="QgsMapLayerRegistry::instance" ref="7ce9795cc7eea3a683d66264c3e1e623" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsMapLayerRegistry.html">QgsMapLayerRegistry</a> * QgsMapLayerRegistry::instance           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the instance pointer, creating the object on the first call. 
<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00029">29</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8h-source.html#l00126">mInstance</a>, and <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00042">QgsMapLayerRegistry()</a>.</p>

<p>Referenced by <a class="el" href="qgsproject_8cpp-source.html#l00647">QgsProject::_getMapLayers()</a>, <a class="el" href="qgsgeometry_8cpp-source.html#l06265">QgsGeometry::avoidIntersections()</a>, <a class="el" href="qgscomposermap_8cpp-source.html#l00563">QgsComposerMap::connectUpdateSlot()</a>, <a class="el" href="qgscomposermap_8cpp-source.html#l00529">QgsComposerMap::containsWMSLayer()</a>, <a class="el" href="qgscomposerlegend_8cpp-source.html#l00188">QgsComposerLegend::drawLayerItem()</a>, <a class="el" href="qgsapplication_8cpp-source.html#l00378">QgsApplication::exitQgis()</a>, <a class="el" href="qgsapplication_8cpp-source.html#l00369">QgsApplication::initQgis()</a>, <a class="el" href="qgsmapcanvas_8cpp-source.html#l00180">QgsMapCanvas::layer()</a>, <a class="el" href="qgsmapcanvas_8cpp-source.html#l01188">QgsMapCanvas::layers()</a>, <a class="el" href="qgsquickprint_8cpp-source.html#l00115">QgsQuickPrint::printMap()</a>, <a class="el" href="qgscomposerattributetable_8cpp-source.html#l00046">QgsComposerAttributeTable::QgsComposerAttributeTable()</a>, <a class="el" href="qgslegendmodel_8cpp-source.html#l00036">QgsLegendModel::QgsLegendModel()</a>, <a class="el" href="qgsproject_8cpp-source.html#l00878">QgsProject::read()</a>, <a class="el" href="qgsrasterlayer_8cpp-source.html#l05291">QgsRasterLayer::readFile()</a>, <a class="el" href="qgsformannotationitem_8cpp-source.html#l00189">QgsFormAnnotationItem::readXML()</a>, <a class="el" href="qgscomposerlegenditem_8cpp-source.html#l00262">QgsComposerRasterSymbolItem::readXML()</a>, <a class="el" href="qgscomposerlegenditem_8cpp-source.html#l00108">QgsComposerSymbolItem::readXML()</a>, <a class="el" href="qgscomposerattributetable_8cpp-source.html#l00276">QgsComposerAttributeTable::readXML()</a>, <a class="el" href="qgspluginlayerregistry_8cpp-source.html#l00089">QgsPluginLayerRegistry::removePluginLayerType()</a>, <a class="el" href="qgsmaprenderer_8cpp-source.html#l00217">QgsMapRenderer::render()</a>, <a class="el" href="qgsquickprint_8cpp-source.html#l00710">QgsQuickPrint::scalePointSymbols()</a>, <a class="el" href="qgsquickprint_8cpp-source.html#l00670">QgsQuickPrint::scaleTextLabels()</a>, <a class="el" href="qgsvectorlayer_8cpp-source.html#l02577">QgsVectorLayer::setDataProvider()</a>, <a class="el" href="qgslegendmodel_8cpp-source.html#l00102">QgsLegendModel::setLayerSet()</a>, <a class="el" href="qgsmapcanvassnapper_8cpp-source.html#l00128">QgsMapCanvasSnapper::snapToBackgroundLayers()</a>, <a class="el" href="qgsmaprenderer_8cpp-source.html#l00813">QgsMapRenderer::updateFullExtent()</a>, <a class="el" href="qgslegendmodel_8cpp-source.html#l00272">QgsLegendModel::updateLayer()</a>, and <a class="el" href="qgsproject_8cpp-source.html#l00936">QgsProject::write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6037a75aa53f1d05939cbaf2763ae711"></a><!-- doxytag: member="QgsMapLayerRegistry::count" ref="6037a75aa53f1d05939cbaf2763ae711" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int QgsMapLayerRegistry::count           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of registered layers. 
<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00053">53</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>.</p>

</div>
</div><p>
<a class="anchor" name="ae705be985d85b4122bf7d9ff9cc9b05"></a><!-- doxytag: member="QgsMapLayerRegistry::mapLayer" ref="ae705be985d85b4122bf7d9ff9cc9b05" args="(QString theLayerId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> * QgsMapLayerRegistry::mapLayer           </td>
          <td>(</td>
          <td class="paramtype">QString&nbsp;</td>
          <td class="paramname"> <em>theLayerId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve a pointer to a loaded plugin by id. 
<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00058">58</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>.</p>

<p>Referenced by <a class="el" href="qgsgeometry_8cpp-source.html#l06265">QgsGeometry::avoidIntersections()</a>, <a class="el" href="qgscomposermap_8cpp-source.html#l00529">QgsComposerMap::containsWMSLayer()</a>, <a class="el" href="qgscomposerlegend_8cpp-source.html#l00188">QgsComposerLegend::drawLayerItem()</a>, <a class="el" href="qgsmapcanvas_8cpp-source.html#l00180">QgsMapCanvas::layer()</a>, <a class="el" href="qgsmapcanvas_8cpp-source.html#l01188">QgsMapCanvas::layers()</a>, <a class="el" href="qgsquickprint_8cpp-source.html#l00115">QgsQuickPrint::printMap()</a>, <a class="el" href="qgsformannotationitem_8cpp-source.html#l00189">QgsFormAnnotationItem::readXML()</a>, <a class="el" href="qgscomposerlegenditem_8cpp-source.html#l00262">QgsComposerRasterSymbolItem::readXML()</a>, <a class="el" href="qgscomposerlegenditem_8cpp-source.html#l00108">QgsComposerSymbolItem::readXML()</a>, <a class="el" href="qgscomposerattributetable_8cpp-source.html#l00276">QgsComposerAttributeTable::readXML()</a>, <a class="el" href="qgsmaprenderer_8cpp-source.html#l00217">QgsMapRenderer::render()</a>, <a class="el" href="qgsquickprint_8cpp-source.html#l00710">QgsQuickPrint::scalePointSymbols()</a>, <a class="el" href="qgsquickprint_8cpp-source.html#l00670">QgsQuickPrint::scaleTextLabels()</a>, <a class="el" href="qgslegendmodel_8cpp-source.html#l00102">QgsLegendModel::setLayerSet()</a>, <a class="el" href="qgsmapcanvassnapper_8cpp-source.html#l00128">QgsMapCanvasSnapper::snapToBackgroundLayers()</a>, <a class="el" href="qgsmaprenderer_8cpp-source.html#l00813">QgsMapRenderer::updateFullExtent()</a>, and <a class="el" href="qgslegendmodel_8cpp-source.html#l00272">QgsLegendModel::updateLayer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="408a2351a041c2cde93a4c07a8c81225"></a><!-- doxytag: member="QgsMapLayerRegistry::mapLayers" ref="408a2351a041c2cde93a4c07a8c81225" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt; QString, <a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> * &gt; &amp; QgsMapLayerRegistry::mapLayers           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the mapLayers collection (mainly intended for use by projectio). 
<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00143">143</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>.</p>

<p>Referenced by <a class="el" href="qgscomposerattributetable_8cpp-source.html#l00046">QgsComposerAttributeTable::QgsComposerAttributeTable()</a>, <a class="el" href="qgspluginlayerregistry_8cpp-source.html#l00089">QgsPluginLayerRegistry::removePluginLayerType()</a>, <a class="el" href="qgsvectorlayer_8cpp-source.html#l02577">QgsVectorLayer::setDataProvider()</a>, and <a class="el" href="qgsproject_8cpp-source.html#l00936">QgsProject::write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="06a1339cd757608a61e3899a27f39e8a"></a><!-- doxytag: member="QgsMapLayerRegistry::addMapLayer" ref="06a1339cd757608a61e3899a27f39e8a" args="(QgsMapLayer *theMapLayer, bool theEmitSignal=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> * QgsMapLayerRegistry::addMapLayer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> *&nbsp;</td>
          <td class="paramname"> <em>theMapLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>theEmitSignal</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a layer to the map of loaded layers. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL if unable to add layer, otherwise pointer to newly added layer </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd></dd></dl>
As a side-effect <a class="el" href="classQgsProject.html" title="Reads and writes project states.">QgsProject</a> is made dirty.<p>
Emits signal that layer has been added only if theEmitSignal is true (by default). Not emitting signal is useful when you want to use registry also for layers which won't be used in main map canvas but will be used in a special one 
<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00066">66</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayer_8cpp-source.html#l00098">QgsMapLayer::getLayerID()</a>, <a class="el" href="qgsmaplayer_8cpp-source.html#l00358">QgsMapLayer::isValid()</a>, <a class="el" href="classQgsMapLayerRegistry.html#21a01035cd61fe43858a8fef497eaf79">layerWasAdded()</a>, <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>, and <a class="el" href="qgslogger_8h-source.html#l00030">QgsDebugMsg</a>.</p>

<p>Referenced by <a class="el" href="qgsproject_8cpp-source.html#l00647">QgsProject::_getMapLayers()</a>, and <a class="el" href="qgsproject_8cpp-source.html#l00878">QgsProject::read()</a>.</p>

</div>
</div><p>
<a class="anchor" name="55af387e97ddf930fd13e1a53fd484ac"></a><!-- doxytag: member="QgsMapLayerRegistry::removeMapLayer" ref="55af387e97ddf930fd13e1a53fd484ac" args="(QString theLayerId, bool theEmitSignal=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::removeMapLayer           </td>
          <td>(</td>
          <td class="paramtype">QString&nbsp;</td>
          <td class="paramname"> <em>theLayerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>theEmitSignal</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a layer from qgis. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>As a side-effect <a class="el" href="classQgsProject.html" title="Reads and writes project states.">QgsProject</a> is made dirty. Any canvases using that layer will need to remove it theEmitSignal - see <a class="el" href="classQgsMapLayerRegistry.html#06a1339cd757608a61e3899a27f39e8a" title="Add a layer to the map of loaded layers.">addMapLayer()</a> The layer being removed is deleted as well as the registry table entry. </dd></dl>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00094">94</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="classQgsMapLayerRegistry.html#f0793f974bda45428a87ec4be64ca30d">layerWillBeRemoved()</a>, and <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>.</p>

<p>Referenced by <a class="el" href="qgspluginlayerregistry_8cpp-source.html#l00089">QgsPluginLayerRegistry::removePluginLayerType()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d1844cbbe2bc5db119ddb97cbe10229"></a><!-- doxytag: member="QgsMapLayerRegistry::removeAllMapLayers" ref="9d1844cbbe2bc5db119ddb97cbe10229" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::removeAllMapLayers           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove all registered layers. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>raises <a class="el" href="classQgsMapLayerRegistry.html#f95f046db63906352dba8058c8e676d2" title="emitted when ALL layers are removed at once This could have been implemented by iteratively...">removedAll()</a> As a side-effect <a class="el" href="classQgsProject.html" title="Reads and writes project states.">QgsProject</a> is made dirty. <p>
The layers are deleted as the registry is cleared! </dd></dl>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00102">102</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="classQgsMapLayerRegistry.html#f0793f974bda45428a87ec4be64ca30d">layerWillBeRemoved()</a>, <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>, and <a class="el" href="classQgsMapLayerRegistry.html#f95f046db63906352dba8058c8e676d2">removedAll()</a>.</p>

<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00047">~QgsMapLayerRegistry()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bbbe37ec1e3484e4fab81357c0f74909"></a><!-- doxytag: member="QgsMapLayerRegistry::clearAllLayerCaches" ref="bbbe37ec1e3484e4fab81357c0f74909" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::clearAllLayerCaches           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00120">120</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>.</p>

<p>Referenced by <a class="el" href="qgsmaprenderer_8cpp-source.html#l00217">QgsMapRenderer::render()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ac92c66138dea99dae557b3a4df4102d"></a><!-- doxytag: member="QgsMapLayerRegistry::reloadAllLayers" ref="ac92c66138dea99dae557b3a4df4102d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::reloadAllLayers           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reload all provider data caches (currently used for WFS and WMS providers). 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>: this method was added in QGIS 1.6 </dd></dl>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00130">130</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

<p>References <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">mMapLayers</a>, and <a class="el" href="qgsmaplayer_8h-source.html#l00085">QgsMapLayer::reload()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f0793f974bda45428a87ec4be64ca30d"></a><!-- doxytag: member="QgsMapLayerRegistry::layerWillBeRemoved" ref="f0793f974bda45428a87ec4be64ca30d" args="(QString theLayerId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::layerWillBeRemoved           </td>
          <td>(</td>
          <td class="paramtype">QString&nbsp;</td>
          <td class="paramname"> <em>theLayerId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
emitted when a layer is removed from the registry connected to main map canvas and overview map canvas remove() 
<p>

<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00102">removeAllMapLayers()</a>, and <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00094">removeMapLayer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="21a01035cd61fe43858a8fef497eaf79"></a><!-- doxytag: member="QgsMapLayerRegistry::layerWasAdded" ref="21a01035cd61fe43858a8fef497eaf79" args="(QgsMapLayer *theMapLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::layerWasAdded           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQgsMapLayer.html">QgsMapLayer</a> *&nbsp;</td>
          <td class="paramname"> <em>theMapLayer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
emitted when a layer is added to the registry connected to main map canvas and overview map canvas addLayer() 
<p>

<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00066">addMapLayer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f95f046db63906352dba8058c8e676d2"></a><!-- doxytag: member="QgsMapLayerRegistry::removedAll" ref="f95f046db63906352dba8058c8e676d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::removedAll           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
emitted when ALL layers are removed at once This could have been implemented by iteratively signalling <a class="el" href="classQgsMapLayerRegistry.html#f0793f974bda45428a87ec4be64ca30d" title="emitted when a layer is removed from the registry connected to main map canvas and...">layerWillBeRemoved()</a> for each layer as it is removed. 
<p>
However, this generally causes a cascade of effects that are unnecessary if we're ultimately removing all layers. E.g., removing the legend item corresponding to the layer. Why bother doing that when you're just going to clear everything anyway? 
<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00102">removeAllMapLayers()</a>.</p>

</div>
</div><p>
<a class="anchor" name="41402c9bd9efcc7db669e7cdc9bc5665"></a><!-- doxytag: member="QgsMapLayerRegistry::connectNotify" ref="41402c9bd9efcc7db669e7cdc9bc5665" args="(const char *signal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QgsMapLayerRegistry::connectNotify           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>signal</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
debugging member invoked when a connect() is made to this object 
<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00150">150</a> of file <a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="86f1e3288d0786c99e84e7605c3616c6"></a><!-- doxytag: member="QgsMapLayerRegistry::mInstance" ref="86f1e3288d0786c99e84e7605c3616c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsMapLayerRegistry.html">QgsMapLayerRegistry</a> * <a class="el" href="classQgsMapLayerRegistry.html#86f1e3288d0786c99e84e7605c3616c6">QgsMapLayerRegistry::mInstance</a> = 0<code> [static, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8h-source.html#l00126">126</a> of file <a class="el" href="qgsmaplayerregistry_8h-source.html">qgsmaplayerregistry.h</a>.</p>

<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00029">instance()</a>.</p>

</div>
</div><p>
<a class="anchor" name="95d818708ea0117ebfbc34717d726fe3"></a><!-- doxytag: member="QgsMapLayerRegistry::mMapLayers" ref="95d818708ea0117ebfbc34717d726fe3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;QString, <a class="el" href="classQgsMapLayer.html">QgsMapLayer</a>*&gt; <a class="el" href="classQgsMapLayerRegistry.html#95d818708ea0117ebfbc34717d726fe3">QgsMapLayerRegistry::mMapLayers</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="qgsmaplayerregistry_8h-source.html#l00128">128</a> of file <a class="el" href="qgsmaplayerregistry_8h-source.html">qgsmaplayerregistry.h</a>.</p>

<p>Referenced by <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00066">addMapLayer()</a>, <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00120">clearAllLayerCaches()</a>, <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00053">count()</a>, <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00058">mapLayer()</a>, <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00143">mapLayers()</a>, <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00130">reloadAllLayers()</a>, <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00102">removeAllMapLayers()</a>, and <a class="el" href="qgsmaplayerregistry_8cpp-source.html#l00094">removeMapLayer()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/core/<a class="el" href="qgsmaplayerregistry_8h-source.html">qgsmaplayerregistry.h</a><li>src/core/<a class="el" href="qgsmaplayerregistry_8cpp-source.html">qgsmaplayerregistry.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 4 19:17:38 2012 for Quantum GIS API Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
