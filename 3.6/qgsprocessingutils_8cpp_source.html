<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: /tmp/buildd/qgis-3.6.0+99unstable/src/core/processing/qgsprocessingutils.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.6.0-Noosa (5873452)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_14e4815d6f2d5bd986fc95a1af67243d.html">processing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qgsprocessingutils.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qgsprocessingutils_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">                         qgsprocessingutils.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">                         ------------------------</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    begin                : April 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    copyright            : (C) 2017 by Nyall Dawson</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    email                : nyall dot dawson at gmail dot com</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingutils_8h.html">qgsprocessingutils.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsproject_8h.html">qgsproject.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgssettings_8h.html">qgssettings.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsexception_8h.html">qgsexception.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingcontext_8h.html">qgsprocessingcontext.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsvectorlayerexporter_8h.html">qgsvectorlayerexporter.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsvectorfilewriter_8h.html">qgsvectorfilewriter.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmemoryproviderutils_8h.html">qgsmemoryproviderutils.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingparameters_8h.html">qgsprocessingparameters.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingalgorithm_8h.html">qgsprocessingalgorithm.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsvectorlayerfeatureiterator_8h.html">qgsvectorlayerfeatureiterator.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsexpressioncontextscopegenerator_8h.html">qgsexpressioncontextscopegenerator.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsfileutils_8h.html">qgsfileutils.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsvectorlayer_8h.html">qgsvectorlayer.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsproviderregistry_8h.html">qgsproviderregistry.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmeshlayer_8h.html">qgsmeshlayer.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsreferencedgeometry_8h.html">qgsreferencedgeometry.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a5997b6c18d7a5d6db53a34c09e0c1b23">   36</a></span>&#160;QList&lt;QgsRasterLayer *&gt; <a class="code" href="classQgsProcessingUtils.html#a5997b6c18d7a5d6db53a34c09e0c1b23">QgsProcessingUtils::compatibleRasterLayers</a>( <a class="code" href="classQgsProject.html">QgsProject</a> *project, <span class="keywordtype">bool</span> sort )</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordflow">if</span> ( !project )</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">return</span> QList&lt;QgsRasterLayer *&gt;();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  QList&lt;QgsRasterLayer *&gt; layers;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> rasterLayers = project-&gt;<a class="code" href="classQgsProject.html#a5e66cf3c8e5e176dadb78220645b17b3">layers</a>&lt;<a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> *&gt;();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> *l : rasterLayers )</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> ( canUseLayer( l ) )</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      layers &lt;&lt; l;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">if</span> ( sort )</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    std::sort( layers.begin(), layers.end(), []( <span class="keyword">const</span> <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> * a, <span class="keyword">const</span> <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> * b ) -&gt; <span class="keywordtype">bool</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> QString::localeAwareCompare( a-&gt;<a class="code" href="classQgsMapLayer.html#a0594da1ee92c9fc9e15659fc39522f97">name</a>(), b-&gt;name() ) &lt; 0;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    } );</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> layers;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a82d74018a8e2db6c4000c44c41bcab94">   60</a></span>&#160;QList&lt;QgsVectorLayer *&gt; <a class="code" href="classQgsProcessingUtils.html#a82d74018a8e2db6c4000c44c41bcab94">QgsProcessingUtils::compatibleVectorLayers</a>( <a class="code" href="classQgsProject.html">QgsProject</a> *project, <span class="keyword">const</span> QList&lt;int&gt; &amp;geometryTypes, <span class="keywordtype">bool</span> sort )</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> ( !project )</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> QList&lt;QgsVectorLayer *&gt;();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  QList&lt;QgsVectorLayer *&gt; layers;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> vectorLayers = project-&gt;<a class="code" href="classQgsProject.html#a5e66cf3c8e5e176dadb78220645b17b3">layers</a>&lt;<a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&gt;();</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *l :  vectorLayers )</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> ( canUseLayer( l, geometryTypes ) )</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      layers &lt;&lt; l;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span> ( sort )</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    std::sort( layers.begin(), layers.end(), []( <span class="keyword">const</span> <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> * a, <span class="keyword">const</span> <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> * b ) -&gt; <span class="keywordtype">bool</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">return</span> QString::localeAwareCompare( a-&gt;<a class="code" href="classQgsMapLayer.html#a0594da1ee92c9fc9e15659fc39522f97">name</a>(), b-&gt;name() ) &lt; 0;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    } );</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> layers;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#af5baa33215718b2c4db7117c4ad6bb53">   83</a></span>&#160;QList&lt;QgsMeshLayer *&gt; <a class="code" href="classQgsProcessingUtils.html#af5baa33215718b2c4db7117c4ad6bb53">QgsProcessingUtils::compatibleMeshLayers</a>( <a class="code" href="classQgsProject.html">QgsProject</a> *project, <span class="keywordtype">bool</span> sort )</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> ( !project )</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> QList&lt;QgsMeshLayer *&gt;();</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  QList&lt;QgsMeshLayer *&gt; layers;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> meshLayers = project-&gt;<a class="code" href="classQgsProject.html#a5e66cf3c8e5e176dadb78220645b17b3">layers</a>&lt;<a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a> *&gt;();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a> *l : meshLayers )</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> ( canUseLayer( l ) )</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      layers &lt;&lt; l;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span> ( sort )</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    std::sort( layers.begin(), layers.end(), []( <span class="keyword">const</span> <a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a> * a, <span class="keyword">const</span> <a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a> * b ) -&gt; <span class="keywordtype">bool</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">return</span> QString::localeAwareCompare( a-&gt;<a class="code" href="classQgsMapLayer.html#a0594da1ee92c9fc9e15659fc39522f97">name</a>(), b-&gt;name() ) &lt; 0;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    } );</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span> layers;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#aad859c29378ee2d4d732c615277c43c8">  106</a></span>&#160;QList&lt;QgsMapLayer *&gt; <a class="code" href="classQgsProcessingUtils.html#aad859c29378ee2d4d732c615277c43c8">QgsProcessingUtils::compatibleLayers</a>( <a class="code" href="classQgsProject.html">QgsProject</a> *project, <span class="keywordtype">bool</span> sort )</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> ( !project )</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> QList&lt;QgsMapLayer *&gt;();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  QList&lt;QgsMapLayer *&gt; layers;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> rasterLayers = <a class="code" href="classQgsProcessingUtils.html#a5997b6c18d7a5d6db53a34c09e0c1b23">compatibleRasterLayers</a>( project, <span class="keyword">false</span> );</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> *rl : rasterLayers )</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    layers &lt;&lt; rl;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> vectorLayers = <a class="code" href="classQgsProcessingUtils.html#a82d74018a8e2db6c4000c44c41bcab94">compatibleVectorLayers</a>( project, QList&lt; int &gt;(), <span class="keyword">false</span> );</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *vl : vectorLayers )</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    layers &lt;&lt; vl;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> meshLayers = <a class="code" href="classQgsProcessingUtils.html#af5baa33215718b2c4db7117c4ad6bb53">compatibleMeshLayers</a>( project, <span class="keyword">false</span> );</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a> *vl : meshLayers )</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    layers &lt;&lt; vl;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">if</span> ( sort )</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    std::sort( layers.begin(), layers.end(), []( <span class="keyword">const</span> <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> * a, <span class="keyword">const</span> <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> * b ) -&gt; <span class="keywordtype">bool</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keywordflow">return</span> QString::localeAwareCompare( a-&gt;<a class="code" href="classQgsMapLayer.html#a0594da1ee92c9fc9e15659fc39522f97">name</a>(), b-&gt;name() ) &lt; 0;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    } );</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">return</span> layers;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *QgsProcessingUtils::mapLayerFromStore( <span class="keyword">const</span> QString &amp;<span class="keywordtype">string</span>, <a class="code" href="classQgsMapLayerStore.html">QgsMapLayerStore</a> *store, <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710">QgsProcessingUtils::LayerHint</a> typeHint )</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> ( !store || <span class="keywordtype">string</span>.isEmpty() )</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  QList&lt; QgsMapLayer * &gt; layers = store-&gt;<a class="code" href="classQgsMapLayerStore.html#a34759a88bd396ad4ab5c913cd53cc4f0">mapLayers</a>().values();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  layers.erase( std::remove_if( layers.begin(), layers.end(), []( <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> * layer )</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">switch</span> ( layer-&gt;type() )</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a60eeaa55da9aa798362f588c95dfae75">QgsMapLayer::VectorLayer</a>:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">return</span> !canUseLayer( qobject_cast&lt; QgsVectorLayer * &gt;( layer ) );</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a245423c442d426542f0f486f42e91395">QgsMapLayer::RasterLayer</a>:</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> !canUseLayer( qobject_cast&lt; QgsRasterLayer * &gt;( layer ) );</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a261973ffd94e7811450b5c75c5fa43ed">QgsMapLayer::PluginLayer</a>:</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a2f86137a236b88c94ad0a2a523df12e2">QgsMapLayer::MeshLayer</a>:</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> !canUseLayer( qobject_cast&lt; QgsMeshLayer * &gt;( layer ) );</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  } ), layers.end() );</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keyword">auto</span> isCompatibleType = [typeHint]( <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> * l ) -&gt; <span class="keywordtype">bool</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">switch</span> ( typeHint )</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a50da5804d7d222f41d4666591e4b66cb">UnknownType</a>:</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a25359b236d3a23cf229e7b7c6622f477">Vector</a>:</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> l-&gt;type() == <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a60eeaa55da9aa798362f588c95dfae75">QgsMapLayer::VectorLayer</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a38477dfe2feb648cf05b64ddf407e078">Raster</a>:</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> l-&gt;type() == <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a245423c442d426542f0f486f42e91395">QgsMapLayer::RasterLayer</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a240c8c331fccc4b9f062666242c603be">Mesh</a>:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> l-&gt;type() == <a class="code" href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a2f86137a236b88c94ad0a2a523df12e2">QgsMapLayer::MeshLayer</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  };</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *l : qgis::as_const( layers ) )</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> ( isCompatibleType( l ) &amp;&amp; l-&gt;id() == string )</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">return</span> l;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *l : qgis::as_const( layers ) )</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> ( isCompatibleType( l ) &amp;&amp; l-&gt;name() == string )</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">return</span> l;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">for</span> ( <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *l : qgis::as_const( layers ) )</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> ( isCompatibleType( l ) &amp;&amp; <a class="code" href="classQgsProcessingUtils.html#a352f239ecb6254c7396299b9cd3ac53d">normalizeLayerSource</a>( l-&gt;source() ) == <a class="code" href="classQgsProcessingUtils.html#a352f239ecb6254c7396299b9cd3ac53d">normalizeLayerSource</a>( <span class="keywordtype">string</span> ) )</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">return</span> l;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="keyword">class </span>ProjectionSettingRestorer</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    ProjectionSettingRestorer()</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <a class="code" href="classQgsSettings.html">QgsSettings</a> settings;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      previousSetting = settings.<a class="code" href="classQgsSettings.html#a4398513cdbed73f4bacfde90a9170b6f">value</a>( QStringLiteral( <span class="stringliteral">&quot;/Projections/defaultBehavior&quot;</span> ) ).toString();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      settings.<a class="code" href="classQgsSettings.html#ad5ea1e3318bed24f70625f2fdb29f01e">setValue</a>( QStringLiteral( <span class="stringliteral">&quot;/Projections/defaultBehavior&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;useProject&quot;</span> ) );</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    ~ProjectionSettingRestorer()</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="classQgsSettings.html">QgsSettings</a> settings;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      settings.<a class="code" href="classQgsSettings.html#ad5ea1e3318bed24f70625f2fdb29f01e">setValue</a>( QStringLiteral( <span class="stringliteral">&quot;/Projections/defaultBehavior&quot;</span> ), previousSetting );</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    QString previousSetting;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;};</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *QgsProcessingUtils::loadMapLayerFromString( <span class="keyword">const</span> QString &amp;<span class="keywordtype">string</span>, <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710">LayerHint</a> typeHint )</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  QStringList components = <span class="keywordtype">string</span>.split( <span class="charliteral">&#39;|&#39;</span> );</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">if</span> ( components.isEmpty() )</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  QFileInfo fi;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> ( QFileInfo::exists( <span class="keywordtype">string</span> ) )</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    fi = QFileInfo( <span class="keywordtype">string</span> );</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( QFileInfo::exists( components.at( 0 ) ) )</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    fi = QFileInfo( components.at( 0 ) );</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// TODO - remove when there is a cleaner way to block the unknown projection dialog!</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  ProjectionSettingRestorer restorer;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  ( void )restorer; <span class="comment">// no warnings</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  QString name = fi.baseName();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// brute force attempt to load a matching layer</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> ( typeHint == <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a50da5804d7d222f41d4666591e4b66cb">UnknownType</a> || typeHint == <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a25359b236d3a23cf229e7b7c6622f477">Vector</a> )</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="structQgsVectorLayer_1_1LayerOptions.html">QgsVectorLayer::LayerOptions</a> options;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    options.<a class="code" href="structQgsVectorLayer_1_1LayerOptions.html#aad9bc7d68d499c5fe9e6cabab110690f">loadDefaultStyle</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    std::unique_ptr&lt; QgsVectorLayer &gt; layer( <span class="keyword">new</span> <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a>( <span class="keywordtype">string</span>, name, QStringLiteral( <span class="stringliteral">&quot;ogr&quot;</span> ), options ) );</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> ( layer-&gt;isValid() )</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">return</span> layer.release();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> ( typeHint == <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a50da5804d7d222f41d4666591e4b66cb">UnknownType</a> || typeHint == <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a38477dfe2feb648cf05b64ddf407e078">Raster</a> )</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="structQgsRasterLayer_1_1LayerOptions.html">QgsRasterLayer::LayerOptions</a> rasterOptions;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    rasterOptions.<a class="code" href="structQgsRasterLayer_1_1LayerOptions.html#a955a2fe99834abf200d9d53ee89301c7">loadDefaultStyle</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    std::unique_ptr&lt; QgsRasterLayer &gt; rasterLayer( <span class="keyword">new</span> <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a>( <span class="keywordtype">string</span>, name, QStringLiteral( <span class="stringliteral">&quot;gdal&quot;</span> ), rasterOptions ) );</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> ( rasterLayer-&gt;isValid() )</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">return</span> rasterLayer.release();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> ( typeHint == <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a50da5804d7d222f41d4666591e4b66cb">UnknownType</a> || typeHint == <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a240c8c331fccc4b9f062666242c603be">Mesh</a> )</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="structQgsMeshLayer_1_1LayerOptions.html">QgsMeshLayer::LayerOptions</a> meshOptions;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    std::unique_ptr&lt; QgsMeshLayer &gt; meshLayer( <span class="keyword">new</span> <a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a>( <span class="keywordtype">string</span>, name, QStringLiteral( <span class="stringliteral">&quot;mdal&quot;</span> ), meshOptions ) );</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> ( meshLayer-&gt;isValid() )</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> meshLayer.release();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a4ae097e24153b9ebaa503939c956b1ca">  270</a></span>&#160;<a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *<a class="code" href="classQgsProcessingUtils.html#a4ae097e24153b9ebaa503939c956b1ca">QgsProcessingUtils::mapLayerFromString</a>( <span class="keyword">const</span> QString &amp;<span class="keywordtype">string</span>, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <span class="keywordtype">bool</span> allowLoadingNewLayers, <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710">LayerHint</a> typeHint )</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> ( <span class="keywordtype">string</span>.isEmpty() )</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// prefer project layers</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *layer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> ( context.<a class="code" href="classQgsProcessingContext.html#a79bfd019c086ff63f594ecea3bd0a445">project</a>() )</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *layer = mapLayerFromStore( <span class="keywordtype">string</span>, context.<a class="code" href="classQgsProcessingContext.html#a79bfd019c086ff63f594ecea3bd0a445">project</a>()-&gt;<a class="code" href="classQgsProject.html#a8966e2ebc0f50f471ed2f67c346e290a">layerStore</a>(), typeHint );</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> ( layer )</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> layer;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  layer = mapLayerFromStore( <span class="keywordtype">string</span>, context.<a class="code" href="classQgsProcessingContext.html#a0c919837903847150ee62df2f9f83327">temporaryLayerStore</a>(), typeHint );</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> ( layer )</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> layer;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> ( !allowLoadingNewLayers )</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  layer = loadMapLayerFromString( <span class="keywordtype">string</span>, typeHint );</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> ( layer )</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    context.<a class="code" href="classQgsProcessingContext.html#a0c919837903847150ee62df2f9f83327">temporaryLayerStore</a>()-&gt;<a class="code" href="classQgsMapLayerStore.html#adba844ac49b9aa24b231133355a01dd3">addMapLayer</a>( layer );</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span> layer;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a5956e3136329b9425d747ab57ae1e574">  303</a></span>&#160;<a class="code" href="classQgsProcessingFeatureSource.html">QgsProcessingFeatureSource</a> *<a class="code" href="classQgsProcessingUtils.html#a5956e3136329b9425d747ab57ae1e574">QgsProcessingUtils::variantToSource</a>( <span class="keyword">const</span> QVariant &amp;value, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <span class="keyword">const</span> QVariant &amp;fallbackValue )</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  QVariant val = value;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">bool</span> selectedFeaturesOnly = <span class="keyword">false</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> ( val.canConvert&lt;<a class="code" href="classQgsProcessingFeatureSourceDefinition.html">QgsProcessingFeatureSourceDefinition</a>&gt;() )</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// input is a QgsProcessingFeatureSourceDefinition - get extra properties from it</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classQgsProcessingFeatureSourceDefinition.html">QgsProcessingFeatureSourceDefinition</a> fromVar = qvariant_cast&lt;<a class="code" href="classQgsProcessingFeatureSourceDefinition.html">QgsProcessingFeatureSourceDefinition</a>&gt;( val );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    selectedFeaturesOnly = fromVar.<a class="code" href="classQgsProcessingFeatureSourceDefinition.html#a64419e8615f94eb70b134de83628b9a9">selectedFeaturesOnly</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    val = fromVar.<a class="code" href="classQgsProcessingFeatureSourceDefinition.html#a87bbbc3fc237c3cc0abc10902b04aba0">source</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( val.canConvert&lt;<a class="code" href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a>&gt;() )</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// input is a QgsProcessingOutputLayerDefinition (e.g. an output from earlier in a model) - get extra properties from it</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a> fromVar = qvariant_cast&lt;<a class="code" href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a>&gt;( val );</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    val = fromVar.<a class="code" href="classQgsProcessingOutputLayerDefinition.html#a3a9ee59cab4276223f7e5dd0bdfb61e4">sink</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer = qobject_cast&lt; QgsVectorLayer * &gt;( qvariant_cast&lt;QObject *&gt;( val ) ) )</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSource.html">QgsProcessingFeatureSource</a>( layer, context );</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  QString layerRef;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> ( val.canConvert&lt;<a class="code" href="classQgsProperty.html">QgsProperty</a>&gt;() )</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    layerRef = val.value&lt; <a class="code" href="classQgsProperty.html">QgsProperty</a> &gt;().valueAsString( context.<a class="code" href="classQgsProcessingContext.html#a47bc9fd2cc92f0f3f605408da054b7f1">expressionContext</a>(), fallbackValue.toString() );</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !val.isValid() || val.toString().isEmpty() )</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// fall back to default</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer = qobject_cast&lt; QgsVectorLayer * &gt;( qvariant_cast&lt;QObject *&gt;( fallbackValue ) ) )</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSource.html">QgsProcessingFeatureSource</a>( layer, context );</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    layerRef = fallbackValue.toString();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    layerRef = val.toString();</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">if</span> ( layerRef.isEmpty() )</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *vl = qobject_cast&lt; <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&gt;( <a class="code" href="classQgsProcessingUtils.html#a4ae097e24153b9ebaa503939c956b1ca">QgsProcessingUtils::mapLayerFromString</a>( layerRef, context, <span class="keyword">true</span>, <a class="code" href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a25359b236d3a23cf229e7b7c6622f477">Vector</a> ) );</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> ( !vl )</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> ( selectedFeaturesOnly )</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSource.html">QgsProcessingFeatureSource</a>( <span class="keyword">new</span> <a class="code" href="classQgsVectorLayerSelectedFeatureSource.html">QgsVectorLayerSelectedFeatureSource</a>( vl ), context, <span class="keyword">true</span> );</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSource.html">QgsProcessingFeatureSource</a>( vl, context );</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="keywordtype">bool</span> QgsProcessingUtils::canUseLayer( <span class="keyword">const</span> <a class="code" href="classQgsMeshLayer.html">QgsMeshLayer</a> *layer )</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">return</span> layer &amp;&amp; layer-&gt;<a class="code" href="classQgsMeshLayer.html#ab7e50d35601add6134ab80d2edb16854">dataProvider</a>();</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="keywordtype">bool</span> QgsProcessingUtils::canUseLayer( <span class="keyword">const</span> <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> *layer )</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// only gdal file-based layers</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">return</span> layer &amp;&amp; layer-&gt;<a class="code" href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">providerType</a>() == QStringLiteral( <span class="stringliteral">&quot;gdal&quot;</span> );</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keywordtype">bool</span> QgsProcessingUtils::canUseLayer( <span class="keyword">const</span> <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, <span class="keyword">const</span> QList&lt;int&gt; &amp;sourceTypes )</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;{</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">return</span> layer &amp;&amp;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         ( sourceTypes.isEmpty()</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;           || ( sourceTypes.contains( <a class="code" href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115ab9c1d02f7f396651e8a27cd60d29b34d">QgsProcessing::TypeVectorPoint</a> ) &amp;&amp; layer-&gt;<a class="code" href="classQgsVectorLayer.html#a1abf8f48544b7ce41a7ff91832de00be">geometryType</a>() == <a class="code" href="classQgsWkbTypes.html#a60e72c2f73cb07fdbcdbc2d5068b5d9ca2407075c945a7eadf4289316a8d0a79b">QgsWkbTypes::PointGeometry</a> )</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;           || ( sourceTypes.contains( <a class="code" href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115a1edaaaab12e5db8d131f42e9aa3a7e05">QgsProcessing::TypeVectorLine</a> ) &amp;&amp; layer-&gt;<a class="code" href="classQgsVectorLayer.html#a1abf8f48544b7ce41a7ff91832de00be">geometryType</a>() == <a class="code" href="classQgsWkbTypes.html#a60e72c2f73cb07fdbcdbc2d5068b5d9ca832c909332693470bd25b59e273a04a5">QgsWkbTypes::LineGeometry</a> )</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;           || ( sourceTypes.contains( <a class="code" href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115a2f7f1e7a250f381886896b3fa7174f02">QgsProcessing::TypeVectorPolygon</a> ) &amp;&amp; layer-&gt;<a class="code" href="classQgsVectorLayer.html#a1abf8f48544b7ce41a7ff91832de00be">geometryType</a>() == <a class="code" href="classQgsWkbTypes.html#a60e72c2f73cb07fdbcdbc2d5068b5d9ca83e149905446b55bd3c4438a586d9abd">QgsWkbTypes::PolygonGeometry</a> )</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;           || ( sourceTypes.contains( <a class="code" href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115ac5282134e3e26f38be0320008ff73b56">QgsProcessing::TypeVectorAnyGeometry</a> ) &amp;&amp; layer-&gt;<a class="code" href="classQgsVectorLayer.html#a2a9f0912f82c9dcd7dab3de311762e6b">isSpatial</a>() )</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;           || sourceTypes.contains( <a class="code" href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115a673363b1da0f67c9e2678eb68351016f">QgsProcessing::TypeVector</a> )</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;         );</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a352f239ecb6254c7396299b9cd3ac53d">  386</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#a352f239ecb6254c7396299b9cd3ac53d">QgsProcessingUtils::normalizeLayerSource</a>( <span class="keyword">const</span> QString &amp;source )</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  QString normalized = source;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  normalized.replace( <span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;/&#39;</span> );</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">return</span> normalized.trimmed();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a6a6b063be0e53ef3e56e59bb6fbd2fb2">  393</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#a6a6b063be0e53ef3e56e59bb6fbd2fb2">QgsProcessingUtils::variantToPythonLiteral</a>( <span class="keyword">const</span> QVariant &amp;value )</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">if</span> ( !value.isValid() )</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;None&quot;</span> );</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> ( value.canConvert&lt;<a class="code" href="classQgsProperty.html">QgsProperty</a>&gt;() )</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;QgsProperty.fromExpression(&#39;%1&#39;)&quot;</span> ).arg( value.value&lt; <a class="code" href="classQgsProperty.html">QgsProperty</a> &gt;().<a class="code" href="classQgsProperty.html#a29b1551fefcc07ae4acf798d8edf43cd">asExpression</a>() );</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( value.canConvert&lt;<a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a>&gt;() )</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> ( !value.value&lt; <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a> &gt;().<a class="code" href="classQgsCoordinateReferenceSystem.html#a077267450cec872305c6690de5b5b09c">isValid</a>() )</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;QgsCoordinateReferenceSystem()&quot;</span> );</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;QgsCoordinateReferenceSystem(&#39;%1&#39;)&quot;</span> ).arg( value.value&lt; <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a> &gt;().<a class="code" href="classQgsCoordinateReferenceSystem.html#ab2dee1805d8e3b62448e4d106753b595">authid</a>() );</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( value.canConvert&lt; <a class="code" href="classQgsRectangle.html">QgsRectangle</a> &gt;() )</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="classQgsRectangle.html">QgsRectangle</a> r = value.value&lt;<a class="code" href="classQgsRectangle.html">QgsRectangle</a>&gt;();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;&#39;%1, %3, %2, %4&#39;&quot;</span> ).arg( <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a3186f5474a5fa3ced21e8204d339c301">xMinimum</a>() ),</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a601966d81267b649960ec2d409208350">yMinimum</a>() ),</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a7fe11d0cd4fb7146dca5516c3eb03347">xMaximum</a>() ),</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a87a5cf3ee2fe6494c04a9e88876cc54e">yMaximum</a>() ) );</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( value.canConvert&lt; <a class="code" href="classQgsReferencedRectangle.html">QgsReferencedRectangle</a> &gt;() )</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classQgsReferencedRectangle.html">QgsReferencedRectangle</a> r = value.value&lt;<a class="code" href="classQgsReferencedRectangle.html">QgsReferencedRectangle</a>&gt;();</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;&#39;%1, %3, %2, %4 [%5]&#39;&quot;</span> ).arg( <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a3186f5474a5fa3ced21e8204d339c301">xMinimum</a>() ),</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a601966d81267b649960ec2d409208350">yMinimum</a>() ),</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a7fe11d0cd4fb7146dca5516c3eb03347">xMaximum</a>() ),</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsRectangle.html#a87a5cf3ee2fe6494c04a9e88876cc54e">yMaximum</a>() ),                                                                                                                             r.<a class="code" href="classQgsReferencedGeometryBase.html#a62883ad2b0aba56216c8f43aff17c077">crs</a>().<a class="code" href="classQgsCoordinateReferenceSystem.html#ab2dee1805d8e3b62448e4d106753b595">authid</a>() );</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( value.canConvert&lt; <a class="code" href="classQgsPointXY.html">QgsPointXY</a> &gt;() )</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classQgsPointXY.html">QgsPointXY</a> r = value.value&lt;<a class="code" href="classQgsPointXY.html">QgsPointXY</a>&gt;();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;&#39;%1,%2&#39;&quot;</span> ).arg( <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsPointXY.html#ac39fe3e623259485edcc42fbb77ab328">x</a>() ),</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                            <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsPointXY.html#a9e9cb74ed22e845f91d5d7a5e8e3fa08">y</a>() ) );</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( value.canConvert&lt; <a class="code" href="classQgsReferencedPointXY.html">QgsReferencedPointXY</a> &gt;() )</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="classQgsReferencedPointXY.html">QgsReferencedPointXY</a> r = value.value&lt;<a class="code" href="classQgsReferencedPointXY.html">QgsReferencedPointXY</a>&gt;();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;&#39;%1,%2 [%3]&#39;&quot;</span> ).arg( <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsPointXY.html#ac39fe3e623259485edcc42fbb77ab328">x</a>() ),</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;           <a class="code" href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a>( r.<a class="code" href="classQgsPointXY.html#a9e9cb74ed22e845f91d5d7a5e8e3fa08">y</a>() ),</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;           r.<a class="code" href="classQgsReferencedGeometryBase.html#a62883ad2b0aba56216c8f43aff17c077">crs</a>().<a class="code" href="classQgsCoordinateReferenceSystem.html#ab2dee1805d8e3b62448e4d106753b595">authid</a>() );</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">switch</span> ( value.type() )</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">case</span> QVariant::Bool:</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keywordflow">return</span> value.toBool() ? QStringLiteral( <span class="stringliteral">&quot;True&quot;</span> ) : QStringLiteral( <span class="stringliteral">&quot;False&quot;</span> );</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">case</span> QVariant::Double:</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">return</span> QString::number( value.toDouble() );</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">case</span> QVariant::Int:</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">case</span> QVariant::UInt:</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">return</span> QString::number( value.toInt() );</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">case</span> QVariant::LongLong:</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">case</span> QVariant::ULongLong:</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">return</span> QString::number( value.toLongLong() );</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">case</span> QVariant::List:</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      QStringList parts;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keyword">const</span> QVariantList vl = value.toList();</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">for</span> ( <span class="keyword">const</span> QVariant &amp;v : vl )</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        parts &lt;&lt; <a class="code" href="classQgsProcessingUtils.html#a6a6b063be0e53ef3e56e59bb6fbd2fb2">variantToPythonLiteral</a>( v );</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">return</span> parts.join( <span class="charliteral">&#39;,&#39;</span> ).prepend( <span class="charliteral">&#39;[&#39;</span> ).append( <span class="charliteral">&#39;]&#39;</span> );</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsProcessingUtils.html#a0da94e4659d51c0c5eac1935a4c31fdf">QgsProcessingUtils::stringToPythonLiteral</a>( value.toString() );</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a0da94e4659d51c0c5eac1935a4c31fdf">  471</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#a0da94e4659d51c0c5eac1935a4c31fdf">QgsProcessingUtils::stringToPythonLiteral</a>( <span class="keyword">const</span> QString &amp;<span class="keywordtype">string</span> )</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  QString s = string;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  s.replace( <span class="charliteral">&#39;\\&#39;</span>, QStringLiteral( <span class="stringliteral">&quot;\\\\&quot;</span> ) );</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  s.replace( <span class="charliteral">&#39;\n&#39;</span>, QStringLiteral( <span class="stringliteral">&quot;\\n&quot;</span> ) );</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  s.replace( <span class="charliteral">&#39;\r&#39;</span>, QStringLiteral( <span class="stringliteral">&quot;\\r&quot;</span> ) );</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  s.replace( <span class="charliteral">&#39;\t&#39;</span>, QStringLiteral( <span class="stringliteral">&quot;\\t&quot;</span> ) );</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  s.replace( <span class="charliteral">&#39;&quot;&#39;</span>, QStringLiteral( <span class="stringliteral">&quot;\\\&quot;&quot;</span> ) );</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  s.replace( <span class="charliteral">&#39;\&#39;&#39;</span>, QStringLiteral( <span class="stringliteral">&quot;\\\&#39;&quot;</span> ) );</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  s = s.prepend( <span class="charliteral">&#39;\&#39;&#39;</span> ).append( <span class="charliteral">&#39;\&#39;&#39;</span> );</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keywordtype">void</span> QgsProcessingUtils::parseDestinationString( QString &amp;destination, QString &amp;providerKey, QString &amp;uri, QString &amp;layerName, QString &amp;format, QMap&lt;QString, QVariant&gt; &amp;options, <span class="keywordtype">bool</span> &amp;useWriter )</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  QRegularExpression splitRx( QStringLiteral( <span class="stringliteral">&quot;^(.{3,}?):(.*)$&quot;</span> ) );</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  QRegularExpressionMatch match = splitRx.match( destination );</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">if</span> ( match.hasMatch() )</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    providerKey = match.captured( 1 );</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> ( providerKey == QStringLiteral( <span class="stringliteral">&quot;postgis&quot;</span> ) ) <span class="comment">// older processing used &quot;postgis&quot; instead of &quot;postgres&quot;</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      providerKey = QStringLiteral( <span class="stringliteral">&quot;postgres&quot;</span> );</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    uri = match.captured( 2 );</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> ( providerKey == QLatin1String( <span class="stringliteral">&quot;ogr&quot;</span> ) )</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="classQgsDataSourceUri.html">QgsDataSourceUri</a> dsUri( uri );</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordflow">if</span> ( !dsUri.<a class="code" href="classQgsDataSourceUri.html#aba8b54697bdeb731d2c72563ca8041c3">database</a>().isEmpty() )</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> ( !dsUri.<a class="code" href="classQgsDataSourceUri.html#a32668521aaf61fab65e357460a5d27fa">table</a>().isEmpty() )</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;          layerName = dsUri.<a class="code" href="classQgsDataSourceUri.html#a32668521aaf61fab65e357460a5d27fa">table</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;          options.insert( QStringLiteral( <span class="stringliteral">&quot;layerName&quot;</span> ), layerName );</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        uri = dsUri.<a class="code" href="classQgsDataSourceUri.html#aba8b54697bdeb731d2c72563ca8041c3">database</a>();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        format = <a class="code" href="classQgsVectorFileWriter.html#a61f47207b1959d021ef2eb4b45c6d88e">QgsVectorFileWriter::driverForExtension</a>( QFileInfo( uri ).completeSuffix() );</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      options.insert( QStringLiteral( <span class="stringliteral">&quot;update&quot;</span> ), <span class="keyword">true</span> );</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    useWriter = <span class="keyword">false</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    useWriter = <span class="keyword">true</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    providerKey = QStringLiteral( <span class="stringliteral">&quot;ogr&quot;</span> );</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    QRegularExpression splitRx( QStringLiteral( <span class="stringliteral">&quot;^(.*)\\.(.*?)$&quot;</span> ) );</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    QRegularExpressionMatch match = splitRx.match( destination );</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    QString extension;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> ( match.hasMatch() )</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      extension = match.captured( 2 );</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      format = <a class="code" href="classQgsVectorFileWriter.html#a61f47207b1959d021ef2eb4b45c6d88e">QgsVectorFileWriter::driverForExtension</a>( extension );</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> ( format.isEmpty() )</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      format = QStringLiteral( <span class="stringliteral">&quot;GPKG&quot;</span> );</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      destination = destination + QStringLiteral( <span class="stringliteral">&quot;.gpkg&quot;</span> );</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    options.insert( QStringLiteral( <span class="stringliteral">&quot;driverName&quot;</span> ), format );</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    uri = destination;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a8bda219b405a67116ec27cb6ab0af296">  537</a></span>&#160;<a class="code" href="classQgsFeatureSink.html">QgsFeatureSink</a> *<a class="code" href="classQgsProcessingUtils.html#a8bda219b405a67116ec27cb6ab0af296">QgsProcessingUtils::createFeatureSink</a>( QString &amp;destination, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <span class="keyword">const</span> <a class="code" href="classQgsFields.html">QgsFields</a> &amp;fields, <a class="code" href="classQgsWkbTypes.html#a70dff7aceefd4b16909f038e32aece11">QgsWkbTypes::Type</a> geometryType, <span class="keyword">const</span> <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a> &amp;<a class="code" href="qgswfsgetfeature_8cpp.html#a7ad000982146f8b67e673cdc80a26bec">crs</a>, <span class="keyword">const</span> QVariantMap &amp;createOptions, QgsFeatureSink::SinkFlags sinkFlags )</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  QVariantMap options = createOptions;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> ( !options.contains( QStringLiteral( <span class="stringliteral">&quot;fileEncoding&quot;</span> ) ) )</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// no destination encoding specified, use default</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    options.insert( QStringLiteral( <span class="stringliteral">&quot;fileEncoding&quot;</span> ), context.<a class="code" href="classQgsProcessingContext.html#a040d85e80e03114a9b291fe8c47d20f3">defaultEncoding</a>().isEmpty() ? QStringLiteral( <span class="stringliteral">&quot;system&quot;</span> ) : context.<a class="code" href="classQgsProcessingContext.html#a040d85e80e03114a9b291fe8c47d20f3">defaultEncoding</a>() );</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> ( destination.isEmpty() || destination.startsWith( QLatin1String( <span class="stringliteral">&quot;memory:&quot;</span> ) ) )</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// strip &quot;memory:&quot; from start of destination</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> ( destination.startsWith( QLatin1String( <span class="stringliteral">&quot;memory:&quot;</span> ) ) )</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      destination = destination.mid( 7 );</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> ( destination.isEmpty() )</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      destination = QStringLiteral( <span class="stringliteral">&quot;output&quot;</span> );</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// memory provider cannot be used with QgsVectorLayerImport - so create layer manually</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    std::unique_ptr&lt; QgsVectorLayer &gt; layer( <a class="code" href="classQgsMemoryProviderUtils.html#ad9c23e68423372d65e5a2174e405e612">QgsMemoryProviderUtils::createMemoryLayer</a>( destination, fields, geometryType, crs ) );</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> ( !layer || !layer-&gt;isValid() )</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classQgsProcessingException.html">QgsProcessingException</a>( QObject::tr( <span class="stringliteral">&quot;Could not create memory layer&quot;</span> ) );</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// update destination to layer ID</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    destination = layer-&gt;id();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// this is a factory, so we need to return a proxy</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    std::unique_ptr&lt; QgsProcessingFeatureSink &gt; sink( <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSink.html">QgsProcessingFeatureSink</a>( layer-&gt;dataProvider(), destination, context ) );</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    context.<a class="code" href="classQgsProcessingContext.html#a0c919837903847150ee62df2f9f83327">temporaryLayerStore</a>()-&gt;<a class="code" href="classQgsMapLayerStore.html#adba844ac49b9aa24b231133355a01dd3">addMapLayer</a>( layer.release() );</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> sink.release();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    QString providerKey;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    QString uri;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    QString layerName;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    QString format;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">bool</span> useWriter = <span class="keyword">false</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    parseDestinationString( destination, providerKey, uri, layerName, format, options, useWriter );</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="classQgsFields.html">QgsFields</a> newFields = fields;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> ( useWriter &amp;&amp; providerKey == QLatin1String( <span class="stringliteral">&quot;ogr&quot;</span> ) )</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// use QgsVectorFileWriter for OGR destinations instead of QgsVectorLayerImport, as that allows</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="comment">// us to use any OGR format which supports feature addition</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      QString finalFileName;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      std::unique_ptr&lt; QgsVectorFileWriter &gt; writer = qgis::make_unique&lt; QgsVectorFileWriter &gt;( destination, options.value( QStringLiteral( <span class="stringliteral">&quot;fileEncoding&quot;</span> ) ).toString(), newFields, geometryType, <a class="code" href="qgswfsgetfeature_8cpp.html#a7ad000982146f8b67e673cdc80a26bec">crs</a>, format, <a class="code" href="classQgsVectorFileWriter.html#ad92f30d3cfca5a3fccb686da36ec6622">QgsVectorFileWriter::defaultDatasetOptions</a>( format ),</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;          <a class="code" href="classQgsVectorFileWriter.html#a5d92da9f2991542faca7bf809286ff6f">QgsVectorFileWriter::defaultLayerOptions</a>( format ), &amp;finalFileName, <a class="code" href="classQgsVectorFileWriter.html#a1aac90d30d811d2888d1aab4098ad63cac74b47e35551c4eb945d38d620f429d2">QgsVectorFileWriter::NoSymbology</a>, sinkFlags );</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">if</span> ( writer-&gt;hasError() )</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classQgsProcessingException.html">QgsProcessingException</a>( QObject::tr( <span class="stringliteral">&quot;Could not create layer %1: %2&quot;</span> ).arg( destination, writer-&gt;errorMessage() ) );</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      destination = finalFileName;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSink.html">QgsProcessingFeatureSink</a>( writer.release(), destination, context, true );</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="comment">//create empty layer</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      std::unique_ptr&lt; QgsVectorLayerExporter &gt; exporter( <span class="keyword">new</span> <a class="code" href="classQgsVectorLayerExporter.html">QgsVectorLayerExporter</a>( uri, providerKey, newFields, geometryType, crs, <span class="keyword">true</span>, options, sinkFlags ) );</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">if</span> ( exporter-&gt;errorCode() )</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classQgsProcessingException.html">QgsProcessingException</a>( QObject::tr( <span class="stringliteral">&quot;Could not create layer %1: %2&quot;</span> ).arg( destination, exporter-&gt;errorMessage() ) );</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// use destination string as layer name (eg &quot;postgis:...&quot; )</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">if</span> ( !layerName.isEmpty() )</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        uri += QStringLiteral( <span class="stringliteral">&quot;|layername=%1&quot;</span> ).arg( layerName );</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      std::unique_ptr&lt; QgsVectorLayer &gt; layer( <span class="keyword">new</span> <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a>( uri, destination, providerKey ) );</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="comment">// update destination to layer ID</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      destination = layer-&gt;id();</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      context.<a class="code" href="classQgsProcessingContext.html#a0c919837903847150ee62df2f9f83327">temporaryLayerStore</a>()-&gt;<a class="code" href="classQgsMapLayerStore.html#adba844ac49b9aa24b231133355a01dd3">addMapLayer</a>( layer.release() );</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsProcessingFeatureSink.html">QgsProcessingFeatureSink</a>( exporter.release(), destination, context, true );</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a59c4de560073c1603bf41919488954fe">  619</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsProcessingUtils.html#a59c4de560073c1603bf41919488954fe">QgsProcessingUtils::createFeatureSinkPython</a>( <a class="code" href="classQgsFeatureSink.html">QgsFeatureSink</a> **sink, QString &amp;destination, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <span class="keyword">const</span> <a class="code" href="classQgsFields.html">QgsFields</a> &amp;fields, <a class="code" href="classQgsWkbTypes.html#a70dff7aceefd4b16909f038e32aece11">QgsWkbTypes::Type</a> geometryType, <span class="keyword">const</span> <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a> &amp;<a class="code" href="qgswfsgetfeature_8cpp.html#a7ad000982146f8b67e673cdc80a26bec">crs</a>, <span class="keyword">const</span> QVariantMap &amp;options )</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  *sink = <a class="code" href="classQgsProcessingUtils.html#a8bda219b405a67116ec27cb6ab0af296">createFeatureSink</a>( destination, context, fields, geometryType, crs, options );</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a7a3d531eee3a982224408b3cd51647f3">  625</a></span>&#160;<a class="code" href="classQgsRectangle.html">QgsRectangle</a> <a class="code" href="classQgsProcessingUtils.html#a7a3d531eee3a982224408b3cd51647f3">QgsProcessingUtils::combineLayerExtents</a>( <span class="keyword">const</span> QList&lt;QgsMapLayer *&gt; &amp;layers, <span class="keyword">const</span> <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a> &amp;<a class="code" href="qgswfsgetfeature_8cpp.html#a7ad000982146f8b67e673cdc80a26bec">crs</a> )</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="classQgsRectangle.html">QgsRectangle</a> extent;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a> *layer : layers )</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> ( !layer )</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">if</span> ( crs.<a class="code" href="classQgsCoordinateReferenceSystem.html#a077267450cec872305c6690de5b5b09c">isValid</a>() )</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="comment">//transform layer extent to target CRS</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <a class="code" href="qgis_8h.html#a88101b8be6d851c3ac0ce4eb6973ff49">Q_NOWARN_DEPRECATED_PUSH</a></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <a class="code" href="classQgsCoordinateTransform.html">QgsCoordinateTransform</a> ct( layer-&gt;<a class="code" href="classQgsMapLayer.html#a3619f5329809ff09bf0cc88b05dd6168">crs</a>(), <a class="code" href="qgswfsgetfeature_8cpp.html#a7ad000982146f8b67e673cdc80a26bec">crs</a> );</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="qgis_8h.html#a3730f03e52ac037d6db6d81163f260c3">Q_NOWARN_DEPRECATED_POP</a></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">try</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="classQgsRectangle.html">QgsRectangle</a> reprojExtent = ct.transformBoundingBox( layer-&gt;<a class="code" href="classQgsVectorLayer.html#ab4acc8bc34db16c604e2a746c874dbfc">extent</a>() );</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        extent.<a class="code" href="classQgsRectangle.html#ab8a73ddc15774addc822550266f886c9">combineExtentWith</a>( reprojExtent );</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">catch</span> ( <a class="code" href="classQgsCsException.html">QgsCsException</a> &amp; )</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="comment">// can&#39;t reproject... what to do here? hmmm?</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">// let&#39;s ignore this layer for now, but maybe we should just use the original extent?</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      extent.<a class="code" href="classQgsRectangle.html#ab8a73ddc15774addc822550266f886c9">combineExtentWith</a>( layer-&gt;<a class="code" href="classQgsVectorLayer.html#ab4acc8bc34db16c604e2a746c874dbfc">extent</a>() );</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">return</span> extent;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a1b373e1f8416db5e3ecc55b5d7bcdaf6">  659</a></span>&#160;QVariant <a class="code" href="classQgsProcessingUtils.html#a1b373e1f8416db5e3ecc55b5d7bcdaf6">QgsProcessingUtils::generateIteratingDestination</a>( <span class="keyword">const</span> QVariant &amp;input, <span class="keyword">const</span> QVariant &amp;<span class="keywordtype">id</span>, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context )</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">if</span> ( !input.isValid() )</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;memory:%1&quot;</span> ).arg( <span class="keywordtype">id</span>.toString() );</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> ( input.canConvert&lt;<a class="code" href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a>&gt;() )</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a> fromVar = qvariant_cast&lt;<a class="code" href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a>&gt;( input );</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    QVariant newSink = <a class="code" href="classQgsProcessingUtils.html#a1b373e1f8416db5e3ecc55b5d7bcdaf6">generateIteratingDestination</a>( fromVar.<a class="code" href="classQgsProcessingOutputLayerDefinition.html#a3a9ee59cab4276223f7e5dd0bdfb61e4">sink</a>, <span class="keywordtype">id</span>, context );</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    fromVar.<a class="code" href="classQgsProcessingOutputLayerDefinition.html#a3a9ee59cab4276223f7e5dd0bdfb61e4">sink</a> = <a class="code" href="classQgsProperty.html#af1462dc7aaa921fb10d52c297be6fb32">QgsProperty::fromValue</a>( newSink );</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span> fromVar;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( input.canConvert&lt;<a class="code" href="classQgsProperty.html">QgsProperty</a>&gt;() )</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    QString res = input.value&lt; <a class="code" href="classQgsProperty.html">QgsProperty</a>&gt;().valueAsString( context.<a class="code" href="classQgsProcessingContext.html#a47bc9fd2cc92f0f3f605408da054b7f1">expressionContext</a>() );</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQgsProcessingUtils.html#a1b373e1f8416db5e3ecc55b5d7bcdaf6">generateIteratingDestination</a>( res, <span class="keywordtype">id</span>, context );</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  }</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    QString res = input.toString();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> ( res.startsWith( QLatin1String( <span class="stringliteral">&quot;memory:&quot;</span> ) ) )</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">return</span> res + <span class="charliteral">&#39;_&#39;</span> + <span class="keywordtype">id</span>.toString();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="comment">// assume a filename type output for now</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="comment">// TODO - uris?</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordtype">int</span> lastIndex = res.lastIndexOf( <span class="charliteral">&#39;.&#39;</span> );</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">return</span> res.left( lastIndex ) + <span class="charliteral">&#39;_&#39;</span> + <span class="keywordtype">id</span>.toString() + res.mid( lastIndex );</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a4a82c158a69f0517b469055533f01d40">  693</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#a4a82c158a69f0517b469055533f01d40">QgsProcessingUtils::tempFolder</a>()</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keyword">static</span> QString sFolder;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keyword">static</span> QMutex sMutex;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  sMutex.lock();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">if</span> ( sFolder.isEmpty() )</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    QString subPath = QUuid::createUuid().toString().remove( <span class="charliteral">&#39;-&#39;</span> ).remove( <span class="charliteral">&#39;{&#39;</span> ).remove( <span class="charliteral">&#39;}&#39;</span> );</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    sFolder = QDir::tempPath() + QStringLiteral( <span class="stringliteral">&quot;/processing_&quot;</span> ) + subPath;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> ( !QDir( sFolder ).exists() )</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      QDir().mkpath( sFolder );</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  sMutex.unlock();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">return</span> sFolder;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a532c337cdfce9e7aa6204f4e0c1247cd">  709</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#a532c337cdfce9e7aa6204f4e0c1247cd">QgsProcessingUtils::generateTempFilename</a>( <span class="keyword">const</span> QString &amp;basename )</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  QString subPath = QUuid::createUuid().toString().remove( <span class="charliteral">&#39;-&#39;</span> ).remove( <span class="charliteral">&#39;{&#39;</span> ).remove( <span class="charliteral">&#39;}&#39;</span> );</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  QString path = <a class="code" href="classQgsProcessingUtils.html#a4a82c158a69f0517b469055533f01d40">tempFolder</a>() + <span class="charliteral">&#39;/&#39;</span> + subPath;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> ( !QDir( path ).exists() ) <span class="comment">//make sure the directory exists - it shouldn&#39;t, but lets be safe...</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    QDir tmpDir;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    tmpDir.mkdir( path );</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">return</span> path + <span class="charliteral">&#39;/&#39;</span> + <a class="code" href="classQgsFileUtils.html#a123ee4aa699c0ca727e94682242df5cc">QgsFileUtils::stringToSafeFilename</a>( basename );</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a3f7e06668b5ef7c540d090846b03c071">  721</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#a3f7e06668b5ef7c540d090846b03c071">QgsProcessingUtils::formatHelpMapAsHtml</a>( <span class="keyword">const</span> QVariantMap &amp;map, <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> )</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;{</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keyword">auto</span> getText = [map]( <span class="keyword">const</span> QString &amp; key )-&gt;QString</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">if</span> ( map.contains( key ) )</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">return</span> map.value( key ).toString();</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> QString();</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  };</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  QString s = QObject::tr( <span class="stringliteral">&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Algorithm description&lt;/h2&gt;\n&quot;</span> );</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  s += QStringLiteral( <span class="stringliteral">&quot;&lt;p&gt;&quot;</span> ) + getText( QStringLiteral( <span class="stringliteral">&quot;ALG_DESC&quot;</span> ) ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/p&gt;\n&quot;</span> );</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  QString inputs;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> parameterDefinitions = algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a52751b5318eb077aaa5e475c7a3e82ef">parameterDefinitions</a>();</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsProcessingParameterDefinition.html">QgsProcessingParameterDefinition</a> *def : parameterDefinitions )</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    inputs += QStringLiteral( <span class="stringliteral">&quot;&lt;h3&gt;&quot;</span> ) + def-&gt;description() + QStringLiteral( <span class="stringliteral">&quot;&lt;/h3&gt;\n&quot;</span> );</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    inputs += QStringLiteral( <span class="stringliteral">&quot;&lt;p&gt;&quot;</span> ) + getText( def-&gt;name() ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/p&gt;\n&quot;</span> );</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> ( !inputs.isEmpty() )</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    s += QObject::tr( <span class="stringliteral">&quot;&lt;h2&gt;Input parameters&lt;/h2&gt;\n&quot;</span> ) + inputs;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  QString outputs;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> outputDefinitions = algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#a0a1b7ab5b4cd285fafda3def029bf4eb">outputDefinitions</a>();</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsProcessingOutputDefinition.html">QgsProcessingOutputDefinition</a> *def : outputDefinitions )</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    outputs += QStringLiteral( <span class="stringliteral">&quot;&lt;h3&gt;&quot;</span> ) + def-&gt;description() + QStringLiteral( <span class="stringliteral">&quot;&lt;/h3&gt;\n&quot;</span> );</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    outputs += QStringLiteral( <span class="stringliteral">&quot;&lt;p&gt;&quot;</span> ) + getText( def-&gt;name() ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/p&gt;\n&quot;</span> );</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">if</span> ( !outputs.isEmpty() )</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    s += QObject::tr( <span class="stringliteral">&quot;&lt;h2&gt;Outputs&lt;/h2&gt;\n&quot;</span> ) + outputs;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  s += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&quot;</span> );</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">if</span> ( !map.value( QStringLiteral( <span class="stringliteral">&quot;ALG_CREATOR&quot;</span> ) ).toString().isEmpty() )</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    s += QObject::tr( <span class="stringliteral">&quot;&lt;p align=\&quot;right\&quot;&gt;Algorithm author: %1&lt;/p&gt;&quot;</span> ).arg( getText( QStringLiteral( <span class="stringliteral">&quot;ALG_CREATOR&quot;</span> ) ) );</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span> ( !map.value( QStringLiteral( <span class="stringliteral">&quot;ALG_HELP_CREATOR&quot;</span> ) ).toString().isEmpty() )</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    s += QObject::tr( <span class="stringliteral">&quot;&lt;p align=\&quot;right\&quot;&gt;Help author: %1&lt;/p&gt;&quot;</span> ).arg( getText( QStringLiteral( <span class="stringliteral">&quot;ALG_HELP_CREATOR&quot;</span> ) ) );</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">if</span> ( !map.value( QStringLiteral( <span class="stringliteral">&quot;ALG_VERSION&quot;</span> ) ).toString().isEmpty() )</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    s += QObject::tr( <span class="stringliteral">&quot;&lt;p align=\&quot;right\&quot;&gt;Algorithm version: %1&lt;/p&gt;&quot;</span> ).arg( getText( QStringLiteral( <span class="stringliteral">&quot;ALG_VERSION&quot;</span> ) ) );</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  s += QStringLiteral( <span class="stringliteral">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span> );</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#abdddc0670f854a5cb5f4998484f5550a">  766</a></span>&#160;QString <a class="code" href="classQgsProcessingUtils.html#abdddc0670f854a5cb5f4998484f5550a">QgsProcessingUtils::convertToCompatibleFormat</a>( <span class="keyword">const</span> <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *vl, <span class="keywordtype">bool</span> selectedFeaturesOnly, <span class="keyword">const</span> QString &amp;baseName, <span class="keyword">const</span> QStringList &amp;compatibleFormats, <span class="keyword">const</span> QString &amp;preferredFormat, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <a class="code" href="classQgsProcessingFeedback.html">QgsProcessingFeedback</a> *feedback )</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordtype">bool</span> requiresTranslation = <span class="keyword">false</span>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// if we are only looking for selected features then we have to export back to disk,</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// as we need to subset only selected features, a concept which doesn&#39;t exist outside QGIS!</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  requiresTranslation = requiresTranslation || selectedFeaturesOnly;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// if the data provider is NOT ogr, then we HAVE to convert. Otherwise we run into</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">// issues with data providers like spatialite, delimited text where the format can be</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// opened outside of QGIS, but with potentially very different behavior!</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  requiresTranslation = requiresTranslation || vl-&gt;<a class="code" href="classQgsVectorLayer.html#a95062c539fb8f8bd87a068025bcd8ded">dataProvider</a>()-&gt;<a class="code" href="classQgsDataProvider.html#a167a2d18c5824e4d5b69455b031546bd">name</a>() != QLatin1String( <span class="stringliteral">&quot;ogr&quot;</span> );</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">// if the layer has a feature filter set, then we HAVE to convert. Feature filters are</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// a purely QGIS concept.</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  requiresTranslation = requiresTranslation || !vl-&gt;<a class="code" href="classQgsVectorLayer.html#a82752c93ea29f4789e2973ef2090b9e7">subsetString</a>().isEmpty();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// Check if layer is a disk based format and if so if the layer&#39;s path has a compatible filename suffix</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">if</span> ( !requiresTranslation )</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keyword">const</span> QVariantMap parts = <a class="code" href="classQgsProviderRegistry.html#a60c16019b5073ee00c3e26141312bfb2">QgsProviderRegistry::instance</a>()-&gt;<a class="code" href="classQgsProviderRegistry.html#a25d53a41b52b7fe7b7d7ab534d6e8ed1">decodeUri</a>( vl-&gt;<a class="code" href="classQgsVectorLayer.html#a95062c539fb8f8bd87a068025bcd8ded">dataProvider</a>()-&gt;<a class="code" href="classQgsDataProvider.html#a167a2d18c5824e4d5b69455b031546bd">name</a>(), vl-&gt;<a class="code" href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">source</a>() );</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> ( parts.contains( QLatin1String( <span class="stringliteral">&quot;path&quot;</span> ) ) )</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      QFileInfo fi( parts.value( QLatin1String( <span class="stringliteral">&quot;path&quot;</span> ) ).toString() );</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      requiresTranslation = !compatibleFormats.contains( fi.suffix(), Qt::CaseInsensitive );</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      requiresTranslation = <span class="keyword">true</span>; <span class="comment">// not a disk-based format</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">if</span> ( requiresTranslation )</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    QString temp = <a class="code" href="classQgsProcessingUtils.html#a532c337cdfce9e7aa6204f4e0c1247cd">QgsProcessingUtils::generateTempFilename</a>( baseName + <span class="charliteral">&#39;.&#39;</span> + preferredFormat );</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="classQgsVectorFileWriter.html">QgsVectorFileWriter</a> writer( temp, context.<a class="code" href="classQgsProcessingContext.html#a040d85e80e03114a9b291fe8c47d20f3">defaultEncoding</a>(),</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                                vl-&gt;<a class="code" href="classQgsVectorLayer.html#a3810719f044f4804c620be5bba5f270f">fields</a>(), vl-&gt;<a class="code" href="classQgsVectorLayer.html#a02e164842da83a62157f05518a47eea6">wkbType</a>(), vl-&gt;<a class="code" href="classQgsMapLayer.html#a3619f5329809ff09bf0cc88b05dd6168">crs</a>(), <a class="code" href="classQgsVectorFileWriter.html#a61f47207b1959d021ef2eb4b45c6d88e">QgsVectorFileWriter::driverForExtension</a>( preferredFormat ) );</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classQgsFeature.html">QgsFeature</a> f;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="classQgsFeatureIterator.html">QgsFeatureIterator</a> it;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span> ( selectedFeaturesOnly )</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      it = vl-&gt;<a class="code" href="classQgsVectorLayer.html#a89189517ec26fb835739e9e5e4f7bf46">getSelectedFeatures</a>();</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      it = vl-&gt;<a class="code" href="classQgsVectorLayer.html#a34d5f22eeef1ebb67dc757f6415a481e">getFeatures</a>();</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">while</span> ( it.<a class="code" href="classQgsFeatureIterator.html#a0e06c74bda2fbddbd7f2de13363fac44">nextFeature</a>( f ) )</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">if</span> ( feedback-&gt;<a class="code" href="classQgsFeedback.html#a166e5fb87ddb57e86de791b14b6a6ce4">isCanceled</a>() )</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">return</span> QString();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      writer.addFeature( f, <a class="code" href="classQgsFeatureSink.html#a85446dba6f3f5d74ad85890cfdd58239acd4b5c2a6ae1868f72a80b8fce669072">QgsFeatureSink::FastInsert</a> );</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span> temp;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  }</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">return</span> vl-&gt;<a class="code" href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">source</a>();</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a00db55f32fef06433589552394e6f2b8">  825</a></span>&#160;<a class="code" href="classQgsFields.html">QgsFields</a> <a class="code" href="classQgsProcessingUtils.html#a00db55f32fef06433589552394e6f2b8">QgsProcessingUtils::combineFields</a>( <span class="keyword">const</span> <a class="code" href="classQgsFields.html">QgsFields</a> &amp;fieldsA, <span class="keyword">const</span> <a class="code" href="classQgsFields.html">QgsFields</a> &amp;fieldsB )</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;{</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="classQgsFields.html">QgsFields</a> outFields = fieldsA;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  QSet&lt; QString &gt; usedNames;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsField.html">QgsField</a> &amp;f : fieldsA )</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    usedNames.insert( f.name().toLower() );</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> <a class="code" href="classQgsField.html">QgsField</a> &amp;f : fieldsB )</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> ( usedNames.contains( f.name().toLower() ) )</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    {</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordtype">int</span> idx = 2;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      QString newName = f.name() + <span class="charliteral">&#39;_&#39;</span> + QString::number( idx );</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">while</span> ( usedNames.contains( newName.toLower() ) )</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        idx++;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        newName = f.name() + <span class="charliteral">&#39;_&#39;</span> + QString::number( idx );</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <a class="code" href="classQgsField.html">QgsField</a> newField = f;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      newField.<a class="code" href="classQgsField.html#a5c42dee74115fb78383b3140c023fcbe">setName</a>( newName );</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      outFields.<a class="code" href="classQgsFields.html#a3b0f9a92ff8cdbcdea3935f2d81ea5a0">append</a>( newField );</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      usedNames.insert( newName.toLower() );</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      usedNames.insert( f.name().toLower() );</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      outFields.<a class="code" href="classQgsFields.html#a3b0f9a92ff8cdbcdea3935f2d81ea5a0">append</a>( f );</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">return</span> outFields;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a21ce59b8601519e12508074e1af225d0">  861</a></span>&#160;QList&lt;int&gt; <a class="code" href="classQgsProcessingUtils.html#a21ce59b8601519e12508074e1af225d0">QgsProcessingUtils::fieldNamesToIndices</a>( <span class="keyword">const</span> QStringList &amp;fieldNames, <span class="keyword">const</span> <a class="code" href="classQgsFields.html">QgsFields</a> &amp;fields )</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  QList&lt;int&gt; indices;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">if</span> ( !fieldNames.isEmpty() )</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    indices.reserve( fieldNames.count() );</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">for</span> ( <span class="keyword">const</span> QString &amp;f : fieldNames )</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordtype">int</span> idx = fields.<a class="code" href="classQgsFields.html#ae10bb68f955914e5056eb36b5089f4d1">lookupField</a>( f );</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <span class="keywordflow">if</span> ( idx &gt;= 0 )</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        indices.append( idx );</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    indices.reserve( fields.<a class="code" href="classQgsFields.html#a747fd764be826bc9696597b3b79d1fbe">count</a>() );</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; fields.<a class="code" href="classQgsFields.html#a747fd764be826bc9696597b3b79d1fbe">count</a>(); ++i )</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      indices.append( i );</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">return</span> indices;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="classQgsProcessingUtils.html#a1d64060a5e97d0d841abb927f9bc0e70">  884</a></span>&#160;<a class="code" href="classQgsFields.html">QgsFields</a> <a class="code" href="classQgsProcessingUtils.html#a1d64060a5e97d0d841abb927f9bc0e70">QgsProcessingUtils::indicesToFields</a>( <span class="keyword">const</span> QList&lt;int&gt; &amp;indices, <span class="keyword">const</span> <a class="code" href="classQgsFields.html">QgsFields</a> &amp;fields )</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;{</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="classQgsFields.html">QgsFields</a> fieldsSubset;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i : indices )</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    fieldsSubset.<a class="code" href="classQgsFields.html#a3b0f9a92ff8cdbcdea3935f2d81ea5a0">append</a>( fields.<a class="code" href="classQgsFields.html#ad0fde19705fd2bf82a061ca13e5cf737">at</a>( i ) );</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">return</span> fieldsSubset;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">// QgsProcessingFeatureSource</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a7d4a20f2fcdf69c8824850a8dcc3ed98">  896</a></span>&#160;<a class="code" href="classQgsProcessingFeatureSource.html#a7d4a20f2fcdf69c8824850a8dcc3ed98">QgsProcessingFeatureSource::QgsProcessingFeatureSource</a>( <a class="code" href="classQgsFeatureSource.html">QgsFeatureSource</a> *originalSource, <span class="keyword">const</span> <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <span class="keywordtype">bool</span> ownsOriginalSource )</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  : mSource( originalSource )</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  , mOwnsSource( ownsOriginalSource )</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  , mInvalidGeometryCheck( <a class="code" href="classQgsWkbTypes.html">QgsWkbTypes</a>::geometryType( mSource-&gt;wkbType() ) == <a class="code" href="classQgsWkbTypes.html">QgsWkbTypes</a>::PointGeometry</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                           ? <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a>::GeometryNoCheck <span class="comment">// never run geometry validity checks for point layers!</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                           : context.invalidGeometryCheck() )</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  , mInvalidGeometryCallback( context.invalidGeometryCallback() )</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  , mTransformErrorCallback( context.transformErrorCallback() )</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{}</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a39170fd72fe2ae08472bdc49750fe869">  906</a></span>&#160;<a class="code" href="classQgsProcessingFeatureSource.html#a39170fd72fe2ae08472bdc49750fe869">QgsProcessingFeatureSource::~QgsProcessingFeatureSource</a>()</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">if</span> ( mOwnsSource )</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keyword">delete</span> mSource;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a44a9fc867b16affd571c5a1ca0240fa2">  912</a></span>&#160;<a class="code" href="classQgsFeatureIterator.html">QgsFeatureIterator</a> <a class="code" href="classQgsProcessingFeatureSource.html#a44a9fc867b16affd571c5a1ca0240fa2">QgsProcessingFeatureSource::getFeatures</a>( <span class="keyword">const</span> <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a> &amp;request, Flags flags )<span class="keyword"> const</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a> req( request );</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  req.<a class="code" href="classQgsFeatureRequest.html#adb58f2cfbed1e7adf7d6df4aab9b996b">setTransformErrorCallback</a>( mTransformErrorCallback );</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">if</span> ( flags &amp; <a class="code" href="classQgsProcessingFeatureSource.html#ab53039fddce5b82216a0d8802324f475abc395a74ace84f96fb06017ec3313894">FlagSkipGeometryValidityChecks</a> )</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    req.<a class="code" href="classQgsFeatureRequest.html#ad6ccaf42184a99b33d1628d4835fc0df">setInvalidGeometryCheck</a>( <a class="code" href="classQgsFeatureRequest.html#a3655611e7a12a5117d5003aa352b28c8a3abf45c895dbb96edad2a4dc65622681">QgsFeatureRequest::GeometryNoCheck</a> );</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    req.<a class="code" href="classQgsFeatureRequest.html#ad6ccaf42184a99b33d1628d4835fc0df">setInvalidGeometryCheck</a>( mInvalidGeometryCheck );</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    req.<a class="code" href="classQgsFeatureRequest.html#ac72fc25628e73e48af02ba20c9877acc">setInvalidGeometryCallback</a>( mInvalidGeometryCallback );</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#aa16f62261f2e83d105f771ce28fefce6">getFeatures</a>( req );</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a234af9a37c8afeb6e34f0cabdf8c77cd">  928</a></span>&#160;<a class="code" href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057">QgsFeatureSource::FeatureAvailability</a> <a class="code" href="classQgsProcessingFeatureSource.html#a234af9a37c8afeb6e34f0cabdf8c77cd">QgsProcessingFeatureSource::hasFeatures</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057">FeatureAvailability</a> sourceAvailability = mSource-&gt;<a class="code" href="classQgsFeatureSource.html#a6f75283013397a5041db18992a66f34b">hasFeatures</a>();</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> ( sourceAvailability == <a class="code" href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057ae0beb7ceb47869612ad19f06687b8629">NoFeaturesAvailable</a> )</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057ae0beb7ceb47869612ad19f06687b8629">NoFeaturesAvailable</a>; <span class="comment">// never going to be features if underlying source has no features</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mInvalidGeometryCheck == <a class="code" href="classQgsFeatureRequest.html#a3655611e7a12a5117d5003aa352b28c8a3abf45c895dbb96edad2a4dc65622681">QgsFeatureRequest::GeometryNoCheck</a> )</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">return</span> sourceAvailability;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// we don&#39;t know... source has features, but these may be filtered out by invalid geometry check</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057a0b39d4a12268de21cf16f802a4821888">FeaturesMaybeAvailable</a>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a9683070bb1d5426af614e3465ef2b136">  940</a></span>&#160;<a class="code" href="classQgsFeatureIterator.html">QgsFeatureIterator</a> <a class="code" href="classQgsProcessingFeatureSource.html#a44a9fc867b16affd571c5a1ca0240fa2">QgsProcessingFeatureSource::getFeatures</a>( <span class="keyword">const</span> <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a> &amp;request )<span class="keyword"> const</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a> req( request );</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  req.<a class="code" href="classQgsFeatureRequest.html#ad6ccaf42184a99b33d1628d4835fc0df">setInvalidGeometryCheck</a>( mInvalidGeometryCheck );</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  req.<a class="code" href="classQgsFeatureRequest.html#ac72fc25628e73e48af02ba20c9877acc">setInvalidGeometryCallback</a>( mInvalidGeometryCallback );</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  req.<a class="code" href="classQgsFeatureRequest.html#adb58f2cfbed1e7adf7d6df4aab9b996b">setTransformErrorCallback</a>( mTransformErrorCallback );</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#aa16f62261f2e83d105f771ce28fefce6">getFeatures</a>( req );</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a54d40acd95ab5d9a77b12027e3433692">  949</a></span>&#160;<a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a> <a class="code" href="classQgsProcessingFeatureSource.html#a54d40acd95ab5d9a77b12027e3433692">QgsProcessingFeatureSource::sourceCrs</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#a263eee3bfb98755cbe411968d72601cd">sourceCrs</a>();</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#aed02ec303753c2d2f4545af08ec11e1d">  954</a></span>&#160;<a class="code" href="classQgsFields.html">QgsFields</a> <a class="code" href="classQgsProcessingFeatureSource.html#aed02ec303753c2d2f4545af08ec11e1d">QgsProcessingFeatureSource::fields</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#a13c7311e473ed02b22f7b673e9bcff60">fields</a>();</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;}</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#aa696fc2e5e0f8a3982050a17232946e8">  959</a></span>&#160;<a class="code" href="classQgsWkbTypes.html#a70dff7aceefd4b16909f038e32aece11">QgsWkbTypes::Type</a> <a class="code" href="classQgsProcessingFeatureSource.html#aa696fc2e5e0f8a3982050a17232946e8">QgsProcessingFeatureSource::wkbType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#a6dd4622d2c06d1d898460c548404ee99">wkbType</a>();</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a366d2c72dd9532ba4f4e2b97688bd584">  964</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="classQgsProcessingFeatureSource.html#a366d2c72dd9532ba4f4e2b97688bd584">QgsProcessingFeatureSource::featureCount</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#aaa7a890168b71e524c56baff022b36f7">featureCount</a>();</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#ac08762d92e4a1c4d07beafa8679b8b69">  969</a></span>&#160;QString <a class="code" href="classQgsProcessingFeatureSource.html#ac08762d92e4a1c4d07beafa8679b8b69">QgsProcessingFeatureSource::sourceName</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#ab9f3b9901e4d7f84a76df2f5cd80b4e7">sourceName</a>();</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;}</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a0d51411cc5e2430646d886466a8c255b">  975</a></span>&#160;QSet&lt;QVariant&gt; <a class="code" href="classQgsProcessingFeatureSource.html#a0d51411cc5e2430646d886466a8c255b">QgsProcessingFeatureSource::uniqueValues</a>( <span class="keywordtype">int</span> fieldIndex, <span class="keywordtype">int</span> limit )<span class="keyword"> const</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#a20fbdc02ebae7eb0250ee390286e6466">uniqueValues</a>( fieldIndex, limit );</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#aa23ad1ce45eb865c9271ed301893337a">  980</a></span>&#160;QVariant <a class="code" href="classQgsProcessingFeatureSource.html#aa23ad1ce45eb865c9271ed301893337a">QgsProcessingFeatureSource::minimumValue</a>( <span class="keywordtype">int</span> fieldIndex )<span class="keyword"> const</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#a986882d83f5f5718ae1b917003024608">minimumValue</a>( fieldIndex );</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a2d05f3893a6a7479abd05a2d8ffc5e67">  985</a></span>&#160;QVariant <a class="code" href="classQgsProcessingFeatureSource.html#a2d05f3893a6a7479abd05a2d8ffc5e67">QgsProcessingFeatureSource::maximumValue</a>( <span class="keywordtype">int</span> fieldIndex )<span class="keyword"> const</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#aba70559fe60637b0e366c1783f265b21">maximumValue</a>( fieldIndex );</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;}</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a02e700158059a8f08746c061bca39840">  990</a></span>&#160;<a class="code" href="classQgsRectangle.html">QgsRectangle</a> <a class="code" href="classQgsProcessingFeatureSource.html#a02e700158059a8f08746c061bca39840">QgsProcessingFeatureSource::sourceExtent</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#add03234eb7c62ed070508d0c0bb39ec9">sourceExtent</a>();</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#ac82bbe68e6a38a776f26098f65056d78">  995</a></span>&#160;<a class="code" href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3">QgsFeatureIds</a> <a class="code" href="classQgsProcessingFeatureSource.html#ac82bbe68e6a38a776f26098f65056d78">QgsProcessingFeatureSource::allFeatureIds</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">return</span> mSource-&gt;<a class="code" href="classQgsFeatureSource.html#ac25a91ac31808a8dc2b76026870fcf8b">allFeatureIds</a>();</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSource.html#a0e6b4bdfe35bf9fcaeb9f1c875e9a8e9"> 1000</a></span>&#160;<a class="code" href="classQgsExpressionContextScope.html">QgsExpressionContextScope</a> *<a class="code" href="classQgsProcessingFeatureSource.html#a0e6b4bdfe35bf9fcaeb9f1c875e9a8e9">QgsProcessingFeatureSource::createExpressionContextScope</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="classQgsExpressionContextScope.html">QgsExpressionContextScope</a> *expressionContextScope = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="classQgsExpressionContextScopeGenerator.html">QgsExpressionContextScopeGenerator</a> *generator = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsExpressionContextScopeGenerator.html">QgsExpressionContextScopeGenerator</a> *<span class="keyword">&gt;</span>( mSource );</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">if</span> ( generator )</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    expressionContextScope = generator-&gt;<a class="code" href="classQgsExpressionContextScopeGenerator.html#a6bb15fd598874ce32f0eb2ec9558994c">createExpressionContextScope</a>();</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">return</span> expressionContextScope;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">// QgsProcessingFeatureSink</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSink.html#a87934479915b913567e1d028308b86f0"> 1015</a></span>&#160;<a class="code" href="classQgsProcessingFeatureSink.html#a87934479915b913567e1d028308b86f0">QgsProcessingFeatureSink::QgsProcessingFeatureSink</a>( <a class="code" href="classQgsFeatureSink.html">QgsFeatureSink</a> *originalSink, <span class="keyword">const</span> QString &amp;sinkName, <a class="code" href="classQgsProcessingContext.html">QgsProcessingContext</a> &amp;context, <span class="keywordtype">bool</span> ownsOriginalSink )</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  : <a class="code" href="classQgsProxyFeatureSink.html">QgsProxyFeatureSink</a>( originalSink )</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  , mContext( context )</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  , mSinkName( sinkName )</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  , mOwnsSink( ownsOriginalSink )</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;{}</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSink.html#a7993f62055b6f4f30bc2d12fbd7ae4bb"> 1022</a></span>&#160;<a class="code" href="classQgsProcessingFeatureSink.html#a7993f62055b6f4f30bc2d12fbd7ae4bb">QgsProcessingFeatureSink::~QgsProcessingFeatureSink</a>()</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;{</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">if</span> ( mOwnsSink )</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQgsProxyFeatureSink.html#a7e73b6cec2ef69624611c40b41fcaa33">destinationSink</a>();</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSink.html#ac73fceaa7a9ba8d11bb69dddf3272742"> 1028</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsProcessingFeatureSink.html#ac73fceaa7a9ba8d11bb69dddf3272742">QgsProcessingFeatureSink::addFeature</a>( <a class="code" href="classQgsFeature.html">QgsFeature</a> &amp;feature, QgsFeatureSink::Flags flags )</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordtype">bool</span> result = <a class="code" href="classQgsProxyFeatureSink.html#a7d7d0403ed95ab054a974d3a442f50c4">QgsProxyFeatureSink::addFeature</a>( feature, flags );</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> ( !result )</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    mContext.<a class="code" href="classQgsProcessingContext.html#ab772fe3d8ae22c4726ff12a9d160f902">feedback</a>()-&gt;<a class="code" href="classQgsProcessingFeedback.html#a4fc777eb7aebb55afbb0bb736ef28064">reportError</a>( QObject::tr( <span class="stringliteral">&quot;Feature could not be written to %1&quot;</span> ).arg( mSinkName ) );</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;}</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSink.html#accb6b4c797ed861aafbd833c9a7363f9"> 1036</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsProcessingFeatureSink.html#accb6b4c797ed861aafbd833c9a7363f9">QgsProcessingFeatureSink::addFeatures</a>( <a class="code" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> &amp;features, QgsFeatureSink::Flags flags )</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;{</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordtype">bool</span> result = <a class="code" href="classQgsProxyFeatureSink.html#a5c26dabfafa63d3efcd11e0d7d1b4ec6">QgsProxyFeatureSink::addFeatures</a>( features, flags );</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> ( !result )</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    mContext.<a class="code" href="classQgsProcessingContext.html#ab772fe3d8ae22c4726ff12a9d160f902">feedback</a>()-&gt;<a class="code" href="classQgsProcessingFeedback.html#a4fc777eb7aebb55afbb0bb736ef28064">reportError</a>( QObject::tr( <span class="stringliteral">&quot;%1 feature(s) could not be written to %2&quot;</span> ).arg( features.count() ).arg( mSinkName ) );</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="classQgsProcessingFeatureSink.html#a7e3081a97049bb625dc132bb170d1f5f"> 1044</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsProcessingFeatureSink.html#accb6b4c797ed861aafbd833c9a7363f9">QgsProcessingFeatureSink::addFeatures</a>( <a class="code" href="classQgsFeatureIterator.html">QgsFeatureIterator</a> &amp;iterator, QgsFeatureSink::Flags flags )</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;{</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordtype">bool</span> result = !<a class="code" href="classQgsProxyFeatureSink.html#a5c26dabfafa63d3efcd11e0d7d1b4ec6">QgsProxyFeatureSink::addFeatures</a>( iterator, flags );</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">if</span> ( !result )</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    mContext.<a class="code" href="classQgsProcessingContext.html#ab772fe3d8ae22c4726ff12a9d160f902">feedback</a>()-&gt;<a class="code" href="classQgsProcessingFeedback.html#a4fc777eb7aebb55afbb0bb736ef28064">reportError</a>( QObject::tr( <span class="stringliteral">&quot;Features could not be written to %1&quot;</span> ).arg( mSinkName ) );</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div><div class="ttc" id="classQgsFields_html_ae10bb68f955914e5056eb36b5089f4d1"><div class="ttname"><a href="classQgsFields.html#ae10bb68f955914e5056eb36b5089f4d1">QgsFields::lookupField</a></div><div class="ttdeci">int lookupField(const QString &amp;fieldName) const</div><div class="ttdoc">Looks up field&amp;#39;s index from the field name. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfields_8cpp_source.html#l00324">qgsfields.cpp:324</a></div></div>
<div class="ttc" id="classQgsProcessingOutputLayerDefinition_html_a3a9ee59cab4276223f7e5dd0bdfb61e4"><div class="ttname"><a href="classQgsProcessingOutputLayerDefinition.html#a3a9ee59cab4276223f7e5dd0bdfb61e4">QgsProcessingOutputLayerDefinition::sink</a></div><div class="ttdeci">QgsProperty sink</div><div class="ttdoc">Sink/layer definition. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingparameters_8h_source.html#l00137">qgsprocessingparameters.h:137</a></div></div>
<div class="ttc" id="qgsmemoryproviderutils_8h_html"><div class="ttname"><a href="qgsmemoryproviderutils_8h.html">qgsmemoryproviderutils.h</a></div></div>
<div class="ttc" id="classQgsFeatureIterator_html"><div class="ttname"><a href="classQgsFeatureIterator.html">QgsFeatureIterator</a></div><div class="ttdoc">Wrapper for iterator of features from vector data provider or vector layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeatureiterator_8h_source.html#l00263">qgsfeatureiterator.h:263</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a39170fd72fe2ae08472bdc49750fe869"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a39170fd72fe2ae08472bdc49750fe869">QgsProcessingFeatureSource::~QgsProcessingFeatureSource</a></div><div class="ttdeci">~QgsProcessingFeatureSource() override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00906">qgsprocessingutils.cpp:906</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_add03234eb7c62ed070508d0c0bb39ec9"><div class="ttname"><a href="classQgsFeatureSource.html#add03234eb7c62ed070508d0c0bb39ec9">QgsFeatureSource::sourceExtent</a></div><div class="ttdeci">virtual QgsRectangle sourceExtent() const</div><div class="ttdoc">Returns the extent of all geometries from the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8cpp_source.html#l00098">qgsfeaturesource.cpp:98</a></div></div>
<div class="ttc" id="classQgsFeatureSink_html_a85446dba6f3f5d74ad85890cfdd58239acd4b5c2a6ae1868f72a80b8fce669072"><div class="ttname"><a href="classQgsFeatureSink.html#a85446dba6f3f5d74ad85890cfdd58239acd4b5c2a6ae1868f72a80b8fce669072">QgsFeatureSink::FastInsert</a></div><div class="ttdoc">Use faster inserts, at the cost of updating the passed features to reflect changes made at the provid...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesink_8h_source.html#l00070">qgsfeaturesink.h:70</a></div></div>
<div class="ttc" id="classQgsRectangle_html"><div class="ttname"><a href="classQgsRectangle.html">QgsRectangle</a></div><div class="ttdoc">A rectangle specified with double values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00041">qgsrectangle.h:41</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_aa696fc2e5e0f8a3982050a17232946e8"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#aa696fc2e5e0f8a3982050a17232946e8">QgsProcessingFeatureSource::wkbType</a></div><div class="ttdeci">QgsWkbTypes::Type wkbType() const override</div><div class="ttdoc">Returns the geometry type for features returned by this source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00959">qgsprocessingutils.cpp:959</a></div></div>
<div class="ttc" id="classQgsProperty_html_a29b1551fefcc07ae4acf798d8edf43cd"><div class="ttname"><a href="classQgsProperty.html#a29b1551fefcc07ae4acf798d8edf43cd">QgsProperty::asExpression</a></div><div class="ttdeci">QString asExpression() const</div><div class="ttdoc">Returns an expression string representing the state of the property, or an empty string if the proper...</div><div class="ttdef"><b>Definition:</b> <a href="qgsproperty_8cpp_source.html#l00323">qgsproperty.cpp:323</a></div></div>
<div class="ttc" id="classQgsMapLayer_html"><div class="ttname"><a href="classQgsMapLayer.html">QgsMapLayer</a></div><div class="ttdoc">Base class for all map layer types. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00064">qgsmaplayer.h:64</a></div></div>
<div class="ttc" id="structQgsVectorLayer_1_1LayerOptions_html_aad9bc7d68d499c5fe9e6cabab110690f"><div class="ttname"><a href="structQgsVectorLayer_1_1LayerOptions.html#aad9bc7d68d499c5fe9e6cabab110690f">QgsVectorLayer::LayerOptions::loadDefaultStyle</a></div><div class="ttdeci">bool loadDefaultStyle</div><div class="ttdoc">Sets to true if the default layer style should be loaded. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8h_source.html#l00410">qgsvectorlayer.h:410</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_a32668521aaf61fab65e357460a5d27fa"><div class="ttname"><a href="classQgsDataSourceUri.html#a32668521aaf61fab65e357460a5d27fa">QgsDataSourceUri::table</a></div><div class="ttdeci">QString table() const</div><div class="ttdoc">Returns the table. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00309">qgsdatasourceuri.cpp:309</a></div></div>
<div class="ttc" id="qgsproject_8h_html"><div class="ttname"><a href="qgsproject_8h.html">qgsproject.h</a></div></div>
<div class="ttc" id="qgsfeatureid_8h_html_a443917048a2ef75006fdeba30f1549f3"><div class="ttname"><a href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3">QgsFeatureIds</a></div><div class="ttdeci">QSet&lt; QgsFeatureId &gt; QgsFeatureIds</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeatureid_8h_source.html#l00034">qgsfeatureid.h:34</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html_ac72fc25628e73e48af02ba20c9877acc"><div class="ttname"><a href="classQgsFeatureRequest.html#ac72fc25628e73e48af02ba20c9877acc">QgsFeatureRequest::setInvalidGeometryCallback</a></div><div class="ttdeci">QgsFeatureRequest &amp; setInvalidGeometryCallback(const std::function&lt; void(const QgsFeature &amp;)&gt; &amp;callback)</div><div class="ttdoc">Sets a callback function to use when encountering an invalid geometry and invalidGeometryCheck() is s...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8cpp_source.html#l00119">qgsfeaturerequest.cpp:119</a></div></div>
<div class="ttc" id="classQgsProcessingFeedback_html"><div class="ttname"><a href="classQgsProcessingFeedback.html">QgsProcessingFeedback</a></div><div class="ttdoc">Base class for providing feedback from a processing algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingfeedback_8h_source.html#l00035">qgsprocessingfeedback.h:35</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a52751b5318eb077aaa5e475c7a3e82ef"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a52751b5318eb077aaa5e475c7a3e82ef">QgsProcessingAlgorithm::parameterDefinitions</a></div><div class="ttdeci">QgsProcessingParameterDefinitions parameterDefinitions() const</div><div class="ttdoc">Returns an ordered list of parameter definitions utilized by the algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00273">qgsprocessingalgorithm.h:273</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_ab53039fddce5b82216a0d8802324f475abc395a74ace84f96fb06017ec3313894"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#ab53039fddce5b82216a0d8802324f475abc395a74ace84f96fb06017ec3313894">QgsProcessingFeatureSource::FlagSkipGeometryValidityChecks</a></div><div class="ttdoc">Invalid geometry checks should always be skipped. This flag can be useful for algorithms which always...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00341">qgsprocessingutils.h:341</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a13c7311e473ed02b22f7b673e9bcff60"><div class="ttname"><a href="classQgsFeatureSource.html#a13c7311e473ed02b22f7b673e9bcff60">QgsFeatureSource::fields</a></div><div class="ttdeci">virtual QgsFields fields() const =0</div><div class="ttdoc">Returns the fields associated with features in the source. </div></div>
<div class="ttc" id="classQgsProcessingOutputLayerDefinition_html"><div class="ttname"><a href="classQgsProcessingOutputLayerDefinition.html">QgsProcessingOutputLayerDefinition</a></div><div class="ttdoc">Encapsulates settings relating to a feature sink or output raster layer for a processing algorithm...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingparameters_8h_source.html#l00110">qgsprocessingparameters.h:110</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a59c4de560073c1603bf41919488954fe"><div class="ttname"><a href="classQgsProcessingUtils.html#a59c4de560073c1603bf41919488954fe">QgsProcessingUtils::createFeatureSinkPython</a></div><div class="ttdeci">static void createFeatureSinkPython(QgsFeatureSink **sink, QString &amp;destination, QgsProcessingContext &amp;context, const QgsFields &amp;fields, QgsWkbTypes::Type geometryType, const QgsCoordinateReferenceSystem &amp;crs, const QVariantMap &amp;createOptions=QVariantMap()) SIP_THROW(QgsProcessingException)</div><div class="ttdoc">Creates a feature sink ready for adding features. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00619">qgsprocessingutils.cpp:619</a></div></div>
<div class="ttc" id="classQgsProxyFeatureSink_html"><div class="ttname"><a href="classQgsProxyFeatureSink.html">QgsProxyFeatureSink</a></div><div class="ttdoc">A simple feature sink which proxies feature addition on to another feature sink. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesink_8h_source.html#l00119">qgsfeaturesink.h:119</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a9fc147173037c7a2f29e84fb8f6f3710a50da5804d7d222f41d4666591e4b66cb"><div class="ttname"><a href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a50da5804d7d222f41d4666591e4b66cb">QgsProcessingUtils::UnknownType</a></div><div class="ttdoc">Unknown layer type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00114">qgsprocessingutils.h:114</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a7a3d531eee3a982224408b3cd51647f3"><div class="ttname"><a href="classQgsProcessingUtils.html#a7a3d531eee3a982224408b3cd51647f3">QgsProcessingUtils::combineLayerExtents</a></div><div class="ttdeci">static QgsRectangle combineLayerExtents(const QList&lt; QgsMapLayer *&gt; &amp;layers, const QgsCoordinateReferenceSystem &amp;crs=QgsCoordinateReferenceSystem())</div><div class="ttdoc">Combines the extent of several map layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00625">qgsprocessingutils.cpp:625</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html_ad6ccaf42184a99b33d1628d4835fc0df"><div class="ttname"><a href="classQgsFeatureRequest.html#ad6ccaf42184a99b33d1628d4835fc0df">QgsFeatureRequest::setInvalidGeometryCheck</a></div><div class="ttdeci">QgsFeatureRequest &amp; setInvalidGeometryCheck(InvalidGeometryCheck check)</div><div class="ttdoc">Sets invalid geometry checking behavior. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8cpp_source.html#l00113">qgsfeaturerequest.cpp:113</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a7d4a20f2fcdf69c8824850a8dcc3ed98"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a7d4a20f2fcdf69c8824850a8dcc3ed98">QgsProcessingFeatureSource::QgsProcessingFeatureSource</a></div><div class="ttdeci">QgsProcessingFeatureSource(QgsFeatureSource *originalSource, const QgsProcessingContext &amp;context, bool ownsOriginalSource=false)</div><div class="ttdoc">Constructor for QgsProcessingFeatureSource, accepting an original feature source originalSource and p...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00896">qgsprocessingutils.cpp:896</a></div></div>
<div class="ttc" id="classQgsSettings_html"><div class="ttname"><a href="classQgsSettings.html">QgsSettings</a></div><div class="ttdoc">This class is a composition of two QSettings instances: </div><div class="ttdef"><b>Definition:</b> <a href="qgssettings_8h_source.html#l00058">qgssettings.h:58</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a81dd9e974bac0697ac2fd765e194a057"><div class="ttname"><a href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057">QgsFeatureSource::FeatureAvailability</a></div><div class="ttdeci">FeatureAvailability</div><div class="ttdoc">Possible return value for hasFeatures() to determine if a source is empty. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8h_source.html#l00050">qgsfeaturesource.h:50</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a02e164842da83a62157f05518a47eea6"><div class="ttname"><a href="classQgsVectorLayer.html#a02e164842da83a62157f05518a47eea6">QgsVectorLayer::wkbType</a></div><div class="ttdeci">QgsWkbTypes::Type wkbType() const FINAL</div><div class="ttdoc">Returns the WKBType or WKBUnknown in case of error. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l00603">qgsvectorlayer.cpp:603</a></div></div>
<div class="ttc" id="structQgsVectorLayer_1_1LayerOptions_html"><div class="ttname"><a href="structQgsVectorLayer_1_1LayerOptions.html">QgsVectorLayer::LayerOptions</a></div><div class="ttdoc">Setting options for loading vector layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8h_source.html#l00398">qgsvectorlayer.h:398</a></div></div>
<div class="ttc" id="classQgsSettings_html_a4398513cdbed73f4bacfde90a9170b6f"><div class="ttname"><a href="classQgsSettings.html#a4398513cdbed73f4bacfde90a9170b6f">QgsSettings::value</a></div><div class="ttdeci">QVariant value(const QString &amp;key, const QVariant &amp;defaultValue=QVariant(), Section section=NoSection) const</div><div class="ttdoc">Returns the value for setting key. </div><div class="ttdef"><b>Definition:</b> <a href="qgssettings_8cpp_source.html#l00168">qgssettings.cpp:168</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a9fc147173037c7a2f29e84fb8f6f3710"><div class="ttname"><a href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710">QgsProcessingUtils::LayerHint</a></div><div class="ttdeci">LayerHint</div><div class="ttdoc">Layer type hints. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00112">qgsprocessingutils.h:112</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html"><div class="ttname"><a href="classQgsRasterLayer.html">QgsRasterLayer</a></div><div class="ttdoc">This class provides qgis with the ability to render raster datasets onto the mapcanvas. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00138">qgsrasterlayer.h:138</a></div></div>
<div class="ttc" id="qgsfeature_8h_html_ae0f922f3469155bc17dfc96729f1c1cc"><div class="ttname"><a href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a></div><div class="ttdeci">QList&lt; QgsFeature &gt; QgsFeatureList</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeature_8h_source.html#l00571">qgsfeature.h:571</a></div></div>
<div class="ttc" id="classQgsWkbTypes_html"><div class="ttname"><a href="classQgsWkbTypes.html">QgsWkbTypes</a></div><div class="ttdoc">Handles storage of information regarding WKB types and their properties. </div><div class="ttdef"><b>Definition:</b> <a href="qgswkbtypes_8h_source.html#l00040">qgswkbtypes.h:40</a></div></div>
<div class="ttc" id="classQgsPointXY_html_a9e9cb74ed22e845f91d5d7a5e8e3fa08"><div class="ttname"><a href="classQgsPointXY.html#a9e9cb74ed22e845f91d5d7a5e8e3fa08">QgsPointXY::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="qgspointxy_8h_source.html#l00048">qgspointxy.h:48</a></div></div>
<div class="ttc" id="classQgsPointXY_html"><div class="ttname"><a href="classQgsPointXY.html">QgsPointXY</a></div><div class="ttdoc">A class to represent a 2D point. </div><div class="ttdef"><b>Definition:</b> <a href="qgspointxy_8h_source.html#l00043">qgspointxy.h:43</a></div></div>
<div class="ttc" id="classQgsReferencedPointXY_html"><div class="ttname"><a href="classQgsReferencedPointXY.html">QgsReferencedPointXY</a></div><div class="ttdoc">A QgsPointXY with associated coordinate reference system. </div><div class="ttdef"><b>Definition:</b> <a href="qgsreferencedgeometry_8h_source.html#l00102">qgsreferencedgeometry.h:102</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_ac82bbe68e6a38a776f26098f65056d78"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#ac82bbe68e6a38a776f26098f65056d78">QgsProcessingFeatureSource::allFeatureIds</a></div><div class="ttdeci">QgsFeatureIds allFeatureIds() const override</div><div class="ttdoc">Returns a list of all feature IDs for features present in the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00995">qgsprocessingutils.cpp:995</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a6dd4622d2c06d1d898460c548404ee99"><div class="ttname"><a href="classQgsFeatureSource.html#a6dd4622d2c06d1d898460c548404ee99">QgsFeatureSource::wkbType</a></div><div class="ttdeci">virtual QgsWkbTypes::Type wkbType() const =0</div><div class="ttdoc">Returns the geometry type for features returned by this source. </div></div>
<div class="ttc" id="classQgsFeatureSink_html"><div class="ttname"><a href="classQgsFeatureSink.html">QgsFeatureSink</a></div><div class="ttdoc">An interface for objects which accept features via addFeature(s) methods. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesink_8h_source.html#l00033">qgsfeaturesink.h:33</a></div></div>
<div class="ttc" id="qgis_8h_html_a88101b8be6d851c3ac0ce4eb6973ff49"><div class="ttname"><a href="qgis_8h.html#a88101b8be6d851c3ac0ce4eb6973ff49">Q_NOWARN_DEPRECATED_PUSH</a></div><div class="ttdeci">#define Q_NOWARN_DEPRECATED_PUSH</div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00624">qgis.h:624</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a5997b6c18d7a5d6db53a34c09e0c1b23"><div class="ttname"><a href="classQgsProcessingUtils.html#a5997b6c18d7a5d6db53a34c09e0c1b23">QgsProcessingUtils::compatibleRasterLayers</a></div><div class="ttdeci">static QList&lt; QgsRasterLayer *&gt; compatibleRasterLayers(QgsProject *project, bool sort=true)</div><div class="ttdoc">Returns a list of raster layers from a project which are compatible with the processing framework...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00036">qgsprocessingutils.cpp:36</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a0da94e4659d51c0c5eac1935a4c31fdf"><div class="ttname"><a href="classQgsProcessingUtils.html#a0da94e4659d51c0c5eac1935a4c31fdf">QgsProcessingUtils::stringToPythonLiteral</a></div><div class="ttdeci">static QString stringToPythonLiteral(const QString &amp;string)</div><div class="ttdoc">Converts a string to a Python string literal. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00471">qgsprocessingutils.cpp:471</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a1abf8f48544b7ce41a7ff91832de00be"><div class="ttname"><a href="classQgsVectorLayer.html#a1abf8f48544b7ce41a7ff91832de00be">QgsVectorLayer::geometryType</a></div><div class="ttdeci">QgsWkbTypes::GeometryType geometryType() const</div><div class="ttdoc">Returns point, line or polygon. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l00589">qgsvectorlayer.cpp:589</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html"><div class="ttname"><a href="classQgsProcessingFeatureSource.html">QgsProcessingFeatureSource</a></div><div class="ttdoc">QgsFeatureSource subclass which proxies methods to an underlying QgsFeatureSource, modifying results according to the settings in a QgsProcessingContext. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00334">qgsprocessingutils.h:334</a></div></div>
<div class="ttc" id="classQgsFields_html"><div class="ttname"><a href="classQgsFields.html">QgsFields</a></div><div class="ttdoc">Container of fields for a vector layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfields_8h_source.html#l00042">qgsfields.h:42</a></div></div>
<div class="ttc" id="classQgsField_html_a5c42dee74115fb78383b3140c023fcbe"><div class="ttname"><a href="classQgsField.html#a5c42dee74115fb78383b3140c023fcbe">QgsField::setName</a></div><div class="ttdeci">void setName(const QString &amp;name)</div><div class="ttdoc">Set the field name. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfield_8cpp_source.html#l00141">qgsfield.cpp:141</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSink_html_accb6b4c797ed861aafbd833c9a7363f9"><div class="ttname"><a href="classQgsProcessingFeatureSink.html#accb6b4c797ed861aafbd833c9a7363f9">QgsProcessingFeatureSink::addFeatures</a></div><div class="ttdeci">bool addFeatures(QgsFeatureList &amp;features, QgsFeatureSink::Flags flags=nullptr) override</div><div class="ttdoc">Adds a list of features to the sink. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l01036">qgsprocessingutils.cpp:1036</a></div></div>
<div class="ttc" id="classQgsProviderRegistry_html_a25d53a41b52b7fe7b7d7ab534d6e8ed1"><div class="ttname"><a href="classQgsProviderRegistry.html#a25d53a41b52b7fe7b7d7ab534d6e8ed1">QgsProviderRegistry::decodeUri</a></div><div class="ttdeci">QVariantMap decodeUri(const QString &amp;providerKey, const QString &amp;uri)</div><div class="ttdoc">Breaks a provider data source URI into its component paths (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproviderregistry_8cpp_source.html#l00461">qgsproviderregistry.cpp:461</a></div></div>
<div class="ttc" id="classQgsVectorFileWriter_html_a61f47207b1959d021ef2eb4b45c6d88e"><div class="ttname"><a href="classQgsVectorFileWriter.html#a61f47207b1959d021ef2eb4b45c6d88e">QgsVectorFileWriter::driverForExtension</a></div><div class="ttdeci">static QString driverForExtension(const QString &amp;extension)</div><div class="ttdoc">Returns the OGR driver name for a specified file extension. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorfilewriter_8cpp_source.html#l03093">qgsvectorfilewriter.cpp:3093</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a44a9fc867b16affd571c5a1ca0240fa2"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a44a9fc867b16affd571c5a1ca0240fa2">QgsProcessingFeatureSource::getFeatures</a></div><div class="ttdeci">QgsFeatureIterator getFeatures(const QgsFeatureRequest &amp;request, Flags flags) const</div><div class="ttdoc">Returns an iterator for the features in the source, respecting the supplied feature flags...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00912">qgsprocessingutils.cpp:912</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a82d74018a8e2db6c4000c44c41bcab94"><div class="ttname"><a href="classQgsProcessingUtils.html#a82d74018a8e2db6c4000c44c41bcab94">QgsProcessingUtils::compatibleVectorLayers</a></div><div class="ttdeci">static QList&lt; QgsVectorLayer *&gt; compatibleVectorLayers(QgsProject *project, const QList&lt; int &gt; &amp;sourceTypes=QList&lt; int &gt;(), bool sort=true)</div><div class="ttdoc">Returns a list of vector layers from a project which are compatible with the processing framework...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00060">qgsprocessingutils.cpp:60</a></div></div>
<div class="ttc" id="structQgsMeshLayer_1_1LayerOptions_html"><div class="ttname"><a href="structQgsMeshLayer_1_1LayerOptions.html">QgsMeshLayer::LayerOptions</a></div><div class="ttdoc">Setting options for loading mesh layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmeshlayer_8h_source.html#l00097">qgsmeshlayer.h:97</a></div></div>
<div class="ttc" id="classQgsVectorFileWriter_html"><div class="ttname"><a href="classQgsVectorFileWriter.html">QgsVectorFileWriter</a></div><div class="ttdoc">A convenience class for writing vector files to disk. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorfilewriter_8h_source.html#l00045">qgsvectorfilewriter.h:45</a></div></div>
<div class="ttc" id="classQgsFeature_html"><div class="ttname"><a href="classQgsFeature.html">QgsFeature</a></div><div class="ttdoc">The feature class encapsulates a single feature including its id, geometry and a list of field/values...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeature_8h_source.html#l00055">qgsfeature.h:55</a></div></div>
<div class="ttc" id="qgswfsgetfeature_8cpp_html_a7ad000982146f8b67e673cdc80a26bec"><div class="ttname"><a href="qgswfsgetfeature_8cpp.html#a7ad000982146f8b67e673cdc80a26bec">crs</a></div><div class="ttdeci">const QgsCoordinateReferenceSystem &amp; crs</div><div class="ttdef"><b>Definition:</b> <a href="qgswfsgetfeature_8cpp_source.html#l00049">qgswfsgetfeature.cpp:49</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a2d05f3893a6a7479abd05a2d8ffc5e67"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a2d05f3893a6a7479abd05a2d8ffc5e67">QgsProcessingFeatureSource::maximumValue</a></div><div class="ttdeci">QVariant maximumValue(int fieldIndex) const override</div><div class="ttdoc">Returns the maximum value for an attribute column or an invalid variant in case of error...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00985">qgsprocessingutils.cpp:985</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_abdddc0670f854a5cb5f4998484f5550a"><div class="ttname"><a href="classQgsProcessingUtils.html#abdddc0670f854a5cb5f4998484f5550a">QgsProcessingUtils::convertToCompatibleFormat</a></div><div class="ttdeci">static QString convertToCompatibleFormat(const QgsVectorLayer *layer, bool selectedFeaturesOnly, const QString &amp;baseName, const QStringList &amp;compatibleFormats, const QString &amp;preferredFormat, QgsProcessingContext &amp;context, QgsProcessingFeedback *feedback)</div><div class="ttdoc">Converts a source vector layer to a file path to a vector layer of compatible format. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00766">qgsprocessingutils.cpp:766</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a9fc147173037c7a2f29e84fb8f6f3710a38477dfe2feb648cf05b64ddf407e078"><div class="ttname"><a href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a38477dfe2feb648cf05b64ddf407e078">QgsProcessingUtils::Raster</a></div><div class="ttdoc">Raster layer type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00116">qgsprocessingutils.h:116</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a02e700158059a8f08746c061bca39840"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a02e700158059a8f08746c061bca39840">QgsProcessingFeatureSource::sourceExtent</a></div><div class="ttdeci">QgsRectangle sourceExtent() const override</div><div class="ttdoc">Returns the extent of all geometries from the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00990">qgsprocessingutils.cpp:990</a></div></div>
<div class="ttc" id="classQgsWkbTypes_html_a60e72c2f73cb07fdbcdbc2d5068b5d9ca83e149905446b55bd3c4438a586d9abd"><div class="ttname"><a href="classQgsWkbTypes.html#a60e72c2f73cb07fdbcdbc2d5068b5d9ca83e149905446b55bd3c4438a586d9abd">QgsWkbTypes::PolygonGeometry</a></div><div class="ttdef"><b>Definition:</b> <a href="qgswkbtypes_8h_source.html#l00142">qgswkbtypes.h:142</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a352f239ecb6254c7396299b9cd3ac53d"><div class="ttname"><a href="classQgsProcessingUtils.html#a352f239ecb6254c7396299b9cd3ac53d">QgsProcessingUtils::normalizeLayerSource</a></div><div class="ttdeci">static QString normalizeLayerSource(const QString &amp;source)</div><div class="ttdoc">Normalizes a layer source string for safe comparison across different operating system environments...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00386">qgsprocessingutils.cpp:386</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html"><div class="ttname"><a href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a></div><div class="ttdoc">Abstract base class for processing algorithms. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00051">qgsprocessingalgorithm.h:51</a></div></div>
<div class="ttc" id="classQgsFields_html_a747fd764be826bc9696597b3b79d1fbe"><div class="ttname"><a href="classQgsFields.html#a747fd764be826bc9696597b3b79d1fbe">QgsFields::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">Returns number of items. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfields_8cpp_source.html#l00133">qgsfields.cpp:133</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a2a9f0912f82c9dcd7dab3de311762e6b"><div class="ttname"><a href="classQgsVectorLayer.html#a2a9f0912f82c9dcd7dab3de311762e6b">QgsVectorLayer::isSpatial</a></div><div class="ttdeci">bool isSpatial() const FINAL</div><div class="ttdoc">Returns true if this is a geometry layer and false in case of NoGeometry (table only) or UnknownGeome...</div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l03168">qgsvectorlayer.cpp:3168</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a9fc147173037c7a2f29e84fb8f6f3710a240c8c331fccc4b9f062666242c603be"><div class="ttname"><a href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a240c8c331fccc4b9f062666242c603be">QgsProcessingUtils::Mesh</a></div><div class="ttdoc">Mesh layer type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00117">qgsprocessingutils.h:117</a></div></div>
<div class="ttc" id="classQgsProject_html_a8966e2ebc0f50f471ed2f67c346e290a"><div class="ttname"><a href="classQgsProject.html#a8966e2ebc0f50f471ed2f67c346e290a">QgsProject::layerStore</a></div><div class="ttdeci">QgsMapLayerStore * layerStore()</div><div class="ttdoc">Returns a pointer to the project&amp;#39;s internal layer store. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproject_8cpp_source.html#l01502">qgsproject.cpp:1502</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_a167a2d18c5824e4d5b69455b031546bd"><div class="ttname"><a href="classQgsDataProvider.html#a167a2d18c5824e4d5b69455b031546bd">QgsDataProvider::name</a></div><div class="ttdeci">virtual QString name() const =0</div><div class="ttdoc">Returns a provider name. </div></div>
<div class="ttc" id="classQgsProcessingContext_html_a79bfd019c086ff63f594ecea3bd0a445"><div class="ttname"><a href="classQgsProcessingContext.html#a79bfd019c086ff63f594ecea3bd0a445">QgsProcessingContext::project</a></div><div class="ttdeci">QgsProject * project() const</div><div class="ttdoc">Returns the project in which the algorithm is being executed. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingcontext_8h_source.html#l00107">qgsprocessingcontext.h:107</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSourceDefinition_html_a64419e8615f94eb70b134de83628b9a9"><div class="ttname"><a href="classQgsProcessingFeatureSourceDefinition.html#a64419e8615f94eb70b134de83628b9a9">QgsProcessingFeatureSourceDefinition::selectedFeaturesOnly</a></div><div class="ttdeci">bool selectedFeaturesOnly</div><div class="ttdoc">True if only selected features in the source should be used by algorithms. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingparameters_8h_source.html#l00079">qgsprocessingparameters.h:79</a></div></div>
<div class="ttc" id="qgsprocessingcontext_8h_html"><div class="ttname"><a href="qgsprocessingcontext_8h.html">qgsprocessingcontext.h</a></div></div>
<div class="ttc" id="classQgsFields_html_ad0fde19705fd2bf82a061ca13e5cf737"><div class="ttname"><a href="classQgsFields.html#ad0fde19705fd2bf82a061ca13e5cf737">QgsFields::at</a></div><div class="ttdeci">QgsField at(int i) const</div><div class="ttdoc">Gets field at particular index (must be in range 0..N-1) </div><div class="ttdef"><b>Definition:</b> <a href="qgsfields_8cpp_source.html#l00163">qgsfields.cpp:163</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_adf3b0b576d7812c4359ece2142170308a2f86137a236b88c94ad0a2a523df12e2"><div class="ttname"><a href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a2f86137a236b88c94ad0a2a523df12e2">QgsMapLayer::MeshLayer</a></div><div class="ttdoc">Added in 3.2. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00111">qgsmaplayer.h:111</a></div></div>
<div class="ttc" id="classQgsProxyFeatureSink_html_a5c26dabfafa63d3efcd11e0d7d1b4ec6"><div class="ttname"><a href="classQgsProxyFeatureSink.html#a5c26dabfafa63d3efcd11e0d7d1b4ec6">QgsProxyFeatureSink::addFeatures</a></div><div class="ttdeci">bool addFeatures(QgsFeatureList &amp;features, QgsFeatureSink::Flags flags=nullptr) override</div><div class="ttdoc">Adds a list of features to the sink. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesink_8h_source.html#l00128">qgsfeaturesink.h:128</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_adf3b0b576d7812c4359ece2142170308a60eeaa55da9aa798362f588c95dfae75"><div class="ttname"><a href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a60eeaa55da9aa798362f588c95dfae75">QgsMapLayer::VectorLayer</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00108">qgsmaplayer.h:108</a></div></div>
<div class="ttc" id="classQgsReferencedGeometryBase_html_a62883ad2b0aba56216c8f43aff17c077"><div class="ttname"><a href="classQgsReferencedGeometryBase.html#a62883ad2b0aba56216c8f43aff17c077">QgsReferencedGeometryBase::crs</a></div><div class="ttdeci">QgsCoordinateReferenceSystem crs() const</div><div class="ttdoc">Returns the associated coordinate reference system, or an invalid CRS if no reference system is set...</div><div class="ttdef"><b>Definition:</b> <a href="qgsreferencedgeometry_8h_source.html#l00052">qgsreferencedgeometry.h:52</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a0d51411cc5e2430646d886466a8c255b"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a0d51411cc5e2430646d886466a8c255b">QgsProcessingFeatureSource::uniqueValues</a></div><div class="ttdeci">QSet&lt; QVariant &gt; uniqueValues(int fieldIndex, int limit=-1) const override</div><div class="ttdoc">Returns the set of unique values contained within the specified fieldIndex from this source...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00975">qgsprocessingutils.cpp:975</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a8bda219b405a67116ec27cb6ab0af296"><div class="ttname"><a href="classQgsProcessingUtils.html#a8bda219b405a67116ec27cb6ab0af296">QgsProcessingUtils::createFeatureSink</a></div><div class="ttdeci">static QgsFeatureSink * createFeatureSink(QString &amp;destination, QgsProcessingContext &amp;context, const QgsFields &amp;fields, QgsWkbTypes::Type geometryType, const QgsCoordinateReferenceSystem &amp;crs, const QVariantMap &amp;createOptions=QVariantMap(), QgsFeatureSink::SinkFlags sinkFlags=nullptr)</div><div class="ttdoc">Creates a feature sink ready for adding features. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00537">qgsprocessingutils.cpp:537</a></div></div>
<div class="ttc" id="classQgsProcessingContext_html_ab772fe3d8ae22c4726ff12a9d160f902"><div class="ttname"><a href="classQgsProcessingContext.html#ab772fe3d8ae22c4726ff12a9d160f902">QgsProcessingContext::feedback</a></div><div class="ttdeci">QgsProcessingFeedback * feedback()</div><div class="ttdoc">Returns the associated feedback object. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingcontext_8h_source.html#l00384">qgsprocessingcontext.h:384</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a21ce59b8601519e12508074e1af225d0"><div class="ttname"><a href="classQgsProcessingUtils.html#a21ce59b8601519e12508074e1af225d0">QgsProcessingUtils::fieldNamesToIndices</a></div><div class="ttdeci">static QList&lt; int &gt; fieldNamesToIndices(const QStringList &amp;fieldNames, const QgsFields &amp;fields)</div><div class="ttdoc">Returns a list of field indices parsed from the given list of field names. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00861">qgsprocessingutils.cpp:861</a></div></div>
<div class="ttc" id="classQgsWkbTypes_html_a70dff7aceefd4b16909f038e32aece11"><div class="ttname"><a href="classQgsWkbTypes.html#a70dff7aceefd4b16909f038e32aece11">QgsWkbTypes::Type</a></div><div class="ttdeci">Type</div><div class="ttdoc">The WKB type describes the number of dimensions a geometry has. </div><div class="ttdef"><b>Definition:</b> <a href="qgswkbtypes_8h_source.html#l00068">qgswkbtypes.h:68</a></div></div>
<div class="ttc" id="classQgsProviderRegistry_html_a60c16019b5073ee00c3e26141312bfb2"><div class="ttname"><a href="classQgsProviderRegistry.html#a60c16019b5073ee00c3e26141312bfb2">QgsProviderRegistry::instance</a></div><div class="ttdeci">static QgsProviderRegistry * instance(const QString &amp;pluginPath=QString())</div><div class="ttdoc">Means of accessing canonical single instance. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproviderregistry_8cpp_source.html#l00054">qgsproviderregistry.cpp:54</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a986882d83f5f5718ae1b917003024608"><div class="ttname"><a href="classQgsFeatureSource.html#a986882d83f5f5718ae1b917003024608">QgsFeatureSource::minimumValue</a></div><div class="ttdeci">virtual QVariant minimumValue(int fieldIndex) const</div><div class="ttdoc">Returns the minimum value for an attribute column or an invalid variant in case of error...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8cpp_source.html#l00052">qgsfeaturesource.cpp:52</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_aed02ec303753c2d2f4545af08ec11e1d"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#aed02ec303753c2d2f4545af08ec11e1d">QgsProcessingFeatureSource::fields</a></div><div class="ttdeci">QgsFields fields() const override</div><div class="ttdoc">Returns the fields associated with features in the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00954">qgsprocessingutils.cpp:954</a></div></div>
<div class="ttc" id="classQgsProperty_html_af1462dc7aaa921fb10d52c297be6fb32"><div class="ttname"><a href="classQgsProperty.html#af1462dc7aaa921fb10d52c297be6fb32">QgsProperty::fromValue</a></div><div class="ttdeci">static QgsProperty fromValue(const QVariant &amp;value, bool isActive=true)</div><div class="ttdoc">Returns a new StaticProperty created from the specified value. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproperty_8cpp_source.html#l00220">qgsproperty.cpp:220</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a3810719f044f4804c620be5bba5f270f"><div class="ttname"><a href="classQgsVectorLayer.html#a3810719f044f4804c620be5bba5f270f">QgsVectorLayer::fields</a></div><div class="ttdeci">QgsFields fields() const FINAL</div><div class="ttdoc">Returns the list of fields of this layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l02872">qgsvectorlayer.cpp:2872</a></div></div>
<div class="ttc" id="classQgsProcessingContext_html_a0c919837903847150ee62df2f9f83327"><div class="ttname"><a href="classQgsProcessingContext.html#a0c919837903847150ee62df2f9f83327">QgsProcessingContext::temporaryLayerStore</a></div><div class="ttdeci">QgsMapLayerStore * temporaryLayerStore()</div><div class="ttdoc">Returns a reference to the layer store used for storing temporary layers during algorithm execution...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingcontext_8h_source.html#l00159">qgsprocessingcontext.h:159</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSourceDefinition_html_a87bbbc3fc237c3cc0abc10902b04aba0"><div class="ttname"><a href="classQgsProcessingFeatureSourceDefinition.html#a87bbbc3fc237c3cc0abc10902b04aba0">QgsProcessingFeatureSourceDefinition::source</a></div><div class="ttdeci">QgsProperty source</div><div class="ttdoc">Source definition. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingparameters_8h_source.html#l00074">qgsprocessingparameters.h:74</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_adf3b0b576d7812c4359ece2142170308a261973ffd94e7811450b5c75c5fa43ed"><div class="ttname"><a href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a261973ffd94e7811450b5c75c5fa43ed">QgsMapLayer::PluginLayer</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00110">qgsmaplayer.h:110</a></div></div>
<div class="ttc" id="qgsprocessingalgorithm_8h_html"><div class="ttname"><a href="qgsprocessingalgorithm_8h.html">qgsprocessingalgorithm.h</a></div></div>
<div class="ttc" id="classQgsVectorFileWriter_html_a5d92da9f2991542faca7bf809286ff6f"><div class="ttname"><a href="classQgsVectorFileWriter.html#a5d92da9f2991542faca7bf809286ff6f">QgsVectorFileWriter::defaultLayerOptions</a></div><div class="ttdeci">static QStringList defaultLayerOptions(const QString &amp;driverName)</div><div class="ttdoc">Returns a list of the default layer options for a specified driver. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorfilewriter_8cpp_source.html#l01995">qgsvectorfilewriter.cpp:1995</a></div></div>
<div class="ttc" id="classQgsWkbTypes_html_a60e72c2f73cb07fdbcdbc2d5068b5d9ca2407075c945a7eadf4289316a8d0a79b"><div class="ttname"><a href="classQgsWkbTypes.html#a60e72c2f73cb07fdbcdbc2d5068b5d9ca2407075c945a7eadf4289316a8d0a79b">QgsWkbTypes::PointGeometry</a></div><div class="ttdef"><b>Definition:</b> <a href="qgswkbtypes_8h_source.html#l00140">qgswkbtypes.h:140</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_aa23ad1ce45eb865c9271ed301893337a"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#aa23ad1ce45eb865c9271ed301893337a">QgsProcessingFeatureSource::minimumValue</a></div><div class="ttdeci">QVariant minimumValue(int fieldIndex) const override</div><div class="ttdoc">Returns the minimum value for an attribute column or an invalid variant in case of error...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00980">qgsprocessingutils.cpp:980</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a89189517ec26fb835739e9e5e4f7bf46"><div class="ttname"><a href="classQgsVectorLayer.html#a89189517ec26fb835739e9e5e4f7bf46">QgsVectorLayer::getSelectedFeatures</a></div><div class="ttdeci">QgsFeatureIterator getSelectedFeatures(QgsFeatureRequest request=QgsFeatureRequest()) const</div><div class="ttdoc">Returns an iterator of the selected features. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l03051">qgsvectorlayer.cpp:3051</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a00db55f32fef06433589552394e6f2b8"><div class="ttname"><a href="classQgsProcessingUtils.html#a00db55f32fef06433589552394e6f2b8">QgsProcessingUtils::combineFields</a></div><div class="ttdeci">static QgsFields combineFields(const QgsFields &amp;fieldsA, const QgsFields &amp;fieldsB)</div><div class="ttdoc">Combines two field lists, avoiding duplicate field names (in a case-insensitive manner). </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00825">qgsprocessingutils.cpp:825</a></div></div>
<div class="ttc" id="classQgsFileUtils_html_a123ee4aa699c0ca727e94682242df5cc"><div class="ttname"><a href="classQgsFileUtils.html#a123ee4aa699c0ca727e94682242df5cc">QgsFileUtils::stringToSafeFilename</a></div><div class="ttdeci">static QString stringToSafeFilename(const QString &amp;string)</div><div class="ttdoc">Converts a string to a safe filename, replacing characters which are not safe for filenames with an &amp;#39;...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfileutils_8cpp_source.html#l00091">qgsfileutils.cpp:91</a></div></div>
<div class="ttc" id="structQgsRasterLayer_1_1LayerOptions_html_a955a2fe99834abf200d9d53ee89301c7"><div class="ttname"><a href="structQgsRasterLayer_1_1LayerOptions.html#a955a2fe99834abf200d9d53ee89301c7">QgsRasterLayer::LayerOptions::loadDefaultStyle</a></div><div class="ttdeci">bool loadDefaultStyle</div><div class="ttdoc">Sets to true if the default layer style should be loaded. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00182">qgsrasterlayer.h:182</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a54d40acd95ab5d9a77b12027e3433692"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a54d40acd95ab5d9a77b12027e3433692">QgsProcessingFeatureSource::sourceCrs</a></div><div class="ttdeci">QgsCoordinateReferenceSystem sourceCrs() const override</div><div class="ttdoc">Returns the coordinate reference system for features in the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00949">qgsprocessingutils.cpp:949</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_abf11eeb70640f035028764ccd2f4cba4"><div class="ttname"><a href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">QgsRasterLayer::providerType</a></div><div class="ttdeci">QString providerType() const</div><div class="ttdoc">[ data provider interface ] Which provider is being used for this Raster Layer? </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00540">qgsrasterlayer.cpp:540</a></div></div>
<div class="ttc" id="qgis_8h_html_a3959144cd0579312fd39fd1bed94743b"><div class="ttname"><a href="qgis_8h.html#a3959144cd0579312fd39fd1bed94743b">qgsDoubleToString</a></div><div class="ttdeci">QString qgsDoubleToString(double a, int precision=17)</div><div class="ttdoc">Returns a string representation of a double. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00225">qgis.h:225</a></div></div>
<div class="ttc" id="qgsvectorfilewriter_8h_html"><div class="ttname"><a href="qgsvectorfilewriter_8h.html">qgsvectorfilewriter.h</a></div></div>
<div class="ttc" id="qgsexpressioncontextscopegenerator_8h_html"><div class="ttname"><a href="qgsexpressioncontextscopegenerator_8h.html">qgsexpressioncontextscopegenerator.h</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSink_html_a7993f62055b6f4f30bc2d12fbd7ae4bb"><div class="ttname"><a href="classQgsProcessingFeatureSink.html#a7993f62055b6f4f30bc2d12fbd7ae4bb">QgsProcessingFeatureSink::~QgsProcessingFeatureSink</a></div><div class="ttdeci">~QgsProcessingFeatureSink() override</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l01022">qgsprocessingutils.cpp:1022</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a81dd9e974bac0697ac2fd765e194a057ae0beb7ceb47869612ad19f06687b8629"><div class="ttname"><a href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057ae0beb7ceb47869612ad19f06687b8629">QgsFeatureSource::NoFeaturesAvailable</a></div><div class="ttdoc">There are certainly no features available in this source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8h_source.html#l00052">qgsfeaturesource.h:52</a></div></div>
<div class="ttc" id="qgsvectorlayerexporter_8h_html"><div class="ttname"><a href="qgsvectorlayerexporter_8h.html">qgsvectorlayerexporter.h</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html"><div class="ttname"><a href="classQgsFeatureRequest.html">QgsFeatureRequest</a></div><div class="ttdoc">This class wraps a request for features to a vector layer (or directly its vector data provider)...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8h_source.html#l00072">qgsfeaturerequest.h:72</a></div></div>
<div class="ttc" id="classQgsProcessingException_html"><div class="ttname"><a href="classQgsProcessingException.html">QgsProcessingException</a></div><div class="ttdoc">Custom exception class for processing related exceptions. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexception_8h_source.html#l00082">qgsexception.h:82</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a82752c93ea29f4789e2973ef2090b9e7"><div class="ttname"><a href="classQgsVectorLayer.html#a82752c93ea29f4789e2973ef2090b9e7">QgsVectorLayer::subsetString</a></div><div class="ttdeci">QString subsetString</div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8h_source.html#l00366">qgsvectorlayer.h:366</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_aad859c29378ee2d4d732c615277c43c8"><div class="ttname"><a href="classQgsProcessingUtils.html#aad859c29378ee2d4d732c615277c43c8">QgsProcessingUtils::compatibleLayers</a></div><div class="ttdeci">static QList&lt; QgsMapLayer *&gt; compatibleLayers(QgsProject *project, bool sort=true)</div><div class="ttdoc">Returns a list of map layers from a project which are compatible with the processing framework...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00106">qgsprocessingutils.cpp:106</a></div></div>
<div class="ttc" id="classQgsFields_html_a3b0f9a92ff8cdbcdea3935f2d81ea5a0"><div class="ttname"><a href="classQgsFields.html#a3b0f9a92ff8cdbcdea3935f2d81ea5a0">QgsFields::append</a></div><div class="ttdeci">bool append(const QgsField &amp;field, FieldOrigin origin=OriginProvider, int originIndex=-1)</div><div class="ttdoc">Appends a field. The field must have unique name, otherwise it is rejected (returns false) ...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfields_8cpp_source.html#l00059">qgsfields.cpp:59</a></div></div>
<div class="ttc" id="classQgsProject_html"><div class="ttname"><a href="classQgsProject.html">QgsProject</a></div><div class="ttdoc">Reads and writes project states. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproject_8h_source.html#l00089">qgsproject.h:89</a></div></div>
<div class="ttc" id="qgsexception_8h_html"><div class="ttname"><a href="qgsexception_8h.html">qgsexception.h</a></div></div>
<div class="ttc" id="classQgsProcessing_html_acad4d2322342455b53eee5701e2b3115a2f7f1e7a250f381886896b3fa7174f02"><div class="ttname"><a href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115a2f7f1e7a250f381886896b3fa7174f02">QgsProcessing::TypeVectorPolygon</a></div><div class="ttdoc">Vector polygon layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessing_8h_source.html#l00050">qgsprocessing.h:50</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html_a3655611e7a12a5117d5003aa352b28c8a3abf45c895dbb96edad2a4dc65622681"><div class="ttname"><a href="classQgsFeatureRequest.html#a3655611e7a12a5117d5003aa352b28c8a3abf45c895dbb96edad2a4dc65622681">QgsFeatureRequest::GeometryNoCheck</a></div><div class="ttdoc">No invalid geometry checking. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8h_source.html#l00098">qgsfeaturerequest.h:98</a></div></div>
<div class="ttc" id="classQgsReferencedRectangle_html"><div class="ttname"><a href="classQgsReferencedRectangle.html">QgsReferencedRectangle</a></div><div class="ttdoc">A QgsRectangle with associated coordinate reference system. </div><div class="ttdef"><b>Definition:</b> <a href="qgsreferencedgeometry_8h_source.html#l00072">qgsreferencedgeometry.h:72</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSink_html_ac73fceaa7a9ba8d11bb69dddf3272742"><div class="ttname"><a href="classQgsProcessingFeatureSink.html#ac73fceaa7a9ba8d11bb69dddf3272742">QgsProcessingFeatureSink::addFeature</a></div><div class="ttdeci">bool addFeature(QgsFeature &amp;feature, QgsFeatureSink::Flags flags=nullptr) override</div><div class="ttdoc">Adds a single feature to the sink. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l01028">qgsprocessingutils.cpp:1028</a></div></div>
<div class="ttc" id="classQgsField_html"><div class="ttname"><a href="classQgsField.html">QgsField</a></div><div class="ttdoc">Encapsulate a field in an attribute table or data source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfield_8h_source.html#l00048">qgsfield.h:48</a></div></div>
<div class="ttc" id="classQgsMeshLayer_html_ab7e50d35601add6134ab80d2edb16854"><div class="ttname"><a href="classQgsMeshLayer.html#ab7e50d35601add6134ab80d2edb16854">QgsMeshLayer::dataProvider</a></div><div class="ttdeci">QgsMeshDataProvider * dataProvider() override</div><div class="ttdoc">Returns the layer&amp;#39;s data provider, it may be null. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmeshlayer_8cpp_source.html#l00076">qgsmeshlayer.cpp:76</a></div></div>
<div class="ttc" id="classQgsExpressionContextScope_html"><div class="ttname"><a href="classQgsExpressionContextScope.html">QgsExpressionContextScope</a></div><div class="ttdoc">Single scope for storing variables and functions for use within a QgsExpressionContext. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8h_source.html#l00111">qgsexpressioncontext.h:111</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a5956e3136329b9425d747ab57ae1e574"><div class="ttname"><a href="classQgsProcessingUtils.html#a5956e3136329b9425d747ab57ae1e574">QgsProcessingUtils::variantToSource</a></div><div class="ttdeci">static QgsProcessingFeatureSource * variantToSource(const QVariant &amp;value, QgsProcessingContext &amp;context, const QVariant &amp;fallbackValue=QVariant())</div><div class="ttdoc">Converts a variant value to a new feature source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00303">qgsprocessingutils.cpp:303</a></div></div>
<div class="ttc" id="classQgsProperty_html"><div class="ttname"><a href="classQgsProperty.html">QgsProperty</a></div><div class="ttdoc">A store for object properties. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproperty_8h_source.html#l00229">qgsproperty.h:229</a></div></div>
<div class="ttc" id="classQgsWkbTypes_html_a60e72c2f73cb07fdbcdbc2d5068b5d9ca832c909332693470bd25b59e273a04a5"><div class="ttname"><a href="classQgsWkbTypes.html#a60e72c2f73cb07fdbcdbc2d5068b5d9ca832c909332693470bd25b59e273a04a5">QgsWkbTypes::LineGeometry</a></div><div class="ttdef"><b>Definition:</b> <a href="qgswkbtypes_8h_source.html#l00141">qgswkbtypes.h:141</a></div></div>
<div class="ttc" id="porting__processing_8dox_html_a2363590aeaf7c1e254a233e7d840ae29"><div class="ttname"><a href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a></div><div class="ttdeci">As part of the API refactoring and improvements which landed in the Processing API was substantially reworked from the x version This was done in order to allow much of the underlying Processing framework to be ported into allowing algorithms to be written in pure substantial changes are required in order to port existing x Processing algorithms for QGIS x The most significant changes are outlined not GeoAlgorithm For algorithms which operate on features one by consider subclassing the QgsProcessingFeatureBasedAlgorithm class This class allows much of the boilerplate code for looping over features from a vector layer to be bypassed and instead requires implementation of a processFeature method Ensure that your algorithm(or algorithm 's parent class) implements the new pure virtual createInstance(self) call</div></div>
<div class="ttc" id="classQgsFeatureSource_html_a20fbdc02ebae7eb0250ee390286e6466"><div class="ttname"><a href="classQgsFeatureSource.html#a20fbdc02ebae7eb0250ee390286e6466">QgsFeatureSource::uniqueValues</a></div><div class="ttdeci">virtual QSet&lt; QVariant &gt; uniqueValues(int fieldIndex, int limit=-1) const</div><div class="ttdoc">Returns the set of unique values contained within the specified fieldIndex from this source...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8cpp_source.html#l00031">qgsfeaturesource.cpp:31</a></div></div>
<div class="ttc" id="classQgsProcessingContext_html_a47bc9fd2cc92f0f3f605408da054b7f1"><div class="ttname"><a href="classQgsProcessingContext.html#a47bc9fd2cc92f0f3f605408da054b7f1">QgsProcessingContext::expressionContext</a></div><div class="ttdeci">QgsExpressionContext &amp; expressionContext()</div><div class="ttdoc">Returns the expression context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingcontext_8h_source.html#l00127">qgsprocessingcontext.h:127</a></div></div>
<div class="ttc" id="qgsvectorlayerfeatureiterator_8h_html"><div class="ttname"><a href="qgsvectorlayerfeatureiterator_8h.html">qgsvectorlayerfeatureiterator.h</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_ab4acc8bc34db16c604e2a746c874dbfc"><div class="ttname"><a href="classQgsVectorLayer.html#ab4acc8bc34db16c604e2a746c874dbfc">QgsVectorLayer::extent</a></div><div class="ttdeci">QgsRectangle extent() const FINAL</div><div class="ttdoc">Returns the extent of the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l00767">qgsvectorlayer.cpp:767</a></div></div>
<div class="ttc" id="classQgsPointXY_html_ac39fe3e623259485edcc42fbb77ab328"><div class="ttname"><a href="classQgsPointXY.html#ac39fe3e623259485edcc42fbb77ab328">QgsPointXY::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="qgspointxy_8h_source.html#l00047">qgspointxy.h:47</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_af5baa33215718b2c4db7117c4ad6bb53"><div class="ttname"><a href="classQgsProcessingUtils.html#af5baa33215718b2c4db7117c4ad6bb53">QgsProcessingUtils::compatibleMeshLayers</a></div><div class="ttdeci">static QList&lt; QgsMeshLayer * &gt; compatibleMeshLayers(QgsProject *project, bool sort=true)</div><div class="ttdoc">Returns a list of mesh layers from a project which are compatible with the processing framework...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00083">qgsprocessingutils.cpp:83</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html_adb58f2cfbed1e7adf7d6df4aab9b996b"><div class="ttname"><a href="classQgsFeatureRequest.html#adb58f2cfbed1e7adf7d6df4aab9b996b">QgsFeatureRequest::setTransformErrorCallback</a></div><div class="ttdeci">QgsFeatureRequest &amp; setTransformErrorCallback(const std::function&lt; void(const QgsFeature &amp;)&gt; &amp;callback)</div><div class="ttdoc">Sets a callback function to use when encountering a transform error when iterating features and a des...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8cpp_source.html#l00264">qgsfeaturerequest.cpp:264</a></div></div>
<div class="ttc" id="classQgsVectorLayerExporter_html"><div class="ttname"><a href="classQgsVectorLayerExporter.html">QgsVectorLayerExporter</a></div><div class="ttdoc">A convenience class for exporting vector layers to a destination data provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayerexporter_8h_source.html#l00047">qgsvectorlayerexporter.h:47</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a4a82c158a69f0517b469055533f01d40"><div class="ttname"><a href="classQgsProcessingUtils.html#a4a82c158a69f0517b469055533f01d40">QgsProcessingUtils::tempFolder</a></div><div class="ttdeci">static QString tempFolder()</div><div class="ttdoc">Returns a session specific processing temporary folder for use in processing algorithms. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00693">qgsprocessingutils.cpp:693</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a263eee3bfb98755cbe411968d72601cd"><div class="ttname"><a href="classQgsFeatureSource.html#a263eee3bfb98755cbe411968d72601cd">QgsFeatureSource::sourceCrs</a></div><div class="ttdeci">virtual QgsCoordinateReferenceSystem sourceCrs() const =0</div><div class="ttdoc">Returns the coordinate reference system for features in the source. </div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a0e6b4bdfe35bf9fcaeb9f1c875e9a8e9"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a0e6b4bdfe35bf9fcaeb9f1c875e9a8e9">QgsProcessingFeatureSource::createExpressionContextScope</a></div><div class="ttdeci">QgsExpressionContextScope * createExpressionContextScope() const</div><div class="ttdoc">Returns an expression context scope suitable for this source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l01000">qgsprocessingutils.cpp:1000</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSourceDefinition_html"><div class="ttname"><a href="classQgsProcessingFeatureSourceDefinition.html">QgsProcessingFeatureSourceDefinition</a></div><div class="ttdoc">Encapsulates settings relating to a feature source input to a processing algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingparameters_8h_source.html#l00051">qgsprocessingparameters.h:51</a></div></div>
<div class="ttc" id="classQgsRectangle_html_a601966d81267b649960ec2d409208350"><div class="ttname"><a href="classQgsRectangle.html#a601966d81267b649960ec2d409208350">QgsRectangle::yMinimum</a></div><div class="ttdeci">double yMinimum() const</div><div class="ttdoc">Returns the y minimum value (bottom side of rectangle). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00177">qgsrectangle.h:177</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html_a0a1b7ab5b4cd285fafda3def029bf4eb"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#a0a1b7ab5b4cd285fafda3def029bf4eb">QgsProcessingAlgorithm::outputDefinitions</a></div><div class="ttdeci">QgsProcessingOutputDefinitions outputDefinitions() const</div><div class="ttdoc">Returns an ordered list of output definitions utilized by the algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00300">qgsprocessingalgorithm.h:300</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a532c337cdfce9e7aa6204f4e0c1247cd"><div class="ttname"><a href="classQgsProcessingUtils.html#a532c337cdfce9e7aa6204f4e0c1247cd">QgsProcessingUtils::generateTempFilename</a></div><div class="ttdeci">static QString generateTempFilename(const QString &amp;basename)</div><div class="ttdoc">Returns a temporary filename for a given file, putting it into a temporary folder (creating that fold...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00709">qgsprocessingutils.cpp:709</a></div></div>
<div class="ttc" id="classQgsRectangle_html_a7fe11d0cd4fb7146dca5516c3eb03347"><div class="ttname"><a href="classQgsRectangle.html#a7fe11d0cd4fb7146dca5516c3eb03347">QgsRectangle::xMaximum</a></div><div class="ttdeci">double xMaximum() const</div><div class="ttdoc">Returns the x maximum value (right side of rectangle). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00162">qgsrectangle.h:162</a></div></div>
<div class="ttc" id="classQgsRectangle_html_ab8a73ddc15774addc822550266f886c9"><div class="ttname"><a href="classQgsRectangle.html#ab8a73ddc15774addc822550266f886c9">QgsRectangle::combineExtentWith</a></div><div class="ttdeci">void combineExtentWith(const QgsRectangle &amp;rect)</div><div class="ttdoc">Expands the rectangle so that it covers both the original rectangle and the given rectangle...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00359">qgsrectangle.h:359</a></div></div>
<div class="ttc" id="classQgsProcessingOutputDefinition_html"><div class="ttname"><a href="classQgsProcessingOutputDefinition.html">QgsProcessingOutputDefinition</a></div><div class="ttdoc">Base class for the definition of processing outputs. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingoutputs_8h_source.html#l00041">qgsprocessingoutputs.h:41</a></div></div>
<div class="ttc" id="qgis_8h_html_a3730f03e52ac037d6db6d81163f260c3"><div class="ttname"><a href="qgis_8h.html#a3730f03e52ac037d6db6d81163f260c3">Q_NOWARN_DEPRECATED_POP</a></div><div class="ttdeci">#define Q_NOWARN_DEPRECATED_POP</div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00625">qgis.h:625</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a6a6b063be0e53ef3e56e59bb6fbd2fb2"><div class="ttname"><a href="classQgsProcessingUtils.html#a6a6b063be0e53ef3e56e59bb6fbd2fb2">QgsProcessingUtils::variantToPythonLiteral</a></div><div class="ttdeci">static QString variantToPythonLiteral(const QVariant &amp;value)</div><div class="ttdoc">Converts a variant to a Python literal. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00393">qgsprocessingutils.cpp:393</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSink_html"><div class="ttname"><a href="classQgsProcessingFeatureSink.html">QgsProcessingFeatureSink</a></div><div class="ttdoc">QgsProxyFeatureSink subclass which reports feature addition errors to a QgsProcessingContext. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00401">qgsprocessingutils.h:401</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a3f7e06668b5ef7c540d090846b03c071"><div class="ttname"><a href="classQgsProcessingUtils.html#a3f7e06668b5ef7c540d090846b03c071">QgsProcessingUtils::formatHelpMapAsHtml</a></div><div class="ttdeci">static QString formatHelpMapAsHtml(const QVariantMap &amp;map, const QgsProcessingAlgorithm *algorithm)</div><div class="ttdoc">Returns a HTML formatted version of the help text encoded in a variant map for a specified algorithm...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00721">qgsprocessingutils.cpp:721</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a1d64060a5e97d0d841abb927f9bc0e70"><div class="ttname"><a href="classQgsProcessingUtils.html#a1d64060a5e97d0d841abb927f9bc0e70">QgsProcessingUtils::indicesToFields</a></div><div class="ttdeci">static QgsFields indicesToFields(const QList&lt; int &gt; &amp;indices, const QgsFields &amp;fields)</div><div class="ttdoc">Returns a subset of fields based on the indices of desired fields. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00884">qgsprocessingutils.cpp:884</a></div></div>
<div class="ttc" id="qgsfileutils_8h_html"><div class="ttname"><a href="qgsfileutils_8h.html">qgsfileutils.h</a></div></div>
<div class="ttc" id="classQgsProject_html_a5e66cf3c8e5e176dadb78220645b17b3"><div class="ttname"><a href="classQgsProject.html#a5e66cf3c8e5e176dadb78220645b17b3">QgsProject::layers</a></div><div class="ttdeci">QVector&lt; T &gt; layers() const</div><div class="ttdoc">Returns a list of registered map layers with a specified layer type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproject_8h_source.html#l00767">qgsproject.h:767</a></div></div>
<div class="ttc" id="classQgsExpressionContextScopeGenerator_html_a6bb15fd598874ce32f0eb2ec9558994c"><div class="ttname"><a href="classQgsExpressionContextScopeGenerator.html#a6bb15fd598874ce32f0eb2ec9558994c">QgsExpressionContextScopeGenerator::createExpressionContextScope</a></div><div class="ttdeci">virtual QgsExpressionContextScope * createExpressionContextScope() const =0</div><div class="ttdoc">This method needs to be reimplemented in all classes which implement this interface and return an exp...</div></div>
<div class="ttc" id="classQgsMapLayerStore_html_a34759a88bd396ad4ab5c913cd53cc4f0"><div class="ttname"><a href="classQgsMapLayerStore.html#a34759a88bd396ad4ab5c913cd53cc4f0">QgsMapLayerStore::mapLayers</a></div><div class="ttdeci">QMap&lt; QString, QgsMapLayer * &gt; mapLayers() const</div><div class="ttdoc">Returns a map of all layers by layer ID. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerstore_8cpp_source.html#l00225">qgsmaplayerstore.cpp:225</a></div></div>
<div class="ttc" id="classQgsVectorLayerSelectedFeatureSource_html"><div class="ttname"><a href="classQgsVectorLayerSelectedFeatureSource.html">QgsVectorLayerSelectedFeatureSource</a></div><div class="ttdoc">QgsFeatureSource subclass for the selected features from a QgsVectorLayer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayerfeatureiterator_8h_source.html#l00299">qgsvectorlayerfeatureiterator.h:299</a></div></div>
<div class="ttc" id="classQgsMapLayerStore_html_adba844ac49b9aa24b231133355a01dd3"><div class="ttname"><a href="classQgsMapLayerStore.html#adba844ac49b9aa24b231133355a01dd3">QgsMapLayerStore::addMapLayer</a></div><div class="ttdeci">QgsMapLayer * addMapLayer(QgsMapLayer *layer, bool takeOwnership=true)</div><div class="ttdoc">Add a layer to the store. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerstore_8cpp_source.html#l00098">qgsmaplayerstore.cpp:98</a></div></div>
<div class="ttc" id="classQgsFeedback_html_a166e5fb87ddb57e86de791b14b6a6ce4"><div class="ttname"><a href="classQgsFeedback.html#a166e5fb87ddb57e86de791b14b6a6ce4">QgsFeedback::isCanceled</a></div><div class="ttdeci">bool isCanceled() const</div><div class="ttdoc">Tells whether the operation has been canceled already. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeedback_8h_source.html#l00054">qgsfeedback.h:54</a></div></div>
<div class="ttc" id="classQgsProcessing_html_acad4d2322342455b53eee5701e2b3115ab9c1d02f7f396651e8a27cd60d29b34d"><div class="ttname"><a href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115ab9c1d02f7f396651e8a27cd60d29b34d">QgsProcessing::TypeVectorPoint</a></div><div class="ttdoc">Vector point layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessing_8h_source.html#l00048">qgsprocessing.h:48</a></div></div>
<div class="ttc" id="classQgsExpressionContextScopeGenerator_html"><div class="ttname"><a href="classQgsExpressionContextScopeGenerator.html">QgsExpressionContextScopeGenerator</a></div><div class="ttdoc">Abstract interface for generating an expression context scope. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontextscopegenerator_8h_source.html#l00028">qgsexpressioncontextscopegenerator.h:28</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a9fc147173037c7a2f29e84fb8f6f3710a25359b236d3a23cf229e7b7c6622f477"><div class="ttname"><a href="classQgsProcessingUtils.html#a9fc147173037c7a2f29e84fb8f6f3710a25359b236d3a23cf229e7b7c6622f477">QgsProcessingUtils::Vector</a></div><div class="ttdoc">Vector layer type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8h_source.html#l00115">qgsprocessingutils.h:115</a></div></div>
<div class="ttc" id="classQgsProcessingContext_html_a040d85e80e03114a9b291fe8c47d20f3"><div class="ttname"><a href="classQgsProcessingContext.html#a040d85e80e03114a9b291fe8c47d20f3">QgsProcessingContext::defaultEncoding</a></div><div class="ttdeci">QString defaultEncoding() const</div><div class="ttdoc">Returns the default encoding to use for newly created files. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingcontext_8h_source.html#l00372">qgsprocessingcontext.h:372</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html"><div class="ttname"><a href="classQgsFeatureSource.html">QgsFeatureSource</a></div><div class="ttdoc">An interface for objects which provide features via a getFeatures method. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8h_source.html#l00037">qgsfeaturesource.h:37</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a1b9b89d2f8877ccddf9a15c6aab5de9d"><div class="ttname"><a href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">QgsMapLayer::source</a></div><div class="ttdeci">QString source() const</div><div class="ttdoc">Returns the source for the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00199">qgsmaplayer.cpp:199</a></div></div>
<div class="ttc" id="classQgsSettings_html_ad5ea1e3318bed24f70625f2fdb29f01e"><div class="ttname"><a href="classQgsSettings.html#ad5ea1e3318bed24f70625f2fdb29f01e">QgsSettings::setValue</a></div><div class="ttdeci">void setValue(const QString &amp;key, const QVariant &amp;value, QgsSettings::Section section=QgsSettings::NoSection)</div><div class="ttdoc">Sets the value of setting key to value. </div><div class="ttdef"><b>Definition:</b> <a href="qgssettings_8cpp_source.html#l00281">qgssettings.cpp:281</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a234af9a37c8afeb6e34f0cabdf8c77cd"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a234af9a37c8afeb6e34f0cabdf8c77cd">QgsProcessingFeatureSource::hasFeatures</a></div><div class="ttdeci">QgsFeatureSource::FeatureAvailability hasFeatures() const override</div><div class="ttdoc">Determines if there are any features available in the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00928">qgsprocessingutils.cpp:928</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a1b373e1f8416db5e3ecc55b5d7bcdaf6"><div class="ttname"><a href="classQgsProcessingUtils.html#a1b373e1f8416db5e3ecc55b5d7bcdaf6">QgsProcessingUtils::generateIteratingDestination</a></div><div class="ttdeci">static QVariant generateIteratingDestination(const QVariant &amp;input, const QVariant &amp;id, QgsProcessingContext &amp;context)</div><div class="ttdoc">Converts an input parameter value for use in source iterating mode, where one individual sink is crea...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00659">qgsprocessingutils.cpp:659</a></div></div>
<div class="ttc" id="qgsmeshlayer_8h_html"><div class="ttname"><a href="qgsmeshlayer_8h.html">qgsmeshlayer.h</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_ac08762d92e4a1c4d07beafa8679b8b69"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#ac08762d92e4a1c4d07beafa8679b8b69">QgsProcessingFeatureSource::sourceName</a></div><div class="ttdeci">QString sourceName() const override</div><div class="ttdoc">Returns a friendly display name for the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00969">qgsprocessingutils.cpp:969</a></div></div>
<div class="ttc" id="classQgsVectorFileWriter_html_ad92f30d3cfca5a3fccb686da36ec6622"><div class="ttname"><a href="classQgsVectorFileWriter.html#ad92f30d3cfca5a3fccb686da36ec6622">QgsVectorFileWriter::defaultDatasetOptions</a></div><div class="ttdeci">static QStringList defaultDatasetOptions(const QString &amp;driverName)</div><div class="ttdoc">Returns a list of the default dataset options for a specified driver. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorfilewriter_8cpp_source.html#l01986">qgsvectorfilewriter.cpp:1986</a></div></div>
<div class="ttc" id="qgsreferencedgeometry_8h_html"><div class="ttname"><a href="qgsreferencedgeometry_8h.html">qgsreferencedgeometry.h</a></div></div>
<div class="ttc" id="classQgsCoordinateReferenceSystem_html"><div class="ttname"><a href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a></div><div class="ttdoc">This class represents a coordinate reference system (CRS). </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatereferencesystem_8h_source.html#l00191">qgscoordinatereferencesystem.h:191</a></div></div>
<div class="ttc" id="qgsprocessingutils_8h_html"><div class="ttname"><a href="qgsprocessingutils_8h.html">qgsprocessingutils.h</a></div></div>
<div class="ttc" id="classQgsProcessingParameterDefinition_html"><div class="ttname"><a href="classQgsProcessingParameterDefinition.html">QgsProcessingParameterDefinition</a></div><div class="ttdoc">Base class for the definition of processing parameters. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingparameters_8h_source.html#l00204">qgsprocessingparameters.h:204</a></div></div>
<div class="ttc" id="classQgsProcessing_html_acad4d2322342455b53eee5701e2b3115a1edaaaab12e5db8d131f42e9aa3a7e05"><div class="ttname"><a href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115a1edaaaab12e5db8d131f42e9aa3a7e05">QgsProcessing::TypeVectorLine</a></div><div class="ttdoc">Vector line layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessing_8h_source.html#l00049">qgsprocessing.h:49</a></div></div>
<div class="ttc" id="classQgsProcessing_html_acad4d2322342455b53eee5701e2b3115a673363b1da0f67c9e2678eb68351016f"><div class="ttname"><a href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115a673363b1da0f67c9e2678eb68351016f">QgsProcessing::TypeVector</a></div><div class="ttdoc">Tables (i.e. vector layers with or without geometry). When used for a sink this indicates the sink ha...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessing_8h_source.html#l00053">qgsprocessing.h:53</a></div></div>
<div class="ttc" id="classQgsCoordinateTransform_html"><div class="ttname"><a href="classQgsCoordinateTransform.html">QgsCoordinateTransform</a></div><div class="ttdoc">Class for doing transforms between two map coordinate systems. </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatetransform_8h_source.html#l00052">qgscoordinatetransform.h:52</a></div></div>
<div class="ttc" id="qgsvectorlayer_8h_html"><div class="ttname"><a href="qgsvectorlayer_8h.html">qgsvectorlayer.h</a></div></div>
<div class="ttc" id="classQgsRectangle_html_a3186f5474a5fa3ced21e8204d339c301"><div class="ttname"><a href="classQgsRectangle.html#a3186f5474a5fa3ced21e8204d339c301">QgsRectangle::xMinimum</a></div><div class="ttdeci">double xMinimum() const</div><div class="ttdoc">Returns the x minimum value (left side of rectangle). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00167">qgsrectangle.h:167</a></div></div>
<div class="ttc" id="qgsprocessingparameters_8h_html"><div class="ttname"><a href="qgsprocessingparameters_8h.html">qgsprocessingparameters.h</a></div></div>
<div class="ttc" id="classQgsRectangle_html_a87a5cf3ee2fe6494c04a9e88876cc54e"><div class="ttname"><a href="classQgsRectangle.html#a87a5cf3ee2fe6494c04a9e88876cc54e">QgsRectangle::yMaximum</a></div><div class="ttdeci">double yMaximum() const</div><div class="ttdoc">Returns the y maximum value (top side of rectangle). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00172">qgsrectangle.h:172</a></div></div>
<div class="ttc" id="classQgsMeshLayer_html"><div class="ttname"><a href="classQgsMeshLayer.html">QgsMeshLayer</a></div><div class="ttdoc">Represents a mesh layer supporting display of data on structured or unstructured meshes. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmeshlayer_8h_source.html#l00089">qgsmeshlayer.h:89</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a34d5f22eeef1ebb67dc757f6415a481e"><div class="ttname"><a href="classQgsVectorLayer.html#a34d5f22eeef1ebb67dc757f6415a481e">QgsVectorLayer::getFeatures</a></div><div class="ttdeci">QgsFeatureIterator getFeatures(const QgsFeatureRequest &amp;request=QgsFeatureRequest()) const FINAL</div><div class="ttdoc">Query the layer for features specified in request. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l00922">qgsvectorlayer.cpp:922</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a0594da1ee92c9fc9e15659fc39522f97"><div class="ttname"><a href="classQgsMapLayer.html#a0594da1ee92c9fc9e15659fc39522f97">QgsMapLayer::name</a></div><div class="ttdeci">QString name</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00068">qgsmaplayer.h:68</a></div></div>
<div class="ttc" id="classQgsMapLayerStore_html"><div class="ttname"><a href="classQgsMapLayerStore.html">QgsMapLayerStore</a></div><div class="ttdoc">A storage object for map layers, in which the layers are owned by the store and have their lifetime b...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerstore_8h_source.html#l00035">qgsmaplayerstore.h:35</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_adf3b0b576d7812c4359ece2142170308a245423c442d426542f0f486f42e91395"><div class="ttname"><a href="classQgsMapLayer.html#adf3b0b576d7812c4359ece2142170308a245423c442d426542f0f486f42e91395">QgsMapLayer::RasterLayer</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00109">qgsmaplayer.h:109</a></div></div>
<div class="ttc" id="classQgsProxyFeatureSink_html_a7d7d0403ed95ab054a974d3a442f50c4"><div class="ttname"><a href="classQgsProxyFeatureSink.html#a7d7d0403ed95ab054a974d3a442f50c4">QgsProxyFeatureSink::addFeature</a></div><div class="ttdeci">bool addFeature(QgsFeature &amp;feature, QgsFeatureSink::Flags flags=nullptr) override</div><div class="ttdoc">Adds a single feature to the sink. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesink_8h_source.html#l00127">qgsfeaturesink.h:127</a></div></div>
<div class="ttc" id="classQgsCsException_html"><div class="ttname"><a href="classQgsCsException.html">QgsCsException</a></div><div class="ttdoc">Custom exception class for Coordinate Reference System related exceptions. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexception_8h_source.html#l00065">qgsexception.h:65</a></div></div>
<div class="ttc" id="classQgsMemoryProviderUtils_html_ad9c23e68423372d65e5a2174e405e612"><div class="ttname"><a href="classQgsMemoryProviderUtils.html#ad9c23e68423372d65e5a2174e405e612">QgsMemoryProviderUtils::createMemoryLayer</a></div><div class="ttdeci">static QgsVectorLayer * createMemoryLayer(const QString &amp;name, const QgsFields &amp;fields, QgsWkbTypes::Type geometryType=QgsWkbTypes::NoGeometry, const QgsCoordinateReferenceSystem &amp;crs=QgsCoordinateReferenceSystem())</div><div class="ttdoc">Creates a new memory layer using the specified parameters. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmemoryproviderutils_8cpp_source.html#l00059">qgsmemoryproviderutils.cpp:59</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_aba70559fe60637b0e366c1783f265b21"><div class="ttname"><a href="classQgsFeatureSource.html#aba70559fe60637b0e366c1783f265b21">QgsFeatureSource::maximumValue</a></div><div class="ttdeci">virtual QVariant maximumValue(int fieldIndex) const</div><div class="ttdoc">Returns the maximum value for an attribute column or an invalid variant in case of error...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8cpp_source.html#l00075">qgsfeaturesource.cpp:75</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a81dd9e974bac0697ac2fd765e194a057a0b39d4a12268de21cf16f802a4821888"><div class="ttname"><a href="classQgsFeatureSource.html#a81dd9e974bac0697ac2fd765e194a057a0b39d4a12268de21cf16f802a4821888">QgsFeatureSource::FeaturesMaybeAvailable</a></div><div class="ttdoc">There may be features available in this source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8h_source.html#l00054">qgsfeaturesource.h:54</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html_a95062c539fb8f8bd87a068025bcd8ded"><div class="ttname"><a href="classQgsVectorLayer.html#a95062c539fb8f8bd87a068025bcd8ded">QgsVectorLayer::dataProvider</a></div><div class="ttdeci">QgsVectorDataProvider * dataProvider() FINAL</div><div class="ttdoc">Returns the layer&amp;#39;s data provider, it may be null. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8cpp_source.html#l00562">qgsvectorlayer.cpp:562</a></div></div>
<div class="ttc" id="qgsproviderregistry_8h_html"><div class="ttname"><a href="qgsproviderregistry_8h.html">qgsproviderregistry.h</a></div></div>
<div class="ttc" id="classQgsFeatureIterator_html_a0e06c74bda2fbddbd7f2de13363fac44"><div class="ttname"><a href="classQgsFeatureIterator.html#a0e06c74bda2fbddbd7f2de13363fac44">QgsFeatureIterator::nextFeature</a></div><div class="ttdeci">bool nextFeature(QgsFeature &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeatureiterator_8h_source.html#l00373">qgsfeatureiterator.h:373</a></div></div>
<div class="ttc" id="classQgsProxyFeatureSink_html_a7e73b6cec2ef69624611c40b41fcaa33"><div class="ttname"><a href="classQgsProxyFeatureSink.html#a7e73b6cec2ef69624611c40b41fcaa33">QgsProxyFeatureSink::destinationSink</a></div><div class="ttdeci">QgsFeatureSink * destinationSink()</div><div class="ttdoc">Returns the destination QgsFeatureSink which the proxy will forward features to. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesink_8h_source.html#l00134">qgsfeaturesink.h:134</a></div></div>
<div class="ttc" id="classQgsProcessingUtils_html_a4ae097e24153b9ebaa503939c956b1ca"><div class="ttname"><a href="classQgsProcessingUtils.html#a4ae097e24153b9ebaa503939c956b1ca">QgsProcessingUtils::mapLayerFromString</a></div><div class="ttdeci">static QgsMapLayer * mapLayerFromString(const QString &amp;string, QgsProcessingContext &amp;context, bool allowLoadingNewLayers=true, LayerHint typeHint=UnknownType)</div><div class="ttdoc">Interprets a string as a map layer within the supplied context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00270">qgsprocessingutils.cpp:270</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_ab9f3b9901e4d7f84a76df2f5cd80b4e7"><div class="ttname"><a href="classQgsFeatureSource.html#ab9f3b9901e4d7f84a76df2f5cd80b4e7">QgsFeatureSource::sourceName</a></div><div class="ttdeci">virtual QString sourceName() const =0</div><div class="ttdoc">Returns a friendly display name for the source. </div></div>
<div class="ttc" id="classQgsProcessingFeatureSource_html_a366d2c72dd9532ba4f4e2b97688bd584"><div class="ttname"><a href="classQgsProcessingFeatureSource.html#a366d2c72dd9532ba4f4e2b97688bd584">QgsProcessingFeatureSource::featureCount</a></div><div class="ttdeci">long featureCount() const override</div><div class="ttdoc">Returns the number of features contained in the source, or -1 if the feature count is unknown...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l00964">qgsprocessingutils.cpp:964</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html"><div class="ttname"><a href="classQgsDataSourceUri.html">QgsDataSourceUri</a></div><div class="ttdoc">Class for storing the component parts of a PostgreSQL/RDBMS datasource URI. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8h_source.html#l00038">qgsdatasourceuri.h:38</a></div></div>
<div class="ttc" id="classQgsVectorFileWriter_html_a1aac90d30d811d2888d1aab4098ad63cac74b47e35551c4eb945d38d620f429d2"><div class="ttname"><a href="classQgsVectorFileWriter.html#a1aac90d30d811d2888d1aab4098ad63cac74b47e35551c4eb945d38d620f429d2">QgsVectorFileWriter::NoSymbology</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorfilewriter_8h_source.html#l00183">qgsvectorfilewriter.h:183</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html"><div class="ttname"><a href="classQgsVectorLayer.html">QgsVectorLayer</a></div><div class="ttdoc">Represents a vector layer which manages a vector based data sets. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8h_source.html#l00362">qgsvectorlayer.h:362</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_ac25a91ac31808a8dc2b76026870fcf8b"><div class="ttname"><a href="classQgsFeatureSource.html#ac25a91ac31808a8dc2b76026870fcf8b">QgsFeatureSource::allFeatureIds</a></div><div class="ttdeci">virtual QgsFeatureIds allFeatureIds() const</div><div class="ttdoc">Returns a list of all feature IDs for features present in the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8cpp_source.html#l00115">qgsfeaturesource.cpp:115</a></div></div>
<div class="ttc" id="classQgsProcessingContext_html"><div class="ttname"><a href="classQgsProcessingContext.html">QgsProcessingContext</a></div><div class="ttdoc">Contains information about the context in which a processing algorithm is executed. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingcontext_8h_source.html#l00043">qgsprocessingcontext.h:43</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_a6f75283013397a5041db18992a66f34b"><div class="ttname"><a href="classQgsFeatureSource.html#a6f75283013397a5041db18992a66f34b">QgsFeatureSource::hasFeatures</a></div><div class="ttdeci">virtual FeatureAvailability hasFeatures() const</div><div class="ttdoc">Determines if there are any features available in the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturesource_8cpp_source.html#l00026">qgsfeaturesource.cpp:26</a></div></div>
<div class="ttc" id="classQgsProcessingFeedback_html_a4fc777eb7aebb55afbb0bb736ef28064"><div class="ttname"><a href="classQgsProcessingFeedback.html#a4fc777eb7aebb55afbb0bb736ef28064">QgsProcessingFeedback::reportError</a></div><div class="ttdeci">virtual void reportError(const QString &amp;error, bool fatalError=false)</div><div class="ttdoc">Reports that the algorithm encountered an error while executing. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingfeedback_8h_source.html#l00054">qgsprocessingfeedback.h:54</a></div></div>
<div class="ttc" id="qgssettings_8h_html"><div class="ttname"><a href="qgssettings_8h.html">qgssettings.h</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_aba8b54697bdeb731d2c72563ca8041c3"><div class="ttname"><a href="classQgsDataSourceUri.html#aba8b54697bdeb731d2c72563ca8041c3">QgsDataSourceUri::database</a></div><div class="ttdeci">QString database() const</div><div class="ttdoc">Returns the database. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00274">qgsdatasourceuri.cpp:274</a></div></div>
<div class="ttc" id="classQgsProcessing_html_acad4d2322342455b53eee5701e2b3115ac5282134e3e26f38be0320008ff73b56"><div class="ttname"><a href="classQgsProcessing.html#acad4d2322342455b53eee5701e2b3115ac5282134e3e26f38be0320008ff73b56">QgsProcessing::TypeVectorAnyGeometry</a></div><div class="ttdoc">Any vector layer with geometry. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessing_8h_source.html#l00047">qgsprocessing.h:47</a></div></div>
<div class="ttc" id="classQgsCoordinateReferenceSystem_html_ab2dee1805d8e3b62448e4d106753b595"><div class="ttname"><a href="classQgsCoordinateReferenceSystem.html#ab2dee1805d8e3b62448e4d106753b595">QgsCoordinateReferenceSystem::authid</a></div><div class="ttdeci">QString authid() const</div><div class="ttdoc">Returns the authority identifier for the CRS. </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatereferencesystem_8cpp_source.html#l00983">qgscoordinatereferencesystem.cpp:983</a></div></div>
<div class="ttc" id="structQgsRasterLayer_1_1LayerOptions_html"><div class="ttname"><a href="structQgsRasterLayer_1_1LayerOptions.html">QgsRasterLayer::LayerOptions</a></div><div class="ttdoc">Setting options for loading raster layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00171">qgsrasterlayer.h:171</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a3619f5329809ff09bf0cc88b05dd6168"><div class="ttname"><a href="classQgsMapLayer.html#a3619f5329809ff09bf0cc88b05dd6168">QgsMapLayer::crs</a></div><div class="ttdeci">QgsCoordinateReferenceSystem crs</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00071">qgsmaplayer.h:71</a></div></div>
<div class="ttc" id="classQgsFeatureSource_html_aa16f62261f2e83d105f771ce28fefce6"><div class="ttname"><a href="classQgsFeatureSource.html#aa16f62261f2e83d105f771ce28fefce6">QgsFeatureSource::getFeatures</a></div><div class="ttdeci">virtual QgsFeatureIterator getFeatures(const QgsFeatureRequest &amp;request=QgsFeatureRequest()) const =0</div><div class="ttdoc">Returns an iterator for the features in the source. </div></div>
<div class="ttc" id="classQgsFeatureSource_html_aaa7a890168b71e524c56baff022b36f7"><div class="ttname"><a href="classQgsFeatureSource.html#aaa7a890168b71e524c56baff022b36f7">QgsFeatureSource::featureCount</a></div><div class="ttdeci">virtual long featureCount() const =0</div><div class="ttdoc">Returns the number of features contained in the source, or -1 if the feature count is unknown...</div></div>
<div class="ttc" id="classQgsCoordinateReferenceSystem_html_a077267450cec872305c6690de5b5b09c"><div class="ttname"><a href="classQgsCoordinateReferenceSystem.html#a077267450cec872305c6690de5b5b09c">QgsCoordinateReferenceSystem::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns whether this CRS is correctly initialized and usable. </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatereferencesystem_8cpp_source.html#l00672">qgscoordinatereferencesystem.cpp:672</a></div></div>
<div class="ttc" id="classQgsProcessingFeatureSink_html_a87934479915b913567e1d028308b86f0"><div class="ttname"><a href="classQgsProcessingFeatureSink.html#a87934479915b913567e1d028308b86f0">QgsProcessingFeatureSink::QgsProcessingFeatureSink</a></div><div class="ttdeci">QgsProcessingFeatureSink(QgsFeatureSink *originalSink, const QString &amp;sinkName, QgsProcessingContext &amp;context, bool ownsOriginalSink=false)</div><div class="ttdoc">Constructor for QgsProcessingFeatureSink, accepting an original feature sink originalSink and process...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingutils_8cpp_source.html#l01015">qgsprocessingutils.cpp:1015</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Feb 23 2019 03:59:22 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
