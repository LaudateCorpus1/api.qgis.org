<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: QgsVectorLayerUtils Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.6.0-Noosa (5873452)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classQgsVectorLayerUtils-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QgsVectorLayerUtils Class Reference<div class="ingroups"><a class="el" href="group__core.html">core library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains utility methods for working with QgsVectorLayers.  
 <a href="classQgsVectorLayerUtils.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="qgsvectorlayerutils_8h_source.html">qgsvectorlayerutils.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html">QgsDuplicateFeatureContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains mainly the QMap with <a class="el" href="classQgsVectorLayer.html" title="Represents a vector layer which manages a vector based data sets. ">QgsVectorLayer</a> and QgsFeatureIds do list all the duplicated features.  <a href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils_1_1QgsFeatureData.html">QgsFeatureData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encapsulate geometry and attributes for new features, to be passed to createFeatures.  <a href="classQgsVectorLayerUtils_1_1QgsFeatureData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2cf0704b98b43dbc33365cab14c18113"><td class="memItemLeft" align="right" valign="top">typedef QList&lt; <a class="el" href="classQgsVectorLayerUtils_1_1QgsFeatureData.html">QgsVectorLayerUtils::QgsFeatureData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a2cf0704b98b43dbc33365cab14c18113">QgsFeaturesDataList</a></td></tr>
<tr class="memdesc:a2cf0704b98b43dbc33365cab14c18113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alias for list of <a class="el" href="classQgsVectorLayerUtils_1_1QgsFeatureData.html" title="Encapsulate geometry and attributes for new features, to be passed to createFeatures. ">QgsFeatureData</a>.  <a href="#a2cf0704b98b43dbc33365cab14c18113">More...</a><br /></td></tr>
<tr class="separator:a2cf0704b98b43dbc33365cab14c18113"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8049ffa5e5b57fad94b09280e943f235"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQgsFeature.html">QgsFeature</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a8049ffa5e5b57fad94b09280e943f235">createFeature</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const <a class="el" href="classQgsGeometry.html">QgsGeometry</a> &amp;geometry=<a class="el" href="classQgsGeometry.html">QgsGeometry</a>(), const <a class="el" href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8">QgsAttributeMap</a> &amp;attributes=<a class="el" href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8">QgsAttributeMap</a>(), <a class="el" href="classQgsExpressionContext.html">QgsExpressionContext</a> *context=nullptr)</td></tr>
<tr class="memdesc:a8049ffa5e5b57fad94b09280e943f235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new feature ready for insertion into a layer.  <a href="#a8049ffa5e5b57fad94b09280e943f235">More...</a><br /></td></tr>
<tr class="separator:a8049ffa5e5b57fad94b09280e943f235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8a509ce24e6271337006e7883575db"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#abf8a509ce24e6271337006e7883575db">createFeatures</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const <a class="el" href="classQgsVectorLayerUtils.html#a2cf0704b98b43dbc33365cab14c18113">QgsFeaturesDataList</a> &amp;featuresData, <a class="el" href="classQgsExpressionContext.html">QgsExpressionContext</a> *context=nullptr)</td></tr>
<tr class="memdesc:abf8a509ce24e6271337006e7883575db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a set of new features ready for insertion into a layer.  <a href="#abf8a509ce24e6271337006e7883575db">More...</a><br /></td></tr>
<tr class="separator:abf8a509ce24e6271337006e7883575db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c62baac85a9b7143dafb9c95d251b6"><td class="memItemLeft" align="right" valign="top">static QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#ac4c62baac85a9b7143dafb9c95d251b6">createUniqueValue</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, int fieldIndex, const QVariant &amp;<a class="el" href="mersenne-twister_8h.html#a757b0f6620d0a7cf3ae26f71bd5afae6">seed</a>=QVariant())</td></tr>
<tr class="memdesc:ac4c62baac85a9b7143dafb9c95d251b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new attribute value for the specified field index which is guaranteed to be unique.  <a href="#ac4c62baac85a9b7143dafb9c95d251b6">More...</a><br /></td></tr>
<tr class="separator:ac4c62baac85a9b7143dafb9c95d251b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf46b06ff72c2a215f240269dd97146"><td class="memItemLeft" align="right" valign="top">static QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#adaf46b06ff72c2a215f240269dd97146">createUniqueValueFromCache</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, int fieldIndex, const QSet&lt; QVariant &gt; &amp;existingValues, const QVariant &amp;<a class="el" href="mersenne-twister_8h.html#a757b0f6620d0a7cf3ae26f71bd5afae6">seed</a>=QVariant())</td></tr>
<tr class="memdesc:adaf46b06ff72c2a215f240269dd97146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new attribute value for the specified field index which is guaranteed to be unique within regard to <em>existingValues</em>.  <a href="#adaf46b06ff72c2a215f240269dd97146">More...</a><br /></td></tr>
<tr class="separator:adaf46b06ff72c2a215f240269dd97146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7992504619d2a600e119145772d6e0b8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQgsFeature.html">QgsFeature</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a7992504619d2a600e119145772d6e0b8">duplicateFeature</a> (<a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const <a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;feature, <a class="el" href="classQgsProject.html">QgsProject</a> *project, int depth, <a class="el" href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html">QgsDuplicateFeatureContext</a> &amp;duplicateFeatureContext)</td></tr>
<tr class="memdesc:a7992504619d2a600e119145772d6e0b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicates a feature and it's children (one level deep).  <a href="#a7992504619d2a600e119145772d6e0b8">More...</a><br /></td></tr>
<tr class="separator:a7992504619d2a600e119145772d6e0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c5385be093a21faca7ea297da9eb04"><td class="memItemLeft" align="right" valign="top">static QList&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#aa5c5385be093a21faca7ea297da9eb04">getDoubleValues</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const QString &amp;fieldOrExpression, bool &amp;ok, bool selectedOnly=false, int *nullCount=nullptr, <a class="el" href="classQgsFeedback.html">QgsFeedback</a> *feedback=nullptr)</td></tr>
<tr class="memdesc:aa5c5385be093a21faca7ea297da9eb04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches all double values from a specified field name or expression.  <a href="#aa5c5385be093a21faca7ea297da9eb04">More...</a><br /></td></tr>
<tr class="separator:aa5c5385be093a21faca7ea297da9eb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b86ec2106d3ab6579e76b21a1ab1c7"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classQgsVectorLayerFeatureSource.html">QgsVectorLayerFeatureSource</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a70b86ec2106d3ab6579e76b21a1ab1c7">getFeatureSource</a> (QPointer&lt; <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> &gt; layer, <a class="el" href="classQgsFeedback.html">QgsFeedback</a> *feedback=nullptr)</td></tr>
<tr class="memdesc:a70b86ec2106d3ab6579e76b21a1ab1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the feature source from a <a class="el" href="classQgsVectorLayer.html" title="Represents a vector layer which manages a vector based data sets. ">QgsVectorLayer</a> pointer.  <a href="#a70b86ec2106d3ab6579e76b21a1ab1c7">More...</a><br /></td></tr>
<tr class="separator:a70b86ec2106d3ab6579e76b21a1ab1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acced1507b9fc9eded69d785f05349b5d"><td class="memItemLeft" align="right" valign="top">static QList&lt; QVariant &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#acced1507b9fc9eded69d785f05349b5d">getValues</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const QString &amp;fieldOrExpression, bool &amp;ok, bool selectedOnly=false, <a class="el" href="classQgsFeedback.html">QgsFeedback</a> *feedback=nullptr)</td></tr>
<tr class="memdesc:acced1507b9fc9eded69d785f05349b5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches all values from a specified field name or expression.  <a href="#acced1507b9fc9eded69d785f05349b5d">More...</a><br /></td></tr>
<tr class="separator:acced1507b9fc9eded69d785f05349b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6485e1bd9c2fd15759c09673e5bcec81"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQgsFeatureIterator.html">QgsFeatureIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a6485e1bd9c2fd15759c09673e5bcec81">getValuesIterator</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const QString &amp;fieldOrExpression, bool &amp;ok, bool selectedOnly)</td></tr>
<tr class="memdesc:a6485e1bd9c2fd15759c09673e5bcec81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a feature iterator for a specified field name or expression.  <a href="#a6485e1bd9c2fd15759c09673e5bcec81">More...</a><br /></td></tr>
<tr class="separator:a6485e1bd9c2fd15759c09673e5bcec81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503c0c3143ea337c49687dc389701646"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a503c0c3143ea337c49687dc389701646">makeFeatureCompatible</a> (const <a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;feature, const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer)</td></tr>
<tr class="memdesc:a503c0c3143ea337c49687dc389701646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts input <em>feature</em> to be compatible with the given <em>layer</em>.  <a href="#a503c0c3143ea337c49687dc389701646">More...</a><br /></td></tr>
<tr class="separator:a503c0c3143ea337c49687dc389701646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6c8305e1d595d9ec962493d72e8651"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a2b6c8305e1d595d9ec962493d72e8651">makeFeaturesCompatible</a> (const <a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> &amp;features, const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer)</td></tr>
<tr class="memdesc:a2b6c8305e1d595d9ec962493d72e8651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts input <em>features</em> to be compatible with the given <em>layer</em>.  <a href="#a2b6c8305e1d595d9ec962493d72e8651">More...</a><br /></td></tr>
<tr class="separator:a2b6c8305e1d595d9ec962493d72e8651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b39d34345d605cabf89a9a27c2c697"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#ae4b39d34345d605cabf89a9a27c2c697">matchAttributesToFields</a> (<a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;feature, const <a class="el" href="classQgsFields.html">QgsFields</a> &amp;fields)</td></tr>
<tr class="memdesc:ae4b39d34345d605cabf89a9a27c2c697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matches the attributes in <em>feature</em> to the specified <em>fields</em>.  <a href="#ae4b39d34345d605cabf89a9a27c2c697">More...</a><br /></td></tr>
<tr class="separator:ae4b39d34345d605cabf89a9a27c2c697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48786b14c87f16dc1c77d33c05421ef"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#ae48786b14c87f16dc1c77d33c05421ef">validateAttribute</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, const <a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;feature, int attributeIndex, QStringList &amp;errors, <a class="el" href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dca">QgsFieldConstraints::ConstraintStrength</a> strength=<a class="el" href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dcaa3363576bcb35da808eb7cfa672dadf2c">QgsFieldConstraints::ConstraintStrengthNotSet</a>, <a class="el" href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3">QgsFieldConstraints::ConstraintOrigin</a> origin=<a class="el" href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3a8befae9864c309ce37ed84b2282ba79b">QgsFieldConstraints::ConstraintOriginNotSet</a>)</td></tr>
<tr class="memdesc:ae48786b14c87f16dc1c77d33c05421ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests an attribute value to check whether it passes all constraints which are present on the corresponding field.  <a href="#ae48786b14c87f16dc1c77d33c05421ef">More...</a><br /></td></tr>
<tr class="separator:ae48786b14c87f16dc1c77d33c05421ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f919646469f304c6ff0092db63ab6c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQgsVectorLayerUtils.html#a38f919646469f304c6ff0092db63ab6c">valueExists</a> (const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer, int fieldIndex, const QVariant &amp;value, const <a class="el" href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3">QgsFeatureIds</a> &amp;ignoreIds=<a class="el" href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3">QgsFeatureIds</a>())</td></tr>
<tr class="memdesc:a38f919646469f304c6ff0092db63ab6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the specified value already exists within a field.  <a href="#a38f919646469f304c6ff0092db63ab6c">More...</a><br /></td></tr>
<tr class="separator:a38f919646469f304c6ff0092db63ab6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains utility methods for working with QgsVectorLayers. </p>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8h_source.html#l00031">31</a> of file <a class="el" href="qgsvectorlayerutils_8h_source.html">qgsvectorlayerutils.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a2cf0704b98b43dbc33365cab14c18113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf0704b98b43dbc33365cab14c18113">&#9670;&nbsp;</a></span>QgsFeaturesDataList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef QList&lt;<a class="el" href="classQgsVectorLayerUtils_1_1QgsFeatureData.html">QgsVectorLayerUtils::QgsFeatureData</a>&gt; <a class="el" href="classQgsVectorLayerUtils.html#a2cf0704b98b43dbc33365cab14c18113">QgsVectorLayerUtils::QgsFeaturesDataList</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alias for list of <a class="el" href="classQgsVectorLayerUtils_1_1QgsFeatureData.html" title="Encapsulate geometry and attributes for new features, to be passed to createFeatures. ">QgsFeatureData</a>. </p>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8h_source.html#l00102">102</a> of file <a class="el" href="qgsvectorlayerutils_8h_source.html">qgsvectorlayerutils.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8049ffa5e5b57fad94b09280e943f235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8049ffa5e5b57fad94b09280e943f235">&#9670;&nbsp;</a></span>createFeature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsFeature.html">QgsFeature</a> QgsVectorLayerUtils::createFeature </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsGeometry.html">QgsGeometry</a> &amp;&#160;</td>
          <td class="paramname"><em>geometry</em> = <code><a class="el" href="classQgsGeometry.html">QgsGeometry</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8">QgsAttributeMap</a> &amp;&#160;</td>
          <td class="paramname"><em>attributes</em> = <code><a class="el" href="qgsattributes_8h.html#a54fb9a5ab4cfae301a0415ce490f08c8">QgsAttributeMap</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsExpressionContext.html">QgsExpressionContext</a> *&#160;</td>
          <td class="paramname"><em>context</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new feature ready for insertion into a layer. </p>
<p>Default values and constraints (e.g., unique constraints) will automatically be handled. An optional attribute map can be passed for the new feature to copy as many attribute values as possible from the map, assuming that they respect the layer's constraints. Note that the created feature is not automatically inserted into the layer. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classQgsVectorLayerUtils.html#abf8a509ce24e6271337006e7883575db" title="Creates a set of new features ready for insertion into a layer. ">createFeatures()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00440">440</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="abf8a509ce24e6271337006e7883575db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8a509ce24e6271337006e7883575db">&#9670;&nbsp;</a></span>createFeatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> QgsVectorLayerUtils::createFeatures </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayerUtils.html#a2cf0704b98b43dbc33365cab14c18113">QgsFeaturesDataList</a> &amp;&#160;</td>
          <td class="paramname"><em>featuresData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsExpressionContext.html">QgsExpressionContext</a> *&#160;</td>
          <td class="paramname"><em>context</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a set of new features ready for insertion into a layer. </p>
<p>Default values and constraints (e.g., unique constraints) will automatically be handled. Note that the created features are not automatically inserted into the layer. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classQgsVectorLayerUtils.html#a8049ffa5e5b57fad94b09280e943f235" title="Creates a new feature ready for insertion into a layer. ">createFeature()</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.6 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00447">447</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="ac4c62baac85a9b7143dafb9c95d251b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c62baac85a9b7143dafb9c95d251b6">&#9670;&nbsp;</a></span>createUniqueValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariant QgsVectorLayerUtils::createUniqueValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fieldIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariant &amp;&#160;</td>
          <td class="paramname"><em>seed</em> = <code>QVariant()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new attribute value for the specified field index which is guaranteed to be unique. </p>
<p>The optional seed value can be used as a basis for generated values. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classQgsVectorLayerUtils.html#a38f919646469f304c6ff0092db63ab6c" title="Returns true if the specified value already exists within a field. ">valueExists()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00187">187</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="adaf46b06ff72c2a215f240269dd97146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf46b06ff72c2a215f240269dd97146">&#9670;&nbsp;</a></span>createUniqueValueFromCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariant QgsVectorLayerUtils::createUniqueValueFromCache </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fieldIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QSet&lt; QVariant &gt; &amp;&#160;</td>
          <td class="paramname"><em>existingValues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariant &amp;&#160;</td>
          <td class="paramname"><em>seed</em> = <code>QVariant()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new attribute value for the specified field index which is guaranteed to be unique within regard to <em>existingValues</em>. </p>
<p>The optional seed value can be used as a basis for generated values. </p><dl class="section since"><dt>Since</dt><dd>QGIS 3.6 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00267">267</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="a7992504619d2a600e119145772d6e0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7992504619d2a600e119145772d6e0b8">&#9670;&nbsp;</a></span>duplicateFeature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsFeature.html">QgsFeature</a> QgsVectorLayerUtils::duplicateFeature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsProject.html">QgsProject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsVectorLayerUtils_1_1QgsDuplicateFeatureContext.html">QgsDuplicateFeatureContext</a> &amp;&#160;</td>
          <td class="paramname"><em>duplicateFeatureContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Duplicates a feature and it's children (one level deep). </p>
<p>It calls CreateFeature, so default values and constraints (e.g., unique constraints) will automatically be handled. The duplicated feature will be automatically inserted into the layer. <em>depth</em> the higher this number the deeper the level - With depth &gt; 0 the children of the feature are not duplicated <em>duplicateFeatureContext</em> stores all the layers and the featureids of the duplicated features (incl. children) </p><dl class="section since"><dt>Since</dt><dd>QGIS 3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00566">566</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="aa5c5385be093a21faca7ea297da9eb04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5c5385be093a21faca7ea297da9eb04">&#9670;&nbsp;</a></span>getDoubleValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; double &gt; QgsVectorLayerUtils::getDoubleValues </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fieldOrExpression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>selectedOnly</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nullCount</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsFeedback.html">QgsFeedback</a> *&#160;</td>
          <td class="paramname"><em>feedback</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches all double values from a specified field name or expression. </p>
<p>Null values or invalid expression results are skipped. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">layer</td><td>vector layer to retrieve values from </td></tr>
    <tr><td class="paramname">fieldOrExpression</td><td>field name or an expression string evaluating to a double value </td></tr>
    <tr><td class="paramname">ok</td><td>will be set to false if field or expression is invalid, otherwise true </td></tr>
    <tr><td class="paramname">selectedOnly</td><td>set to true to get values from selected features only </td></tr>
    <tr><td class="paramname">nullCount</td><td>optional pointer to integer to store number of null values encountered in </td></tr>
    <tr><td class="paramname">feedback</td><td>optional feedback object to allow cancelation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list of fetched values </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQgsVectorLayerUtils.html#acced1507b9fc9eded69d785f05349b5d" title="Fetches all values from a specified field name or expression. ">getValues</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00119">119</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="a70b86ec2106d3ab6579e76b21a1ab1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b86ec2106d3ab6579e76b21a1ab1c7">&#9670;&nbsp;</a></span>getFeatureSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classQgsVectorLayerFeatureSource.html">QgsVectorLayerFeatureSource</a> &gt; QgsVectorLayerUtils::getFeatureSource </td>
          <td>(</td>
          <td class="paramtype">QPointer&lt; <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> &gt;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsFeedback.html">QgsFeedback</a> *&#160;</td>
          <td class="paramname"><em>feedback</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the feature source from a <a class="el" href="classQgsVectorLayer.html" title="Represents a vector layer which manages a vector based data sets. ">QgsVectorLayer</a> pointer. </p>
<p>This method is thread-safe but will block the main thread for execution. Executing it from the main thread is safe too. This should be used in scenarios, where a <code>QWeakPointer&lt;<a class="el" href="classQgsVectorLayer.html" title="Represents a vector layer which manages a vector based data sets. ">QgsVectorLayer</a>&gt;</code> is kept in a thread and features should be fetched from this layer. Using the layer directly is not safe to do. The result will be <code>nullptr</code> if the layer has been deleted. If <em>feedback</em> is specified, the call will return if the feedback is canceled. Returns a new feature source for the <em>layer</em>. The source may be a nullptr if the layer no longer exists or if the feedback is canceled.</p>
<dl class="section note"><dt>Note</dt><dd>Requires Qt &gt;= 5.10 to make use of the thread-safe implementation </dd></dl>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.4 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00616">616</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="acced1507b9fc9eded69d785f05349b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acced1507b9fc9eded69d785f05349b5d">&#9670;&nbsp;</a></span>getValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QVariant &gt; QgsVectorLayerUtils::getValues </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fieldOrExpression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>selectedOnly</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsFeedback.html">QgsFeedback</a> *&#160;</td>
          <td class="paramname"><em>feedback</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches all values from a specified field name or expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">layer</td><td>vector layer to retrieve values from </td></tr>
    <tr><td class="paramname">fieldOrExpression</td><td>field name or an expression string </td></tr>
    <tr><td class="paramname">ok</td><td>will be set to false if field or expression is invalid, otherwise true </td></tr>
    <tr><td class="paramname">selectedOnly</td><td>set to true to get values from selected features only </td></tr>
    <tr><td class="paramname">feedback</td><td>optional feedback object to allow cancelation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list of fetched values </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQgsVectorLayerUtils.html#aa5c5385be093a21faca7ea297da9eb04" title="Fetches all double values from a specified field name or expression. ">getDoubleValues</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00079">79</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="a6485e1bd9c2fd15759c09673e5bcec81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6485e1bd9c2fd15759c09673e5bcec81">&#9670;&nbsp;</a></span>getValuesIterator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQgsFeatureIterator.html">QgsFeatureIterator</a> QgsVectorLayerUtils::getValuesIterator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fieldOrExpression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>ok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>selectedOnly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a feature iterator for a specified field name or expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">layer</td><td>vector layer to retrieve values from </td></tr>
    <tr><td class="paramname">fieldOrExpression</td><td>field name or an expression string </td></tr>
    <tr><td class="paramname">ok</td><td>will be set to false if field or expression is invalid, otherwise true </td></tr>
    <tr><td class="paramname">selectedOnly</td><td>set to true to get values from selected features only </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>feature iterator </dd></dl>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00037">37</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="a503c0c3143ea337c49687dc389701646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503c0c3143ea337c49687dc389701646">&#9670;&nbsp;</a></span>makeFeatureCompatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> QgsVectorLayerUtils::makeFeatureCompatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts input <em>feature</em> to be compatible with the given <em>layer</em>. </p>
<p>This function returns a new list of transformed features compatible with the input layer, note that the number of features returned might be greater than one when converting a multi part geometry to single part</p>
<p>The following operations will be performed to convert the input features:</p><ul>
<li>convert single geometries to multi part</li>
<li>drop additional attributes</li>
<li>drop geometry if layer is geometry-less</li>
<li>add missing attribute fields</li>
<li>add back M/Z values (initialized to 0)</li>
<li>drop Z/M</li>
<li>convert multi part geometries to single part</li>
</ul>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.4 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00678">678</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="a2b6c8305e1d595d9ec962493d72e8651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6c8305e1d595d9ec962493d72e8651">&#9670;&nbsp;</a></span>makeFeaturesCompatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> QgsVectorLayerUtils::makeFeaturesCompatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="qgsfeature_8h.html#ae0f922f3469155bc17dfc96729f1c1cc">QgsFeatureList</a> &amp;&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts input <em>features</em> to be compatible with the given <em>layer</em>. </p>
<p>This function returns a new list of transformed features compatible with the input layer, note that the number of features returned might be greater than the number of input features.</p>
<p>The following operations will be performed to convert the input features:</p><ul>
<li>convert single geometries to multi part</li>
<li>drop additional attributes</li>
<li>drop geometry if layer is geometry-less</li>
<li>add missing attribute fields</li>
<li>add back M/Z values (initialized to 0)</li>
<li>drop Z/M</li>
<li>convert multi part geometries to single part</li>
</ul>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.4 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00835">835</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="ae4b39d34345d605cabf89a9a27c2c697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b39d34345d605cabf89a9a27c2c697">&#9670;&nbsp;</a></span>matchAttributesToFields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QgsVectorLayerUtils::matchAttributesToFields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsFields.html">QgsFields</a> &amp;&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Matches the attributes in <em>feature</em> to the specified <em>fields</em>. </p>
<p>This causes the attributes contained within the given <em>feature</em> to be rearranged (or in some cases dropped) in order to match the fields and order indicated by <em>fields</em>.</p>
<p>The exact behavior depends on whether or not <em>feature</em> has a valid fields container set (see <a class="el" href="classQgsFeature.html#a331068f619fa9a4b85dee464a6b0f8dd">QgsFeature::fields()</a>). If a fields container is set, then the names of the feature's fields are matched to <em>fields</em>. In this case attributes from <em>feature</em> will be rearranged or dropped in order to match the field names from <em>fields</em>.</p>
<p>If the <em>feature</em> does not have a valid fields container set, then the feature's attributes are simply truncated to match the number of fields present in <em>fields</em> (or if less attributes are present in <em>feature</em> than in <em>fields</em>, the feature's attributes are padded with NULL values to match the required length).</p>
<dl class="section since"><dt>Since</dt><dd>QGIS 3.4 </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00640">640</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="ae48786b14c87f16dc1c77d33c05421ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae48786b14c87f16dc1c77d33c05421ef">&#9670;&nbsp;</a></span>validateAttribute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QgsVectorLayerUtils::validateAttribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQgsFeature.html">QgsFeature</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attributeIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QStringList &amp;&#160;</td>
          <td class="paramname"><em>errors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dca">QgsFieldConstraints::ConstraintStrength</a>&#160;</td>
          <td class="paramname"><em>strength</em> = <code><a class="el" href="classQgsFieldConstraints.html#a1c3f236d5bdf714a3ba819e8b6b50dcaa3363576bcb35da808eb7cfa672dadf2c">QgsFieldConstraints::ConstraintStrengthNotSet</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3">QgsFieldConstraints::ConstraintOrigin</a>&#160;</td>
          <td class="paramname"><em>origin</em> = <code><a class="el" href="classQgsFieldConstraints.html#a583a3a85ec7aa50fceadd3f56da6b8b3a8befae9864c309ce37ed84b2282ba79b">QgsFieldConstraints::ConstraintOriginNotSet</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests an attribute value to check whether it passes all constraints which are present on the corresponding field. </p>
<p>Returns true if the attribute value is valid for the field. Any constraint failures will be reported in the errors argument. If the strength or origin parameter is set then only constraints with a matching strength/origin will be checked. </p>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00348">348</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<a id="a38f919646469f304c6ff0092db63ab6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f919646469f304c6ff0092db63ab6c">&#9670;&nbsp;</a></span>valueExists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QgsVectorLayerUtils::valueExists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQgsVectorLayer.html">QgsVectorLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fieldIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QVariant &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3">QgsFeatureIds</a> &amp;&#160;</td>
          <td class="paramname"><em>ignoreIds</em> = <code><a class="el" href="qgsfeatureid_8h.html#a443917048a2ef75006fdeba30f1549f3">QgsFeatureIds</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the specified value already exists within a field. </p>
<p>This method can be used to test for uniqueness of values inside a layer's attributes. An optional list of ignored feature IDs can be provided, if so, any features with IDs within this list are ignored when testing for existence of the value. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classQgsVectorLayerUtils.html#ac4c62baac85a9b7143dafb9c95d251b6" title="Returns a new attribute value for the specified field index which is guaranteed to be unique...">createUniqueValue()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qgsvectorlayerutils_8cpp_source.html#l00150">150</a> of file <a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/tmp/buildd/qgis-3.6.0+99unstable/src/core/<a class="el" href="qgsvectorlayerutils_8h_source.html">qgsvectorlayerutils.h</a></li>
<li>/tmp/buildd/qgis-3.6.0+99unstable/src/core/<a class="el" href="qgsvectorlayerutils_8cpp_source.html">qgsvectorlayerutils.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Feb 23 2019 03:59:22 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
