<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: /build/qgis-3.9.0+git20190904+224899f119+15buster/src/core/layout/qgslayoutatlas.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.9.0-Master (224899f119)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_817e68550cfa520fe128692926edd7d4.html">layout</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qgslayoutatlas.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qgslayoutatlas_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">                             qgslayoutatlas.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">                             ----------------</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    begin                : December 2017</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    copyright            : (C) 2017 by Nyall Dawson</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    email                : nyall dot dawson at gmail dot com</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;QtAlgorithms&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgslayoutatlas_8h.html">qgslayoutatlas.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgslayout_8h.html">qgslayout.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmessagelog_8h.html">qgsmessagelog.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsfeaturerequest_8h.html">qgsfeaturerequest.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsfeatureiterator_8h.html">qgsfeatureiterator.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsvectorlayer_8h.html">qgsvectorlayer.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsexpressioncontextutils_8h.html">qgsexpressioncontextutils.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aaf8ed5b4e1682d6ee3619fd110901ecf">   29</a></span>&#160;<a class="code" href="classQgsLayoutAtlas.html#aaf8ed5b4e1682d6ee3619fd110901ecf">QgsLayoutAtlas::QgsLayoutAtlas</a>( <a class="code" href="classQgsLayout.html">QgsLayout</a> *layout )</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  : QObject( layout )</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  , mLayout( layout )</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  , mFilenameExpressionString( QStringLiteral( <span class="stringliteral">&quot;&#39;output_&#39;||@atlas_featurenumber&quot;</span> ) )</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">//listen out for layer removal</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  connect( mLayout-&gt;project(), static_cast &lt; void ( <a class="code" href="classQgsProject.html">QgsProject</a>::* )( <span class="keyword">const</span> QStringList &amp; ) &gt;( &amp;<a class="code" href="classQgsProject.html#a397c77eafd9729828ae4c2fb39825e16">QgsProject::layersWillBeRemoved</a> ), <span class="keyword">this</span>, &amp;QgsLayoutAtlas::removeLayers );</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#afe23b370d92f51f5d7a044c968eab457">   39</a></span>&#160;QString <a class="code" href="classQgsLayoutAtlas.html#afe23b370d92f51f5d7a044c968eab457">QgsLayoutAtlas::stringType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">return</span> QStringLiteral( <span class="stringliteral">&quot;atlas&quot;</span> );</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a76db768efceaae6bd45ae45106f30d64">   44</a></span>&#160;<a class="code" href="classQgsLayout.html">QgsLayout</a> *<a class="code" href="classQgsLayoutAtlas.html#a76db768efceaae6bd45ae45106f30d64">QgsLayoutAtlas::layout</a>()</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">return</span> mLayout;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a475ec8cdcaa4e27d0203cf2b51a3e9f2">   49</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsLayout.html">QgsLayout</a> *<a class="code" href="classQgsLayoutAtlas.html#a76db768efceaae6bd45ae45106f30d64">QgsLayoutAtlas::layout</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">return</span> mLayout.data();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a210f89386f5e052d6a33ee7dab886c6e">   54</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a210f89386f5e052d6a33ee7dab886c6e">QgsLayoutAtlas::writeXml</a>( QDomElement &amp;parentElement, QDomDocument &amp;document, <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp; )<span class="keyword"> const</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  QDomElement atlasElem = document.createElement( QStringLiteral( <span class="stringliteral">&quot;Atlas&quot;</span> ) );</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;enabled&quot;</span> ), mEnabled ? QStringLiteral( <span class="stringliteral">&quot;1&quot;</span> ) : QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) );</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> ( mCoverageLayer )</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayer&quot;</span> ), mCoverageLayer.<a class="code" href="struct__LayerRef.html#ad1aca88526ddf3ff0622f09de491fbc8">layerId</a> );</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayerName&quot;</span> ), mCoverageLayer.<a class="code" href="struct__LayerRef.html#a652e594429a548374c955b5e2b675ff0">name</a> );</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayerSource&quot;</span> ), mCoverageLayer.<a class="code" href="struct__LayerRef.html#a5f27a5eb79eb197fe9d19cd56ca267b2">source</a> );</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayerProvider&quot;</span> ), mCoverageLayer.<a class="code" href="struct__LayerRef.html#a90762984077a636c402270eec75be9cb">provider</a> );</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayer&quot;</span> ), QString() );</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;hideCoverage&quot;</span> ), mHideCoverage ? QStringLiteral( <span class="stringliteral">&quot;1&quot;</span> ) : QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) );</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;filenamePattern&quot;</span> ), mFilenameExpressionString );</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;pageNameExpression&quot;</span> ), mPageNameExpression );</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;sortFeatures&quot;</span> ), mSortFeatures ? QStringLiteral( <span class="stringliteral">&quot;1&quot;</span> ) : QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) );</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> ( mSortFeatures )</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;sortKey&quot;</span> ), mSortExpression );</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;sortAscending&quot;</span> ), mSortAscending ? QStringLiteral( <span class="stringliteral">&quot;1&quot;</span> ) : QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) );</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;filterFeatures&quot;</span> ), mFilterFeatures ? QStringLiteral( <span class="stringliteral">&quot;1&quot;</span> ) : QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) );</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> ( mFilterFeatures )</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    atlasElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;featureFilter&quot;</span> ), mFilterExpression );</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  parentElement.appendChild( atlasElem );</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aa86e5479e4cdc0cee8cb9e3945627206">   92</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#aa86e5479e4cdc0cee8cb9e3945627206">QgsLayoutAtlas::readXml</a>( <span class="keyword">const</span> QDomElement &amp;atlasElem, <span class="keyword">const</span> QDomDocument &amp;, <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp; )</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  mEnabled = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;enabled&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) ).toInt();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// look for stored layer name</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  QString layerId = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayer&quot;</span> ) );</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  QString layerName = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayerName&quot;</span> ) );</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  QString layerSource = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayerSource&quot;</span> ) );</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  QString layerProvider = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;coverageLayerProvider&quot;</span> ) );</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  mCoverageLayer = <a class="code" href="qgsvectorlayerref_8h.html#a0116ec850f15054fc88572bb7fefd4a6">QgsVectorLayerRef</a>( layerId, layerName, layerSource, layerProvider );</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  mCoverageLayer.<a class="code" href="struct__LayerRef.html#a75f91de1ff71520ac391e2f7163b6fdc">resolveWeakly</a>( mLayout-&gt;project() );</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  mLayout-&gt;reportContext().setLayer( mCoverageLayer.<a class="code" href="struct__LayerRef.html#a6ba33a25a4a72ebe8b0117d2b810697a">get</a>() );</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  mPageNameExpression = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;pageNameExpression&quot;</span> ), QString() );</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  QString error;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="classQgsLayoutAtlas.html#a8a63864ef6abece3756ef098a2161d0b">setFilenameExpression</a>( atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;filenamePattern&quot;</span> ), QString() ), error );</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  mSortFeatures = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;sortFeatures&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) ).toInt();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  mSortExpression = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;sortKey&quot;</span> ) );</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  mSortAscending = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;sortAscending&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;1&quot;</span> ) ).toInt();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  mFilterFeatures = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;filterFeatures&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) ).toInt();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  mFilterExpression = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;featureFilter&quot;</span> ) );</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  mHideCoverage = atlasElem.attribute( QStringLiteral( <span class="stringliteral">&quot;hideCoverage&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;0&quot;</span> ) ).toInt();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#a4332fa737ac52722e4c414cd126931bc">toggled</a>( mEnabled );</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#add66f1a2dee4a5c1c6d5200169d9e3f0">changed</a>();</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a59ce7cce56dcf819b29e0a9e660dba06">  123</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsLayoutAtlas.html#a59ce7cce56dcf819b29e0a9e660dba06">QgsLayoutAtlas::setEnabled</a>( <span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a881252364b06bc3a2eab9abe7337cb4c">enabled</a> )</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">if</span> ( enabled == mEnabled )</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  mEnabled = <a class="code" href="classQgsLayoutAtlas.html#a881252364b06bc3a2eab9abe7337cb4c">enabled</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#a4332fa737ac52722e4c414cd126931bc">toggled</a>( enabled );</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#add66f1a2dee4a5c1c6d5200169d9e3f0">changed</a>();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">void</span> QgsLayoutAtlas::removeLayers( <span class="keyword">const</span> QStringList &amp;layers )</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> ( !mCoverageLayer )</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> QString &amp;layerId : layers )</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> ( layerId == mCoverageLayer.<a class="code" href="struct__LayerRef.html#ad1aca88526ddf3ff0622f09de491fbc8">layerId</a> )</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="comment">//current coverage layer removed</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      mCoverageLayer.<a class="code" href="struct__LayerRef.html#abd5b9f273f44bbc69e076baa7acb0d40">setLayer</a>( <span class="keyword">nullptr</span> );</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="classQgsLayoutAtlas.html#a59ce7cce56dcf819b29e0a9e660dba06">setEnabled</a>( <span class="keyword">false</span> );</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a30ce96524dfed281d410e3ac1dbe9a7b">  154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsLayoutAtlas.html#a30ce96524dfed281d410e3ac1dbe9a7b">QgsLayoutAtlas::setCoverageLayer</a>( <a class="code" href="classQgsVectorLayer.html">QgsVectorLayer</a> *layer )</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> ( layer == mCoverageLayer.<a class="code" href="struct__LayerRef.html#a6ba33a25a4a72ebe8b0117d2b810697a">get</a>() )</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  mCoverageLayer.<a class="code" href="struct__LayerRef.html#abd5b9f273f44bbc69e076baa7acb0d40">setLayer</a>( layer );</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#acab3734f8e501afcc1e6795b9e591c49">coverageLayerChanged</a>( layer );</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a0830b03eda67d8f847e2fc03fbdd0f9b">  165</a></span>&#160;QString <a class="code" href="classQgsLayoutAtlas.html#a0830b03eda67d8f847e2fc03fbdd0f9b">QgsLayoutAtlas::nameForPage</a>( <span class="keywordtype">int</span> pageNumber )<span class="keyword"> const</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> ( pageNumber &lt; 0 || pageNumber &gt;= mFeatureIds.count() )</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> QString();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">return</span> mFeatureIds.at( pageNumber ).second;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a385864a4666de9fe3b104660736c3c3c">  173</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a385864a4666de9fe3b104660736c3c3c">QgsLayoutAtlas::setFilterExpression</a>( <span class="keyword">const</span> QString &amp;expression, QString &amp;errorString )</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  errorString.clear();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  mFilterExpression = expression;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classQgsExpression.html">QgsExpression</a> <a class="code" href="classQgsLayoutAtlas.html#a6f8fcc5f5457788a09b86772a05a88a3">filterExpression</a>( mFilterExpression );</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> ( filterExpression.<a class="code" href="classQgsExpression.html#a3636e8467726b4767f2f2806d083dc5d">hasParserError</a>() )</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    errorString = filterExpression.<a class="code" href="classQgsExpression.html#a5a0caebf6fde03106c509cb0cdbc05a9">parserErrorString</a>();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">class </span><a class="code" href="classQgsLayoutAtlas.html#a5cec16c7561991cbd09dfb46f5f4abcc">AtlasFeatureSorter</a></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classQgsLayoutAtlas.html#a5cec16c7561991cbd09dfb46f5f4abcc">AtlasFeatureSorter</a>( QgsLayoutAtlas::SorterKeys &amp;keys, <span class="keywordtype">bool</span> ascending = <span class="keyword">true</span> )</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      : mKeys( keys )</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      , mAscending( ascending )</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {}</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">bool</span> operator()( <span class="keyword">const</span> QPair&lt; QgsFeatureId, QString &gt; &amp;id1, <span class="keyword">const</span> QPair&lt; QgsFeatureId, QString &gt; &amp;id2 )</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> mAscending ? <a class="code" href="qgis_8cpp.html#a8a8acf608c55743d9ae33864dd401a24">qgsVariantLessThan</a>( mKeys.value( id1.first ), mKeys.value( id2.first ) )</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;             : <a class="code" href="qgis_8cpp.html#af51d8f027fedcb62dfa3518f91d3eaef">qgsVariantGreaterThan</a>( mKeys.value( id1.first ), mKeys.value( id2.first ) );</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    QgsLayoutAtlas::SorterKeys &amp;mKeys;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">bool</span> mAscending;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;};</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#ae9f0dc8380805a9331759f39df0acda0">  211</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsLayoutAtlas.html#ae9f0dc8380805a9331759f39df0acda0">QgsLayoutAtlas::updateFeatures</a>()</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  mCurrentFeatureNo = -1;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> ( !mCoverageLayer )</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classQgsExpressionContext.html">QgsExpressionContext</a> expressionContext = createExpressionContext();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  QString error;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  updateFilenameExpression( error );</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// select all features with all attributes</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a> req;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  req.<a class="code" href="classQgsFeatureRequest.html#aab8133184e42ff63b3b685e88bf6cd3e">setExpressionContext</a>( expressionContext );</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  mFilterParserError.clear();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> ( mFilterFeatures &amp;&amp; !mFilterExpression.isEmpty() )</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="classQgsExpression.html">QgsExpression</a> <a class="code" href="classQgsLayoutAtlas.html#a6f8fcc5f5457788a09b86772a05a88a3">filterExpression</a>( mFilterExpression );</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> ( filterExpression.<a class="code" href="classQgsExpression.html#a3636e8467726b4767f2f2806d083dc5d">hasParserError</a>() )</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      mFilterParserError = filterExpression.<a class="code" href="classQgsExpression.html#a5a0caebf6fde03106c509cb0cdbc05a9">parserErrorString</a>();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">//filter good to go</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    req.<a class="code" href="classQgsFeatureRequest.html#aa7c168ddbcaaaa88eafb92340880e773">setFilterExpression</a>( mFilterExpression );</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classQgsFeatureIterator.html">QgsFeatureIterator</a> fit = mCoverageLayer-&gt;getFeatures( req );</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  std::unique_ptr&lt;QgsExpression&gt; nameExpression;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">if</span> ( !mPageNameExpression.isEmpty() )</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    nameExpression = qgis::make_unique&lt; QgsExpression &gt;( mPageNameExpression );</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> ( nameExpression-&gt;hasParserError() )</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      nameExpression.reset( <span class="keyword">nullptr</span> );</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      nameExpression-&gt;prepare( &amp;expressionContext );</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// We cannot use nextFeature() directly since the feature pointer is rewinded by the rendering process</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// We thus store the feature ids for future extraction</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classQgsFeature.html">QgsFeature</a> feat;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  mFeatureIds.clear();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  mFeatureKeys.clear();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  std::unique_ptr&lt;QgsExpression&gt; <a class="code" href="classQgsLayoutAtlas.html#a1668afbfafd94c071cbe69620370005f">sortExpression</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span> ( mSortFeatures &amp;&amp; !mSortExpression.isEmpty() )</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    sortExpression = qgis::make_unique&lt; QgsExpression &gt;( mSortExpression );</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> ( sortExpression-&gt;hasParserError() )</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      sortExpression.reset( <span class="keyword">nullptr</span> );</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      sortExpression-&gt;prepare( &amp;expressionContext );</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">while</span> ( fit.<a class="code" href="classQgsFeatureIterator.html#a0e06c74bda2fbddbd7f2de13363fac44">nextFeature</a>( feat ) )</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    expressionContext.<a class="code" href="classQgsExpressionContext.html#a99a92e3956573acfc28f7199ba13948d">setFeature</a>( feat );</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    QString pageName;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> ( nameExpression )</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      QVariant result = nameExpression-&gt;evaluate( &amp;expressionContext );</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> ( nameExpression-&gt;hasEvalError() )</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="classQgsMessageLog.html#a08b7139ea06e6c5f12bf3b060d6960d5">QgsMessageLog::logMessage</a>( tr( <span class="stringliteral">&quot;Atlas name eval error: %1&quot;</span> ).arg( nameExpression-&gt;evalErrorString() ), tr( <span class="stringliteral">&quot;Layout&quot;</span> ) );</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      pageName = result.toString();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    mFeatureIds.push_back( qMakePair( feat.<a class="code" href="classQgsFeature.html#a64e6b9dd1e5a66c960f985f5d885d7f6">id</a>(), pageName ) );</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> ( sortExpression )</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      QVariant result = sortExpression-&gt;evaluate( &amp;expressionContext );</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">if</span> ( sortExpression-&gt;hasEvalError() )</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="classQgsMessageLog.html#a08b7139ea06e6c5f12bf3b060d6960d5">QgsMessageLog::logMessage</a>( tr( <span class="stringliteral">&quot;Atlas sort eval error: %1&quot;</span> ).arg( sortExpression-&gt;evalErrorString() ), tr( <span class="stringliteral">&quot;Layout&quot;</span> ) );</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      mFeatureKeys.insert( feat.<a class="code" href="classQgsFeature.html#a64e6b9dd1e5a66c960f985f5d885d7f6">id</a>(), result );</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// sort features, if asked for</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">if</span> ( !mFeatureKeys.isEmpty() )</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classQgsLayoutAtlas.html#a5cec16c7561991cbd09dfb46f5f4abcc">AtlasFeatureSorter</a> sorter( mFeatureKeys, mSortAscending );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    std::sort( mFeatureIds.begin(), mFeatureIds.end(), sorter ); <span class="comment">// clazy:exclude=detaching-member</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#ab8c888de9308ac1804984d54c97e5c8d">numberFeaturesChanged</a>( mFeatureIds.size() );</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">return</span> mFeatureIds.size();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a3250421088066bc7f26067d36d509420">  318</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a3250421088066bc7f26067d36d509420">QgsLayoutAtlas::beginRender</a>()</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">if</span> ( !mCoverageLayer )</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#ad28038d0b8e5361546f29ec9e9cd35bb">renderBegun</a>();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> ( !<a class="code" href="classQgsLayoutAtlas.html#ae9f0dc8380805a9331759f39df0acda0">updateFeatures</a>() )</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">//no matching features found</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#ae2f44436986f3f2c429b05fe4b6767a0">  336</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#ae2f44436986f3f2c429b05fe4b6767a0">QgsLayoutAtlas::endRender</a>()</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#a586290485c834160233d40a9d06250ba">featureChanged</a>( <a class="code" href="classQgsFeature.html">QgsFeature</a>() );</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#ad362d779dd3dc4b55e6cf51eeb92f8f1">renderEnded</a>();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a70bc6904c4aa7354d315ee537806278e">  343</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsLayoutAtlas.html#a70bc6904c4aa7354d315ee537806278e">QgsLayoutAtlas::count</a>()</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">return</span> mFeatureIds.size();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aa47380919d22b45926821c7090b1165c">  348</a></span>&#160;QString <a class="code" href="classQgsLayoutAtlas.html#aa47380919d22b45926821c7090b1165c">QgsLayoutAtlas::filePath</a>( <span class="keyword">const</span> QString &amp;baseFilePath, <span class="keyword">const</span> QString &amp;extension )</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  QFileInfo fi( baseFilePath );</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  QDir dir = fi.dir(); <span class="comment">// ignore everything except the directory</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  QString base = dir.filePath( mCurrentFilename );</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> ( !extension.startsWith( <span class="charliteral">&#39;.&#39;</span> ) )</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    base += <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  base += extension;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">return</span> base;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#ad11659c0a4435b0cb1b244f2687c13e2">  359</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#ad11659c0a4435b0cb1b244f2687c13e2">QgsLayoutAtlas::next</a>()</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">int</span> newFeatureNo = mCurrentFeatureNo + 1;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">if</span> ( newFeatureNo &gt;= mFeatureIds.size() )</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">return</span> prepareForFeature( newFeatureNo );</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#adddfea9df7efd3691240a9a91965494b">  370</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#adddfea9df7efd3691240a9a91965494b">QgsLayoutAtlas::previous</a>()</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordtype">int</span> newFeatureNo = mCurrentFeatureNo - 1;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> ( newFeatureNo &lt; 0 )</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">return</span> prepareForFeature( newFeatureNo );</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a6d7098bd762ff3e80444c413bad7775b">  381</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a6d7098bd762ff3e80444c413bad7775b">QgsLayoutAtlas::first</a>()</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">return</span> prepareForFeature( 0 );</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aae1fddeb2a8e9c49e1a423708edca466">  386</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#aae1fddeb2a8e9c49e1a423708edca466">QgsLayoutAtlas::last</a>()</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">return</span> prepareForFeature( mFeatureIds.size() - 1 );</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a502ed61c3a10870c53d9f4a0dcb288af">  391</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a502ed61c3a10870c53d9f4a0dcb288af">QgsLayoutAtlas::seekTo</a>( <span class="keywordtype">int</span> feature )</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">return</span> prepareForFeature( feature );</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aca990e878850cd1c72161e45ad2921a3">  396</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a502ed61c3a10870c53d9f4a0dcb288af">QgsLayoutAtlas::seekTo</a>( <span class="keyword">const</span> <a class="code" href="classQgsFeature.html">QgsFeature</a> &amp;feature )</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordtype">int</span> i = -1;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">auto</span> it = mFeatureIds.constBegin();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> currentIdx = 0; it != mFeatureIds.constEnd(); ++it, ++currentIdx )</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> ( ( *it ).first == feature.<a class="code" href="classQgsFeature.html#a64e6b9dd1e5a66c960f985f5d885d7f6">id</a>() )</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      i = currentIdx;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">if</span> ( i &lt; 0 )</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">//feature not found</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsLayoutAtlas.html#a502ed61c3a10870c53d9f4a0dcb288af">seekTo</a>( i );</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#ae1c18cdcaf5b7a9b982454a2874b50b6">  418</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsLayoutAtlas.html#ae1c18cdcaf5b7a9b982454a2874b50b6">QgsLayoutAtlas::refreshCurrentFeature</a>()</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  prepareForFeature( mCurrentFeatureNo );</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aff086d46cf2cd2fcfd43dc43243fedfd">  423</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsLayoutAtlas.html#aff086d46cf2cd2fcfd43dc43243fedfd">QgsLayoutAtlas::setHideCoverage</a>( <span class="keywordtype">bool</span> hide )</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  mHideCoverage = hide;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  mLayout-&gt;renderContext().setFlag( <a class="code" href="classQgsLayoutRenderContext.html#aae823feceb47451b481ce3be51e37456aeacbaa9cde8e72d54a752629aaf0a8a3">QgsLayoutRenderContext::FlagHideCoverageLayer</a>, hide );</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  mLayout-&gt;refresh();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#a8a63864ef6abece3756ef098a2161d0b">  431</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsLayoutAtlas.html#a8a63864ef6abece3756ef098a2161d0b">QgsLayoutAtlas::setFilenameExpression</a>( <span class="keyword">const</span> QString &amp;pattern, QString &amp;errorString )</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  mFilenameExpressionString = pattern;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> updateFilenameExpression( errorString );</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classQgsLayoutAtlas.html#aa5587f66edf8511d7b12fbbb4a80dda7">  437</a></span>&#160;QString <a class="code" href="classQgsLayoutAtlas.html#aa5587f66edf8511d7b12fbbb4a80dda7">QgsLayoutAtlas::currentFilename</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">return</span> mCurrentFilename;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<a class="code" href="classQgsExpressionContext.html">QgsExpressionContext</a> QgsLayoutAtlas::createExpressionContext()</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;{</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classQgsExpressionContext.html">QgsExpressionContext</a> expressionContext;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  expressionContext &lt;&lt; <a class="code" href="classQgsExpressionContextUtils.html#afba36ac63b06dd2659710f4f3cd58936">QgsExpressionContextUtils::globalScope</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> ( mLayout )</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    expressionContext &lt;&lt; <a class="code" href="classQgsExpressionContextUtils.html#a9b0dc97b5f9e21fa11eb803a33dfa7d8">QgsExpressionContextUtils::projectScope</a>( mLayout-&gt;project() )</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                      &lt;&lt; <a class="code" href="classQgsExpressionContextUtils.html#a340ede6d40ac582c1e3865d3bb465be4">QgsExpressionContextUtils::layoutScope</a>( mLayout );</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  expressionContext.<a class="code" href="classQgsExpressionContext.html#a7f52d87dd7d7fa3148c7b46b22a4af2f">appendScope</a>( <a class="code" href="classQgsExpressionContextUtils.html#a66eebd07714f21ac3b21c229bac398f7">QgsExpressionContextUtils::atlasScope</a>( <span class="keyword">this</span> ) );</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> ( mCoverageLayer )</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    expressionContext.<a class="code" href="classQgsExpressionContext.html#a7969d8cb48b2d3ca8207f4350d45b67a">lastScope</a>()-&gt;<a class="code" href="classQgsExpressionContextScope.html#a191fb8dcb07a4f6105b349067b6956eb">setFields</a>( mCoverageLayer-&gt;fields() );</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> ( mLayout &amp;&amp; mEnabled )</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    expressionContext.<a class="code" href="classQgsExpressionContext.html#a7969d8cb48b2d3ca8207f4350d45b67a">lastScope</a>()-&gt;<a class="code" href="classQgsExpressionContextScope.html#a847b0556706686d28f6e922391e936e5">setFeature</a>( mCurrentFeature );</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">return</span> expressionContext;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="keywordtype">bool</span> QgsLayoutAtlas::updateFilenameExpression( QString &amp;error )</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;{</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> ( !mCoverageLayer )</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classQgsExpressionContext.html">QgsExpressionContext</a> expressionContext = createExpressionContext();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">if</span> ( !mFilenameExpressionString.isEmpty() )</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    mFilenameExpression = <a class="code" href="classQgsExpression.html">QgsExpression</a>( mFilenameExpressionString );</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// expression used to evaluate each filename</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// test for evaluation errors</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> ( mFilenameExpression.hasParserError() )</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      error = mFilenameExpression.parserErrorString();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">// prepare the filename expression</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    mFilenameExpression.prepare( &amp;expressionContext );</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// regenerate current filename</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  evalFeatureFilename( expressionContext );</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="keywordtype">bool</span> QgsLayoutAtlas::evalFeatureFilename( <span class="keyword">const</span> <a class="code" href="classQgsExpressionContext.html">QgsExpressionContext</a> &amp;context )</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">//generate filename for current atlas feature</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">if</span> ( !mFilenameExpressionString.isEmpty() &amp;&amp; mFilenameExpression.isValid() )</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    QVariant filenameRes = mFilenameExpression.evaluate( &amp;context );</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> ( mFilenameExpression.hasEvalError() )</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="classQgsMessageLog.html#a08b7139ea06e6c5f12bf3b060d6960d5">QgsMessageLog::logMessage</a>( tr( <span class="stringliteral">&quot;Atlas filename evaluation error: %1&quot;</span> ).arg( mFilenameExpression.evalErrorString() ), tr( <span class="stringliteral">&quot;Layout&quot;</span> ) );</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    mCurrentFilename = filenameRes.toString();</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="keywordtype">bool</span> QgsLayoutAtlas::prepareForFeature( <span class="keyword">const</span> <span class="keywordtype">int</span> featureI )</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;{</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> ( !mCoverageLayer )</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">if</span> ( mFeatureIds.isEmpty() )</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    emit <a class="code" href="classQgsLayoutAtlas.html#aba3ab0bc6d0e293ee4c3adf313f09a1a">messagePushed</a>( tr( <span class="stringliteral">&quot;No matching atlas features&quot;</span> ) );</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> ( featureI &gt;= mFeatureIds.size() )</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  mCurrentFeatureNo = featureI;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// retrieve the next feature, based on its id</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">if</span> ( !mCoverageLayer-&gt;getFeatures( <a class="code" href="classQgsFeatureRequest.html">QgsFeatureRequest</a>().setFilterFid( mFeatureIds[ featureI ].<a class="code" href="classQgsLayoutAtlas.html#a6d7098bd762ff3e80444c413bad7775b">first</a> ) ).nextFeature( mCurrentFeature ) )</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  mLayout-&gt;reportContext().blockSignals( <span class="keyword">true</span> ); <span class="comment">// setFeature emits changed, we don&#39;t want 2 signals</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  mLayout-&gt;reportContext().setLayer( mCoverageLayer.get() );</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  mLayout-&gt;reportContext().blockSignals( <span class="keyword">false</span> );</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  mLayout-&gt;reportContext().setFeature( mCurrentFeature );</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// must come after we&#39;ve set the report context feature, or the expression context will have an outdated atlas feature</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="classQgsExpressionContext.html">QgsExpressionContext</a> expressionContext = createExpressionContext();</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// generate filename for current feature</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> ( !evalFeatureFilename( expressionContext ) )</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">//error evaluating filename</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#a586290485c834160233d40a9d06250ba">featureChanged</a>( mCurrentFeature );</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  emit <a class="code" href="classQgsLayoutAtlas.html#aba3ab0bc6d0e293ee4c3adf313f09a1a">messagePushed</a>( QString( tr( <span class="stringliteral">&quot;Atlas feature %1 of %2&quot;</span> ) ).arg( featureI + 1 ).arg( mFeatureIds.size() ) );</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">return</span> mCurrentFeature.isValid();</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="ttc" id="classQgsLayoutAtlas_html_a30ce96524dfed281d410e3ac1dbe9a7b"><div class="ttname"><a href="classQgsLayoutAtlas.html#a30ce96524dfed281d410e3ac1dbe9a7b">QgsLayoutAtlas::setCoverageLayer</a></div><div class="ttdeci">void setCoverageLayer(QgsVectorLayer *layer)</div><div class="ttdoc">Sets the coverage layer to use for the atlas features. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00154">qgslayoutatlas.cpp:154</a></div></div>
<div class="ttc" id="classQgsExpression_html"><div class="ttname"><a href="classQgsExpression.html">QgsExpression</a></div><div class="ttdoc">Class for parsing and evaluation of expressions (formerly called &quot;search strings&quot;). </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpression_8h_source.html#l00113">qgsexpression.h:113</a></div></div>
<div class="ttc" id="classQgsFeature_html_a64e6b9dd1e5a66c960f985f5d885d7f6"><div class="ttname"><a href="classQgsFeature.html#a64e6b9dd1e5a66c960f985f5d885d7f6">QgsFeature::id</a></div><div class="ttdeci">QgsFeatureId id</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeature_8h_source.html#l00064">qgsfeature.h:64</a></div></div>
<div class="ttc" id="classQgsExpression_html_a3636e8467726b4767f2f2806d083dc5d"><div class="ttname"><a href="classQgsExpression.html#a3636e8467726b4767f2f2806d083dc5d">QgsExpression::hasParserError</a></div><div class="ttdeci">bool hasParserError() const</div><div class="ttdoc">Returns true if an error occurred when parsing the input expression. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpression_8cpp_source.html#l00250">qgsexpression.cpp:250</a></div></div>
<div class="ttc" id="classQgsReadWriteContext_html"><div class="ttname"><a href="classQgsReadWriteContext.html">QgsReadWriteContext</a></div><div class="ttdoc">The class is used as a container of context for various read/write operations on other objects...</div><div class="ttdef"><b>Definition:</b> <a href="qgsreadwritecontext_8h_source.html#l00034">qgsreadwritecontext.h:34</a></div></div>
<div class="ttc" id="classQgsFeatureIterator_html"><div class="ttname"><a href="classQgsFeatureIterator.html">QgsFeatureIterator</a></div><div class="ttdoc">Wrapper for iterator of features from vector data provider or vector layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeatureiterator_8h_source.html#l00263">qgsfeatureiterator.h:263</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aa47380919d22b45926821c7090b1165c"><div class="ttname"><a href="classQgsLayoutAtlas.html#aa47380919d22b45926821c7090b1165c">QgsLayoutAtlas::filePath</a></div><div class="ttdeci">QString filePath(const QString &amp;baseFilePath, const QString &amp;extension) override</div><div class="ttdoc">Returns the file path for the current feature, based on a specified base file path and extension...</div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00348">qgslayoutatlas.cpp:348</a></div></div>
<div class="ttc" id="qgslayout_8h_html"><div class="ttname"><a href="qgslayout_8h.html">qgslayout.h</a></div></div>
<div class="ttc" id="classQgsExpressionContext_html_a99a92e3956573acfc28f7199ba13948d"><div class="ttname"><a href="classQgsExpressionContext.html#a99a92e3956573acfc28f7199ba13948d">QgsExpressionContext::setFeature</a></div><div class="ttdeci">void setFeature(const QgsFeature &amp;feature)</div><div class="ttdoc">Convenience function for setting a feature for the context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8cpp_source.html#l00523">qgsexpressioncontext.cpp:523</a></div></div>
<div class="ttc" id="qgslayoutatlas_8h_html"><div class="ttname"><a href="qgslayoutatlas_8h.html">qgslayoutatlas.h</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a1668afbfafd94c071cbe69620370005f"><div class="ttname"><a href="classQgsLayoutAtlas.html#a1668afbfafd94c071cbe69620370005f">QgsLayoutAtlas::sortExpression</a></div><div class="ttdeci">QString sortExpression() const</div><div class="ttdoc">Returns the expression (or field name) to use for sorting features. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8h_source.html#l00189">qgslayoutatlas.h:189</a></div></div>
<div class="ttc" id="struct__LayerRef_html_a75f91de1ff71520ac391e2f7163b6fdc"><div class="ttname"><a href="struct__LayerRef.html#a75f91de1ff71520ac391e2f7163b6fdc">_LayerRef::resolveWeakly</a></div><div class="ttdeci">TYPE * resolveWeakly(const QgsProject *project)</div><div class="ttdoc">Resolves the map layer by attempting to find a matching layer in a project using a weak match...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00167">qgsmaplayerref.h:167</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_afe23b370d92f51f5d7a044c968eab457"><div class="ttname"><a href="classQgsLayoutAtlas.html#afe23b370d92f51f5d7a044c968eab457">QgsLayoutAtlas::stringType</a></div><div class="ttdeci">QString stringType() const override</div><div class="ttdoc">Returns the object type as a string. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00039">qgslayoutatlas.cpp:39</a></div></div>
<div class="ttc" id="classQgsExpressionContextScope_html_a191fb8dcb07a4f6105b349067b6956eb"><div class="ttname"><a href="classQgsExpressionContextScope.html#a191fb8dcb07a4f6105b349067b6956eb">QgsExpressionContextScope::setFields</a></div><div class="ttdeci">void setFields(const QgsFields &amp;fields)</div><div class="ttdoc">Convenience function for setting a fields for the scope. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8cpp_source.html#l00200">qgsexpressioncontext.cpp:200</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a4332fa737ac52722e4c414cd126931bc"><div class="ttname"><a href="classQgsLayoutAtlas.html#a4332fa737ac52722e4c414cd126931bc">QgsLayoutAtlas::toggled</a></div><div class="ttdeci">void toggled(bool)</div><div class="ttdoc">Emitted when atlas is enabled or disabled. </div></div>
<div class="ttc" id="classQgsExpressionContextUtils_html_a9b0dc97b5f9e21fa11eb803a33dfa7d8"><div class="ttname"><a href="classQgsExpressionContextUtils.html#a9b0dc97b5f9e21fa11eb803a33dfa7d8">QgsExpressionContextUtils::projectScope</a></div><div class="ttdeci">static QgsExpressionContextScope * projectScope(const QgsProject *project)</div><div class="ttdoc">Creates a new scope which contains variables and functions relating to a QGIS project. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontextutils_8cpp_source.html#l00239">qgsexpressioncontextutils.cpp:239</a></div></div>
<div class="ttc" id="classQgsFeature_html"><div class="ttname"><a href="classQgsFeature.html">QgsFeature</a></div><div class="ttdoc">The feature class encapsulates a single feature including its id, geometry and a list of field/values...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeature_8h_source.html#l00055">qgsfeature.h:55</a></div></div>
<div class="ttc" id="qgis_8cpp_html_af51d8f027fedcb62dfa3518f91d3eaef"><div class="ttname"><a href="qgis_8cpp.html#af51d8f027fedcb62dfa3518f91d3eaef">qgsVariantGreaterThan</a></div><div class="ttdeci">bool qgsVariantGreaterThan(const QVariant &amp;lhs, const QVariant &amp;rhs)</div><div class="ttdoc">Compares two QVariant values and returns whether the first is greater than the second. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8cpp_source.html#l00222">qgis.cpp:222</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a210f89386f5e052d6a33ee7dab886c6e"><div class="ttname"><a href="classQgsLayoutAtlas.html#a210f89386f5e052d6a33ee7dab886c6e">QgsLayoutAtlas::writeXml</a></div><div class="ttdeci">bool writeXml(QDomElement &amp;parentElement, QDomDocument &amp;document, const QgsReadWriteContext &amp;context) const override</div><div class="ttdoc">Stores the objects&amp;#39;s state in a DOM element. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00054">qgslayoutatlas.cpp:54</a></div></div>
<div class="ttc" id="classQgsExpression_html_a5a0caebf6fde03106c509cb0cdbc05a9"><div class="ttname"><a href="classQgsExpression.html#a5a0caebf6fde03106c509cb0cdbc05a9">QgsExpression::parserErrorString</a></div><div class="ttdeci">QString parserErrorString() const</div><div class="ttdoc">Returns parser error. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpression_8cpp_source.html#l00255">qgsexpression.cpp:255</a></div></div>
<div class="ttc" id="qgis_8cpp_html_a8a8acf608c55743d9ae33864dd401a24"><div class="ttname"><a href="qgis_8cpp.html#a8a8acf608c55743d9ae33864dd401a24">qgsVariantLessThan</a></div><div class="ttdeci">bool qgsVariantLessThan(const QVariant &amp;lhs, const QVariant &amp;rhs)</div><div class="ttdoc">Compares two QVariant values and returns whether the first is less than the second. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8cpp_source.html#l00154">qgis.cpp:154</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aaf8ed5b4e1682d6ee3619fd110901ecf"><div class="ttname"><a href="classQgsLayoutAtlas.html#aaf8ed5b4e1682d6ee3619fd110901ecf">QgsLayoutAtlas::QgsLayoutAtlas</a></div><div class="ttdeci">QgsLayoutAtlas(QgsLayout *layout)</div><div class="ttdoc">Constructor for new QgsLayoutAtlas. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00029">qgslayoutatlas.cpp:29</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a76db768efceaae6bd45ae45106f30d64"><div class="ttname"><a href="classQgsLayoutAtlas.html#a76db768efceaae6bd45ae45106f30d64">QgsLayoutAtlas::layout</a></div><div class="ttdeci">QgsLayout * layout() override</div><div class="ttdoc">Returns the layout associated with the iterator. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00044">qgslayoutatlas.cpp:44</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ae2f44436986f3f2c429b05fe4b6767a0"><div class="ttname"><a href="classQgsLayoutAtlas.html#ae2f44436986f3f2c429b05fe4b6767a0">QgsLayoutAtlas::endRender</a></div><div class="ttdeci">bool endRender() override</div><div class="ttdoc">Ends the render, performing any required cleanup tasks. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00336">qgslayoutatlas.cpp:336</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a8a63864ef6abece3756ef098a2161d0b"><div class="ttname"><a href="classQgsLayoutAtlas.html#a8a63864ef6abece3756ef098a2161d0b">QgsLayoutAtlas::setFilenameExpression</a></div><div class="ttdeci">bool setFilenameExpression(const QString &amp;expression, QString &amp;errorString)</div><div class="ttdoc">Sets the filename expression used for generating output filenames for each atlas page. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00431">qgslayoutatlas.cpp:431</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html_aab8133184e42ff63b3b685e88bf6cd3e"><div class="ttname"><a href="classQgsFeatureRequest.html#aab8133184e42ff63b3b685e88bf6cd3e">QgsFeatureRequest::setExpressionContext</a></div><div class="ttdeci">QgsFeatureRequest &amp; setExpressionContext(const QgsExpressionContext &amp;context)</div><div class="ttdoc">Sets the expression context used to evaluate filter expressions. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8cpp_source.html#l00145">qgsfeaturerequest.cpp:145</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ae1c18cdcaf5b7a9b982454a2874b50b6"><div class="ttname"><a href="classQgsLayoutAtlas.html#ae1c18cdcaf5b7a9b982454a2874b50b6">QgsLayoutAtlas::refreshCurrentFeature</a></div><div class="ttdeci">void refreshCurrentFeature()</div><div class="ttdoc">Refreshes the current atlas feature, by refetching its attributes from the vector layer provider...</div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00418">qgslayoutatlas.cpp:418</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ab8c888de9308ac1804984d54c97e5c8d"><div class="ttname"><a href="classQgsLayoutAtlas.html#ab8c888de9308ac1804984d54c97e5c8d">QgsLayoutAtlas::numberFeaturesChanged</a></div><div class="ttdeci">void numberFeaturesChanged(int numFeatures)</div><div class="ttdoc">Emitted when the number of features for the atlas changes. </div></div>
<div class="ttc" id="classQgsExpressionContext_html_a7969d8cb48b2d3ca8207f4350d45b67a"><div class="ttname"><a href="classQgsExpressionContext.html#a7969d8cb48b2d3ca8207f4350d45b67a">QgsExpressionContext::lastScope</a></div><div class="ttdeci">QgsExpressionContextScope * lastScope()</div><div class="ttdoc">Returns the last scope added to the context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8cpp_source.html#l00375">qgsexpressioncontext.cpp:375</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html_aa7c168ddbcaaaa88eafb92340880e773"><div class="ttname"><a href="classQgsFeatureRequest.html#aa7c168ddbcaaaa88eafb92340880e773">QgsFeatureRequest::setFilterExpression</a></div><div class="ttdeci">QgsFeatureRequest &amp; setFilterExpression(const QString &amp;expression)</div><div class="ttdoc">Set the filter expression. </div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8cpp_source.html#l00125">qgsfeaturerequest.cpp:125</a></div></div>
<div class="ttc" id="struct__LayerRef_html_a90762984077a636c402270eec75be9cb"><div class="ttname"><a href="struct__LayerRef.html#a90762984077a636c402270eec75be9cb">_LayerRef::provider</a></div><div class="ttdeci">QString provider</div><div class="ttdoc">Weak reference to layer provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00110">qgsmaplayerref.h:110</a></div></div>
<div class="ttc" id="struct__LayerRef_html_ad1aca88526ddf3ff0622f09de491fbc8"><div class="ttname"><a href="struct__LayerRef.html#ad1aca88526ddf3ff0622f09de491fbc8">_LayerRef::layerId</a></div><div class="ttdeci">QString layerId</div><div class="ttdoc">Original layer ID. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00103">qgsmaplayerref.h:103</a></div></div>
<div class="ttc" id="classQgsExpressionContextUtils_html_afba36ac63b06dd2659710f4f3cd58936"><div class="ttname"><a href="classQgsExpressionContextUtils.html#afba36ac63b06dd2659710f4f3cd58936">QgsExpressionContextUtils::globalScope</a></div><div class="ttdeci">static QgsExpressionContextScope * globalScope()</div><div class="ttdoc">Creates a new scope which contains variables and functions relating to the global QGIS context...</div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontextutils_8cpp_source.html#l00033">qgsexpressioncontextutils.cpp:33</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aa86e5479e4cdc0cee8cb9e3945627206"><div class="ttname"><a href="classQgsLayoutAtlas.html#aa86e5479e4cdc0cee8cb9e3945627206">QgsLayoutAtlas::readXml</a></div><div class="ttdeci">bool readXml(const QDomElement &amp;element, const QDomDocument &amp;document, const QgsReadWriteContext &amp;context) override</div><div class="ttdoc">Sets the objects&amp;#39;s state from a DOM element. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00092">qgslayoutatlas.cpp:92</a></div></div>
<div class="ttc" id="classQgsExpressionContext_html"><div class="ttname"><a href="classQgsExpressionContext.html">QgsExpressionContext</a></div><div class="ttdoc">Expression contexts are used to encapsulate the parameters around which a QgsExpression should be eva...</div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8h_source.html#l00371">qgsexpressioncontext.h:371</a></div></div>
<div class="ttc" id="classQgsMessageLog_html_a08b7139ea06e6c5f12bf3b060d6960d5"><div class="ttname"><a href="classQgsMessageLog.html#a08b7139ea06e6c5f12bf3b060d6960d5">QgsMessageLog::logMessage</a></div><div class="ttdeci">static void logMessage(const QString &amp;message, const QString &amp;tag=QString(), Qgis::MessageLevel level=Qgis::Warning, bool notifyUser=true)</div><div class="ttdoc">Adds a message to the log instance (and creates it if necessary). </div><div class="ttdef"><b>Definition:</b> <a href="qgsmessagelog_8cpp_source.html#l00027">qgsmessagelog.cpp:27</a></div></div>
<div class="ttc" id="qgsmessagelog_8h_html"><div class="ttname"><a href="qgsmessagelog_8h.html">qgsmessagelog.h</a></div></div>
<div class="ttc" id="struct__LayerRef_html_a652e594429a548374c955b5e2b675ff0"><div class="ttname"><a href="struct__LayerRef.html#a652e594429a548374c955b5e2b675ff0">_LayerRef::name</a></div><div class="ttdeci">QString name</div><div class="ttdoc">Weak reference to layer name. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00108">qgsmaplayerref.h:108</a></div></div>
<div class="ttc" id="qgsfeatureiterator_8h_html"><div class="ttname"><a href="qgsfeatureiterator_8h.html">qgsfeatureiterator.h</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aae1fddeb2a8e9c49e1a423708edca466"><div class="ttname"><a href="classQgsLayoutAtlas.html#aae1fddeb2a8e9c49e1a423708edca466">QgsLayoutAtlas::last</a></div><div class="ttdeci">bool last()</div><div class="ttdoc">Seeks to the last feature, returning false if no feature was found. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00386">qgslayoutatlas.cpp:386</a></div></div>
<div class="ttc" id="classQgsFeatureRequest_html"><div class="ttname"><a href="classQgsFeatureRequest.html">QgsFeatureRequest</a></div><div class="ttdoc">This class wraps a request for features to a vector layer (or directly its vector data provider)...</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeaturerequest_8h_source.html#l00072">qgsfeaturerequest.h:72</a></div></div>
<div class="ttc" id="classQgsLayoutRenderContext_html_aae823feceb47451b481ce3be51e37456aeacbaa9cde8e72d54a752629aaf0a8a3"><div class="ttname"><a href="classQgsLayoutRenderContext.html#aae823feceb47451b481ce3be51e37456aeacbaa9cde8e72d54a752629aaf0a8a3">QgsLayoutRenderContext::FlagHideCoverageLayer</a></div><div class="ttdoc">Hide coverage layer in outputs. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutrendercontext_8h_source.html#l00047">qgslayoutrendercontext.h:47</a></div></div>
<div class="ttc" id="classQgsProject_html"><div class="ttname"><a href="classQgsProject.html">QgsProject</a></div><div class="ttdoc">Reads and writes project states. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproject_8h_source.html#l00090">qgsproject.h:90</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aa5587f66edf8511d7b12fbbb4a80dda7"><div class="ttname"><a href="classQgsLayoutAtlas.html#aa5587f66edf8511d7b12fbbb4a80dda7">QgsLayoutAtlas::currentFilename</a></div><div class="ttdeci">QString currentFilename() const</div><div class="ttdoc">Returns the current feature filename. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00437">qgslayoutatlas.cpp:437</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aff086d46cf2cd2fcfd43dc43243fedfd"><div class="ttname"><a href="classQgsLayoutAtlas.html#aff086d46cf2cd2fcfd43dc43243fedfd">QgsLayoutAtlas::setHideCoverage</a></div><div class="ttdeci">void setHideCoverage(bool hide)</div><div class="ttdoc">Sets whether the coverage layer should be hidden in map items in the layouts. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00423">qgslayoutatlas.cpp:423</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a70bc6904c4aa7354d315ee537806278e"><div class="ttname"><a href="classQgsLayoutAtlas.html#a70bc6904c4aa7354d315ee537806278e">QgsLayoutAtlas::count</a></div><div class="ttdeci">int count() override</div><div class="ttdoc">Returns the number of features to iterate over. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00343">qgslayoutatlas.cpp:343</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a6d7098bd762ff3e80444c413bad7775b"><div class="ttname"><a href="classQgsLayoutAtlas.html#a6d7098bd762ff3e80444c413bad7775b">QgsLayoutAtlas::first</a></div><div class="ttdeci">bool first()</div><div class="ttdoc">Seeks to the first feature, returning false if no feature was found. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00381">qgslayoutatlas.cpp:381</a></div></div>
<div class="ttc" id="classQgsExpressionContextScope_html_a847b0556706686d28f6e922391e936e5"><div class="ttname"><a href="classQgsExpressionContextScope.html#a847b0556706686d28f6e922391e936e5">QgsExpressionContextScope::setFeature</a></div><div class="ttdeci">void setFeature(const QgsFeature &amp;feature)</div><div class="ttdoc">Convenience function for setting a feature for the scope. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8h_source.html#l00317">qgsexpressioncontext.h:317</a></div></div>
<div class="ttc" id="struct__LayerRef_html_abd5b9f273f44bbc69e076baa7acb0d40"><div class="ttname"><a href="struct__LayerRef.html#abd5b9f273f44bbc69e076baa7acb0d40">_LayerRef::setLayer</a></div><div class="ttdeci">void setLayer(TYPE *l)</div><div class="ttdoc">Sets the reference to point to a specified layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00064">qgsmaplayerref.h:64</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ad28038d0b8e5361546f29ec9e9cd35bb"><div class="ttname"><a href="classQgsLayoutAtlas.html#ad28038d0b8e5361546f29ec9e9cd35bb">QgsLayoutAtlas::renderBegun</a></div><div class="ttdeci">void renderBegun()</div><div class="ttdoc">Emitted when atlas rendering has begun. </div></div>
<div class="ttc" id="struct__LayerRef_html_a5f27a5eb79eb197fe9d19cd56ca267b2"><div class="ttname"><a href="struct__LayerRef.html#a5f27a5eb79eb197fe9d19cd56ca267b2">_LayerRef::source</a></div><div class="ttdeci">QString source</div><div class="ttdoc">Weak reference to layer public source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00106">qgsmaplayerref.h:106</a></div></div>
<div class="ttc" id="classQgsLayout_html"><div class="ttname"><a href="classQgsLayout.html">QgsLayout</a></div><div class="ttdoc">Base class for layouts, which can contain items such as maps, labels, scalebars, etc. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayout_8h_source.html#l00049">qgslayout.h:49</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_adddfea9df7efd3691240a9a91965494b"><div class="ttname"><a href="classQgsLayoutAtlas.html#adddfea9df7efd3691240a9a91965494b">QgsLayoutAtlas::previous</a></div><div class="ttdeci">bool previous()</div><div class="ttdoc">Iterates to the previous feature, returning false if no previous feature exists. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00370">qgslayoutatlas.cpp:370</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ad11659c0a4435b0cb1b244f2687c13e2"><div class="ttname"><a href="classQgsLayoutAtlas.html#ad11659c0a4435b0cb1b244f2687c13e2">QgsLayoutAtlas::next</a></div><div class="ttdeci">bool next() override</div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00359">qgslayoutatlas.cpp:359</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a6f8fcc5f5457788a09b86772a05a88a3"><div class="ttname"><a href="classQgsLayoutAtlas.html#a6f8fcc5f5457788a09b86772a05a88a3">QgsLayoutAtlas::filterExpression</a></div><div class="ttdeci">QString filterExpression() const</div><div class="ttdoc">Returns the expression used for filtering features in the coverage layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8h_source.html#l00224">qgslayoutatlas.h:224</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a385864a4666de9fe3b104660736c3c3c"><div class="ttname"><a href="classQgsLayoutAtlas.html#a385864a4666de9fe3b104660736c3c3c">QgsLayoutAtlas::setFilterExpression</a></div><div class="ttdeci">bool setFilterExpression(const QString &amp;expression, QString &amp;errorString)</div><div class="ttdoc">Sets the expression used for filtering features in the coverage layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00173">qgslayoutatlas.cpp:173</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ad362d779dd3dc4b55e6cf51eeb92f8f1"><div class="ttname"><a href="classQgsLayoutAtlas.html#ad362d779dd3dc4b55e6cf51eeb92f8f1">QgsLayoutAtlas::renderEnded</a></div><div class="ttdeci">void renderEnded()</div><div class="ttdoc">Emitted when atlas rendering has ended. </div></div>
<div class="ttc" id="qgsexpressioncontextutils_8h_html"><div class="ttname"><a href="qgsexpressioncontextutils_8h.html">qgsexpressioncontextutils.h</a></div></div>
<div class="ttc" id="classQgsExpressionContextUtils_html_a66eebd07714f21ac3b21c229bac398f7"><div class="ttname"><a href="classQgsExpressionContextUtils.html#a66eebd07714f21ac3b21c229bac398f7">QgsExpressionContextUtils::atlasScope</a></div><div class="ttdeci">static QgsExpressionContextScope * atlasScope(QgsLayoutAtlas *atlas)</div><div class="ttdoc">Creates a new scope which contains variables and functions relating to a QgsLayoutAtlas. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontextutils_8cpp_source.html#l00625">qgsexpressioncontextutils.cpp:625</a></div></div>
<div class="ttc" id="classQgsProject_html_a397c77eafd9729828ae4c2fb39825e16"><div class="ttname"><a href="classQgsProject.html#a397c77eafd9729828ae4c2fb39825e16">QgsProject::layersWillBeRemoved</a></div><div class="ttdeci">void layersWillBeRemoved(const QStringList &amp;layerIds)</div><div class="ttdoc">Emitted when one or more layers are about to be removed from the registry. </div></div>
<div class="ttc" id="classQgsExpressionContextUtils_html_a340ede6d40ac582c1e3865d3bb465be4"><div class="ttname"><a href="classQgsExpressionContextUtils.html#a340ede6d40ac582c1e3865d3bb465be4">QgsExpressionContextUtils::layoutScope</a></div><div class="ttdeci">static QgsExpressionContextScope * layoutScope(const QgsLayout *layout)</div><div class="ttdoc">Creates a new scope which contains variables and functions relating to a QgsLayout layout...</div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontextutils_8cpp_source.html#l00531">qgsexpressioncontextutils.cpp:531</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a59ce7cce56dcf819b29e0a9e660dba06"><div class="ttname"><a href="classQgsLayoutAtlas.html#a59ce7cce56dcf819b29e0a9e660dba06">QgsLayoutAtlas::setEnabled</a></div><div class="ttdeci">void setEnabled(bool enabled)</div><div class="ttdoc">Sets whether the atlas is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00123">qgslayoutatlas.cpp:123</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a5cec16c7561991cbd09dfb46f5f4abcc"><div class="ttname"><a href="classQgsLayoutAtlas.html#a5cec16c7561991cbd09dfb46f5f4abcc">QgsLayoutAtlas::AtlasFeatureSorter</a></div><div class="ttdeci">friend class AtlasFeatureSorter</div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8h_source.html#l00395">qgslayoutatlas.h:395</a></div></div>
<div class="ttc" id="classQgsExpressionContext_html_a7f52d87dd7d7fa3148c7b46b22a4af2f"><div class="ttname"><a href="classQgsExpressionContext.html#a7f52d87dd7d7fa3148c7b46b22a4af2f">QgsExpressionContext::appendScope</a></div><div class="ttdeci">void appendScope(QgsExpressionContextScope *scope)</div><div class="ttdoc">Appends a scope to the end of the context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressioncontext_8cpp_source.html#l00492">qgsexpressioncontext.cpp:492</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a586290485c834160233d40a9d06250ba"><div class="ttname"><a href="classQgsLayoutAtlas.html#a586290485c834160233d40a9d06250ba">QgsLayoutAtlas::featureChanged</a></div><div class="ttdeci">void featureChanged(const QgsFeature &amp;feature)</div><div class="ttdoc">Emitted when the current atlas feature changes. </div></div>
<div class="ttc" id="qgsvectorlayerref_8h_html_a0116ec850f15054fc88572bb7fefd4a6"><div class="ttname"><a href="qgsvectorlayerref_8h.html#a0116ec850f15054fc88572bb7fefd4a6">QgsVectorLayerRef</a></div><div class="ttdeci">_LayerRef&lt; QgsVectorLayer &gt; QgsVectorLayerRef</div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayerref_8h_source.html#l00021">qgsvectorlayerref.h:21</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_ae9f0dc8380805a9331759f39df0acda0"><div class="ttname"><a href="classQgsLayoutAtlas.html#ae9f0dc8380805a9331759f39df0acda0">QgsLayoutAtlas::updateFeatures</a></div><div class="ttdeci">int updateFeatures()</div><div class="ttdoc">Requeries the current atlas coverage layer and applies filtering and sorting. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00211">qgslayoutatlas.cpp:211</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a0830b03eda67d8f847e2fc03fbdd0f9b"><div class="ttname"><a href="classQgsLayoutAtlas.html#a0830b03eda67d8f847e2fc03fbdd0f9b">QgsLayoutAtlas::nameForPage</a></div><div class="ttdeci">QString nameForPage(int page) const</div><div class="ttdoc">Returns the calculated name for a specified atlas page number. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00165">qgslayoutatlas.cpp:165</a></div></div>
<div class="ttc" id="qgsvectorlayer_8h_html"><div class="ttname"><a href="qgsvectorlayer_8h.html">qgsvectorlayer.h</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a881252364b06bc3a2eab9abe7337cb4c"><div class="ttname"><a href="classQgsLayoutAtlas.html#a881252364b06bc3a2eab9abe7337cb4c">QgsLayoutAtlas::enabled</a></div><div class="ttdeci">bool enabled() const</div><div class="ttdoc">Returns whether the atlas generation is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8h_source.html#l00066">qgslayoutatlas.h:66</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a3250421088066bc7f26067d36d509420"><div class="ttname"><a href="classQgsLayoutAtlas.html#a3250421088066bc7f26067d36d509420">QgsLayoutAtlas::beginRender</a></div><div class="ttdeci">bool beginRender() override</div><div class="ttdoc">Called when rendering begins, before iteration commences. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00318">qgslayoutatlas.cpp:318</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_aba3ab0bc6d0e293ee4c3adf313f09a1a"><div class="ttname"><a href="classQgsLayoutAtlas.html#aba3ab0bc6d0e293ee4c3adf313f09a1a">QgsLayoutAtlas::messagePushed</a></div><div class="ttdeci">void messagePushed(const QString &amp;message)</div><div class="ttdoc">Emitted when the atlas has an updated status bar message. </div></div>
<div class="ttc" id="classQgsFeatureIterator_html_a0e06c74bda2fbddbd7f2de13363fac44"><div class="ttname"><a href="classQgsFeatureIterator.html#a0e06c74bda2fbddbd7f2de13363fac44">QgsFeatureIterator::nextFeature</a></div><div class="ttdeci">bool nextFeature(QgsFeature &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="qgsfeatureiterator_8h_source.html#l00373">qgsfeatureiterator.h:373</a></div></div>
<div class="ttc" id="qgsfeaturerequest_8h_html"><div class="ttname"><a href="qgsfeaturerequest_8h.html">qgsfeaturerequest.h</a></div></div>
<div class="ttc" id="classQgsVectorLayer_html"><div class="ttname"><a href="classQgsVectorLayer.html">QgsVectorLayer</a></div><div class="ttdoc">Represents a vector layer which manages a vector based data sets. </div><div class="ttdef"><b>Definition:</b> <a href="qgsvectorlayer_8h_source.html#l00365">qgsvectorlayer.h:365</a></div></div>
<div class="ttc" id="struct__LayerRef_html_a6ba33a25a4a72ebe8b0117d2b810697a"><div class="ttname"><a href="struct__LayerRef.html#a6ba33a25a4a72ebe8b0117d2b810697a">_LayerRef::get</a></div><div class="ttdeci">TYPE * get() const</div><div class="ttdoc">Returns a pointer to the layer, or nullptr if the reference has not yet been matched to a layer...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerref_8h_source.html#l00094">qgsmaplayerref.h:94</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_add66f1a2dee4a5c1c6d5200169d9e3f0"><div class="ttname"><a href="classQgsLayoutAtlas.html#add66f1a2dee4a5c1c6d5200169d9e3f0">QgsLayoutAtlas::changed</a></div><div class="ttdeci">void changed()</div><div class="ttdoc">Emitted when one of the atlas parameters changes. </div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_a502ed61c3a10870c53d9f4a0dcb288af"><div class="ttname"><a href="classQgsLayoutAtlas.html#a502ed61c3a10870c53d9f4a0dcb288af">QgsLayoutAtlas::seekTo</a></div><div class="ttdeci">bool seekTo(int feature)</div><div class="ttdoc">Seeks to the specified feature number. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayoutatlas_8cpp_source.html#l00391">qgslayoutatlas.cpp:391</a></div></div>
<div class="ttc" id="classQgsLayoutAtlas_html_acab3734f8e501afcc1e6795b9e591c49"><div class="ttname"><a href="classQgsLayoutAtlas.html#acab3734f8e501afcc1e6795b9e591c49">QgsLayoutAtlas::coverageLayerChanged</a></div><div class="ttdeci">void coverageLayerChanged(QgsVectorLayer *layer)</div><div class="ttdoc">Emitted when the coverage layer for the atlas changes. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 5 2019 13:32:30 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
