<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: /tmp/buildd/qgis-3.8.0+99unstable/src/core/raster/qgsrasterlayer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.8.0-Zanzibar (11aff65)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_9c6ee9f03b9e988497f6ae786e4b3f28.html">raster</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qgsrasterlayer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qgsrasterlayer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">        qgsrasterlayer.cpp -  description</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   -------------------</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">begin                : Sat Jun 22 2002</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">copyright            : (C) 2003 by Tim Sutton, Steve Halasz and Gary E.Sherman</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">email                : tim at linfiniti.com</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsapplication_8h.html">qgsapplication.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsbrightnesscontrastfilter_8h.html">qgsbrightnesscontrastfilter.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgscolorrampshader_8h.html">qgscolorrampshader.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgscoordinatereferencesystem_8h.html">qgscoordinatereferencesystem.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgscoordinatetransform_8h.html">qgscoordinatetransform.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsdatasourceuri_8h.html">qgsdatasourceuri.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgshuesaturationfilter_8h.html">qgshuesaturationfilter.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgslayermetadataformatter_8h.html">qgslayermetadataformatter.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgslogger_8h.html">qgslogger.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmaplayerlegend_8h.html">qgsmaplayerlegend.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmaptopixel_8h.html">qgsmaptopixel.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmessagelog_8h.html">qgsmessagelog.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsmultibandcolorrenderer_8h.html">qgsmultibandcolorrenderer.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgspainting_8h.html">qgspainting.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgspalettedrasterrenderer_8h.html">qgspalettedrasterrenderer.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgspathresolver_8h.html">qgspathresolver.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprojectfiletransform_8h.html">qgsprojectfiletransform.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsproviderregistry_8h.html">qgsproviderregistry.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterdataprovider_8h.html">qgsrasterdataprovider.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterdrawer_8h.html">qgsrasterdrawer.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasteriterator_8h.html">qgsrasteriterator.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterlayer_8h.html">qgsrasterlayer.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterlayerrenderer_8h.html">qgsrasterlayerrenderer.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterprojector_8h.html">qgsrasterprojector.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterrange_8h.html">qgsrasterrange.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterrendererregistry_8h.html">qgsrasterrendererregistry.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrasterresamplefilter_8h.html">qgsrasterresamplefilter.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrastershader_8h.html">qgsrastershader.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsreadwritecontext_8h.html">qgsreadwritecontext.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrectangle_8h.html">qgsrectangle.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsrendercontext_8h.html">qgsrendercontext.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgssinglebandcolordatarenderer_8h.html">qgssinglebandcolordatarenderer.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgssinglebandgrayrenderer_8h.html">qgssinglebandgrayrenderer.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgssinglebandpseudocolorrenderer_8h.html">qgssinglebandpseudocolorrenderer.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgssettings_8h.html">qgssettings.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgssymbollayerutils_8h.html">qgssymbollayerutils.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &lt;typeinfo&gt;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &lt;QApplication&gt;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &lt;QCursor&gt;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &lt;QDir&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &lt;QDomElement&gt;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &lt;QDomNode&gt;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &lt;QFile&gt;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;QFileInfo&gt;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &lt;QFont&gt;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;QFontMetrics&gt;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &lt;QFrame&gt;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &lt;QImage&gt;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &lt;QLabel&gt;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &lt;QLibrary&gt;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &lt;QList&gt;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &lt;QMatrix&gt;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &lt;QMessageBox&gt;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &lt;QPainter&gt;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;QPixmap&gt;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &lt;QRegExp&gt;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;QSlider&gt;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &lt;QTime&gt;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// typedefs for provider plugin functions of interest</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="qgsrasterlayer_8cpp.html#a40b4d7bb24c382580765978004a06312">   82</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">bool</span> <a class="code" href="qgsrasterlayer_8cpp.html#a40b4d7bb24c382580765978004a06312">isvalidrasterfilename_t</a>( QString <span class="keyword">const</span> &amp;fileNameQString, QString &amp;retErrMsg );</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="qgsrasterlayer_8cpp.html#a1c3e89a5c947d0af52de06b706adcf09">   84</a></span>&#160;<span class="preprocessor">#define ERR(message) QGS_ERROR_MESSAGE(message,&quot;Raster layer&quot;)</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classQgsRasterLayer.html#a9f6092d931fc549266b2c992d7e9f709">QgsRasterLayer::SAMPLE_SIZE</a> = 250000;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="classQgsRasterLayer.html#ae0cb845971ece438215a1794fed3ac2f">QgsRasterLayer::SINGLE_BAND_ENHANCEMENT_ALGORITHM</a> = <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a0819c23941809548e46a27301d56cca8">QgsContrastEnhancement::StretchToMinimumMaximum</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<a class="code" href="classQgsRasterLayer.html#a4f3c7abdee90f23ab6ef817b9407104f">QgsRasterLayer::MULTIPLE_BAND_SINGLE_BYTE_ENHANCEMENT_ALGORITHM</a> = <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a9d951ea968c1c317b422d33ebe568d5a">QgsContrastEnhancement::NoEnhancement</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="classQgsRasterLayer.html#aa2fbf2400cc7859986b6739b946f5b72">QgsRasterLayer::MULTIPLE_BAND_MULTI_BYTE_ENHANCEMENT_ALGORITHM</a> = <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a0819c23941809548e46a27301d56cca8">QgsContrastEnhancement::StretchToMinimumMaximum</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<a class="code" href="classQgsRasterLayer.html#a7bb9eb150fe422864ea129e221c5fb57">QgsRasterLayer::SINGLE_BAND_MIN_MAX_LIMITS</a> = <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9aa6e755e218bddff18c1aa9795172858e">QgsRasterMinMaxOrigin::MinMax</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<a class="code" href="classQgsRasterLayer.html#aa075a30456ddc5c380d12693484371be">QgsRasterLayer::MULTIPLE_BAND_SINGLE_BYTE_MIN_MAX_LIMITS</a> = <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9aa6e755e218bddff18c1aa9795172858e">QgsRasterMinMaxOrigin::MinMax</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<a class="code" href="classQgsRasterLayer.html#a82872a2bd95a1d65edb827aa9063baef">QgsRasterLayer::MULTIPLE_BAND_MULTI_BYTE_MIN_MAX_LIMITS</a> = <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9adc0e1191b187fcf73a66680150373951">QgsRasterMinMaxOrigin::CumulativeCut</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af70aee7065e0159f245067b4641f7349">  102</a></span>&#160;<a class="code" href="classQgsRasterLayer.html#af70aee7065e0159f245067b4641f7349">QgsRasterLayer::QgsRasterLayer</a>()</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  : <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a>( <a class="code" href="group__core.html#gafbd92a77d43d50b374d3d022ec71d30c">QgsMapLayerType</a>::<a class="code" href="group__core.html#ggafbd92a77d43d50b374d3d022ec71d30ca4bd4dfc6131d926f44355ecd5a6da56e">RasterLayer</a> )</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  , QSTRING_NOT_SET( QStringLiteral( <span class="stringliteral">&quot;Not Set&quot;</span> ) )</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  , TRSTRING_NOT_SET( tr( <span class="stringliteral">&quot;Not Set&quot;</span> ) )</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  init();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a17f1b28a0639de61328af261238f6d6f">  112</a></span>&#160;<a class="code" href="classQgsRasterLayer.html#af70aee7065e0159f245067b4641f7349">QgsRasterLayer::QgsRasterLayer</a>( <span class="keyword">const</span> QString &amp;uri,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                <span class="keyword">const</span> QString &amp;baseName,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                <span class="keyword">const</span> QString &amp;providerKey,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structQgsRasterLayer_1_1LayerOptions.html">LayerOptions</a> &amp;options )</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  : <a class="code" href="classQgsMapLayer.html">QgsMapLayer</a>( <a class="code" href="group__core.html#gafbd92a77d43d50b374d3d022ec71d30c">QgsMapLayerType</a>::<a class="code" href="group__core.html#ggafbd92a77d43d50b374d3d022ec71d30ca4bd4dfc6131d926f44355ecd5a6da56e">RasterLayer</a>, baseName, uri )</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// Constant that signals property not used.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  , QSTRING_NOT_SET( QStringLiteral( <span class="stringliteral">&quot;Not Set&quot;</span> ) )</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  , TRSTRING_NOT_SET( tr( <span class="stringliteral">&quot;Not Set&quot;</span> ) )</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Entered&quot;</span> ), 4 );</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classQgsMapLayer.html#ae67dbf546c886c35234e743be7b94fa2">setProviderType</a>( providerKey );</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a> providerOptions { options.<a class="code" href="structQgsRasterLayer_1_1LayerOptions.html#a9bd15549ba86340b9339cc650fb2e93a">transformContext</a> };</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a733cd12cd1a95248450d0b471996c53b">setDataSource</a>( uri, baseName, providerKey, providerOptions, options.<a class="code" href="structQgsRasterLayer_1_1LayerOptions.html#a955a2fe99834abf200d9d53ee89301c7">loadDefaultStyle</a> );</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;} <span class="comment">// QgsRasterLayer ctor</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ae250350354baaa5bf9d6b91401061931">  130</a></span>&#160;<a class="code" href="classQgsRasterLayer.html#ae250350354baaa5bf9d6b91401061931">QgsRasterLayer::~QgsRasterLayer</a>()</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  emit <a class="code" href="classQgsMapLayer.html#a9c16b5c1bef6993fa6b1976b5f4342be">willBeDeleted</a>();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Note: provider and other interfaces are owned and deleted by pipe</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a2b859f116700d2d6a6bb3c66bd153cfd">  138</a></span>&#160;<a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> *<a class="code" href="classQgsRasterLayer.html#a2b859f116700d2d6a6bb3c66bd153cfd">QgsRasterLayer::clone</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="structQgsRasterLayer_1_1LayerOptions.html">QgsRasterLayer::LayerOptions</a> options;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider )</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    options.<a class="code" href="structQgsRasterLayer_1_1LayerOptions.html#a9bd15549ba86340b9339cc650fb2e93a">transformContext</a> = mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a1716494dc8a177d11d9ab285c27811b0">transformContext</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classQgsRasterLayer.html">QgsRasterLayer</a> *layer = <span class="keyword">new</span> <a class="code" href="classQgsRasterLayer.html#af70aee7065e0159f245067b4641f7349">QgsRasterLayer</a>( <a class="code" href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">source</a>(), <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>(), <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>, options );</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="classQgsMapLayer.html#a8d18711b8dfb1644e54e326312333cf8">QgsMapLayer::clone</a>( layer );</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// do not clone data provider which is the first element in pipe</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; mPipe.<a class="code" href="classQgsRasterPipe.html#a01ed8775cf7c580ed193fddac322bbb0">size</a>(); i++ )</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> ( mPipe.<a class="code" href="classQgsRasterPipe.html#ae58f3b7a001fa887f47237d224d7fc1e">at</a>( i ) )</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      layer-&gt;<a class="code" href="classQgsRasterLayer.html#a4dd14890186ab3ca73514e00980c5493">pipe</a>()-&gt;<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( mPipe.<a class="code" href="classQgsRasterPipe.html#ae58f3b7a001fa887f47237d224d7fc1e">at</a>( i )-&gt;<a class="code" href="classQgsRasterInterface.html#a1cf751088ebc443bb7efb0c0006b442d">clone</a>() );</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">return</span> layer;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">// Static Methods and members</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#aa9b52a22deef26e7c01c7430c35bd50c">  164</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#aa9b52a22deef26e7c01c7430c35bd50c">QgsRasterLayer::isValidRasterFileName</a>( <span class="keyword">const</span> QString &amp;fileNameQString, QString &amp;retErrMsg )</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="qgsrasterlayer_8cpp.html#a40b4d7bb24c382580765978004a06312">isvalidrasterfilename_t</a> *pValid = <span class="keyword">reinterpret_cast&lt;</span> <a class="code" href="qgsrasterlayer_8cpp.html#a40b4d7bb24c382580765978004a06312">isvalidrasterfilename_t</a> * <span class="keyword">&gt;</span>( <a class="code" href="qgis_8h.html#ad27cdbdce10104044399eb83c7654a3c">cast_to_fptr</a>( <a class="code" href="classQgsProviderRegistry.html#a60c16019b5073ee00c3e26141312bfb2">QgsProviderRegistry::instance</a>()-&gt;<span class="keyword">function</span>( <span class="stringliteral">&quot;gdal&quot;</span>,  <span class="stringliteral">&quot;isValidRasterFileName&quot;</span> ) ) );</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> ( ! pValid )</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;Could not resolve isValidRasterFileName in gdal provider library&quot;</span> ) );</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">bool</span> myIsValid = pValid( fileNameQString, retErrMsg );</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> myIsValid;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a18e46f9e4c750c5acb6e61d477e4c250">  177</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#aa9b52a22deef26e7c01c7430c35bd50c">QgsRasterLayer::isValidRasterFileName</a>( QString <span class="keyword">const</span> &amp;fileNameQString )</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  QString retErrMsg;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsRasterLayer.html#aa9b52a22deef26e7c01c7430c35bd50c">isValidRasterFileName</a>( fileNameQString, retErrMsg );</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ad613abbb03e1e1bc6ed9c8b22bea8b6c">  183</a></span>&#160;QDateTime <a class="code" href="classQgsRasterLayer.html#ad613abbb03e1e1bc6ed9c8b22bea8b6c">QgsRasterLayer::lastModified</a>( QString <span class="keyword">const</span> &amp;<a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a> )</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;name=&quot;</span> + name, 4 );</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  QDateTime t;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  QFileInfo fi( name );</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// Is it file?</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span> ( !fi.exists() )</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> t;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  t = fi.lastModified();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;last modified = &quot;</span> + t.toString(), 4 );</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> t;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">  201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">QgsRasterLayer::setDataProvider</a>( <span class="keyword">const</span> QString &amp;provider )</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">setDataProvider</a>( provider, <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a>() );</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">// typedef for the QgsDataProvider class factory</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="qgsrasterlayer_8cpp.html#a7e7e1e746417b023e00233468f0181b4">  207</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classQgsDataProvider.html">QgsDataProvider</a> *<a class="code" href="qgsrasterlayer_8cpp.html#a7e7e1e746417b023e00233468f0181b4">classFactoryFunction_t</a>( <span class="keyword">const</span> QString *, <span class="keyword">const</span> <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a> &amp;options );</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// Non Static Public methods</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a51cc5aeb8f2b96ec34938bbf4308e367">  215</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsRasterLayer.html#a51cc5aeb8f2b96ec34938bbf4308e367">QgsRasterLayer::bandCount</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> ( !mDataProvider ) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">bandCount</a>();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#aa760dd6ec4dcb758d0f8c8084aa716d0">  221</a></span>&#160;QString <a class="code" href="classQgsRasterLayer.html#aa760dd6ec4dcb758d0f8c8084aa716d0">QgsRasterLayer::bandName</a>( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>()-&gt;<a class="code" href="classQgsRasterInterface.html#a6fd95d26a509c3855900518b5411b193">generateBandName</a>( bandNo );</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keywordtype">void</span> QgsRasterLayer::setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcf">QgsRaster::DrawingStyle</a> drawingStyle )</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="classQgsRasterLayer.html#af4872d1234ea6fc277cbdd825ccb6ce4">setRenderer</a>( <a class="code" href="classQgsApplication.html#a5a49d4af864859ff92fdecf0f6b173af">QgsApplication::rasterRendererRegistry</a>()-&gt;defaultRendererForDrawingStyle( drawingStyle, mDataProvider ) );</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">  231</a></span>&#160;<a class="code" href="classQgsRasterDataProvider.html">QgsRasterDataProvider</a> *<a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">QgsRasterLayer::dataProvider</a>()</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> mDataProvider;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ac1ee1c844f3509dc0e0e0cf67a3f5dfc">  236</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classQgsRasterDataProvider.html">QgsRasterDataProvider</a> *<a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">QgsRasterLayer::dataProvider</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> mDataProvider;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a8bbb70eb20fe3667fd7eaa4c42e544f0">  241</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a8bbb70eb20fe3667fd7eaa4c42e544f0">QgsRasterLayer::reload</a>()</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider )</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#aea143a6723ae49ca0a10061ec52322d0">reloadData</a>();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a14ffa29aa20f59061b7b49cb0b4855f6">  249</a></span>&#160;<a class="code" href="classQgsMapLayerRenderer.html">QgsMapLayerRenderer</a> *<a class="code" href="classQgsRasterLayer.html#a14ffa29aa20f59061b7b49cb0b4855f6">QgsRasterLayer::createMapRenderer</a>( <a class="code" href="classQgsRenderContext.html">QgsRenderContext</a> &amp;rendererContext )</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQgsRasterLayerRenderer.html">QgsRasterLayerRenderer</a>( <span class="keyword">this</span>, rendererContext );</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ad2820cfc207826a377be2f02b2d60ded">  255</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#ad2820cfc207826a377be2f02b2d60ded">QgsRasterLayer::draw</a>( QPainter *theQPainter,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                           <a class="code" href="structQgsRasterViewPort.html">QgsRasterViewPort</a> *rasterViewPort,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classQgsMapToPixel.html">QgsMapToPixel</a> *qgsMapToPixel )</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot; 3 arguments&quot;</span> ), 4 );</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  QTime time;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  time.start();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// The goal here is to make as many decisions as possible early on (outside of the rendering loop)</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// so that we can maximise performance of the rendering process. So now we check which drawing</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// procedure to use :</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classQgsRasterProjector.html">QgsRasterProjector</a> *projector = mPipe.<a class="code" href="classQgsRasterPipe.html#a76618279fceca64a0711eeed91d1e289">projector</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// TODO add a method to interface to get provider and get provider</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// params in QgsRasterProjector</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">if</span> ( projector )</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    projector-&gt;<a class="code" href="classQgsRasterProjector.html#ad81f5a209e690d895c9cb196294a58fd">setCrs</a>( rasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#ab89e44c94d6782d79fe460cd0c5abaf1">mSrcCRS</a>, rasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#a3583e48b83d019e2395fa756da059de2">mDestCRS</a>, rasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#ac650d1dba494762832ae1aae3a875e13">mTransformContext</a> );</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Drawer to pipe?</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="classQgsRasterIterator.html">QgsRasterIterator</a> iterator( mPipe.<a class="code" href="classQgsRasterPipe.html#a8dee0ad17de04051357e1088c9360e31">last</a>() );</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="classQgsRasterDrawer.html">QgsRasterDrawer</a> drawer( &amp;iterator );</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  drawer.draw( theQPainter, rasterViewPort, qgsMapToPixel );</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;total raster draw time (ms):     %1&quot;</span> ).arg( time.elapsed(), 5 ), 4 );</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;} <span class="comment">//end of draw method</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a148d2b4ef75873ec4fe8008a30198a01">  286</a></span>&#160;<a class="code" href="qgsrasterlayer_8h.html#a94dc041a8288bdc5076cc362147cd96d">QgsLegendColorList</a> <a class="code" href="classQgsRasterLayer.html#a148d2b4ef75873ec4fe8008a30198a01">QgsRasterLayer::legendSymbologyItems</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  QList&lt; QPair&lt; QString, QColor &gt; &gt; symbolList;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classQgsRasterRenderer.html">QgsRasterRenderer</a> *<a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a> = mPipe.<a class="code" href="classQgsRasterPipe.html#ab6be5e60409b5d75db107d8d83c84e3c">renderer</a>();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> ( renderer )</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    renderer-&gt;<a class="code" href="classQgsRasterRenderer.html#a56ff35fe30084073f1dadaa04d40f7cd">legendSymbologyItems</a>( symbolList );</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">return</span> symbolList;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a0389370f061802ed9b2f68da69089d74">  297</a></span>&#160;QString <a class="code" href="classQgsRasterLayer.html#a0389370f061802ed9b2f68da69089d74">QgsRasterLayer::htmlMetadata</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="classQgsLayerMetadataFormatter.html">QgsLayerMetadataFormatter</a> htmlFormatter( <a class="code" href="classQgsMapLayer.html#a5fcbdc6e360c8cc9bd8b171dd263bcde">metadata</a>() );</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  QString myMetadata = QStringLiteral( <span class="stringliteral">&quot;&lt;html&gt;\n&lt;body&gt;\n&quot;</span> );</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// Begin Provider section</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Information from provider&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;table class=\&quot;list-view\&quot;&gt;\n&quot;</span> );</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// name</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Name&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> ) + <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>() + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// local path</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  QVariantMap uriComponents = <a class="code" href="classQgsProviderRegistry.html#a60c16019b5073ee00c3e26141312bfb2">QgsProviderRegistry::instance</a>()-&gt;<a class="code" href="classQgsProviderRegistry.html#a25d53a41b52b7fe7b7d7ab534d6e8ed1">decodeUri</a>( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>, <a class="code" href="classQgsMapLayer.html#a2da43913a3a0ed20b4873b2276e2e7f9">publicSource</a>() );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  QString path;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> ( uriComponents.contains( QStringLiteral( <span class="stringliteral">&quot;path&quot;</span> ) ) )</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    path = uriComponents[QStringLiteral( <span class="stringliteral">&quot;path&quot;</span> )].toString();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> ( QFile::exists( path ) )</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Path&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;%1&quot;</span> ).arg( QStringLiteral( <span class="stringliteral">&quot;&lt;a href=\&quot;%1\&quot;&gt;%2&lt;/a&gt;&quot;</span> ).arg( QUrl::fromLocalFile( path ).toString(), QDir::toNativeSeparators( path ) ) ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">if</span> ( uriComponents.contains( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ) ) )</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keyword">const</span> QString url = uriComponents[QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> )].toString();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;URL&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;%1&quot;</span> ).arg( QStringLiteral( <span class="stringliteral">&quot;&lt;a href=\&quot;%1\&quot;&gt;%2&lt;/a&gt;&quot;</span> ).arg( QUrl( url ).toString(), url ) ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// data source</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#a2da43913a3a0ed20b4873b2276e2e7f9">publicSource</a>() != path )</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Source&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;%1&quot;</span> ).arg( <a class="code" href="classQgsMapLayer.html#a2da43913a3a0ed20b4873b2276e2e7f9">publicSource</a>() ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// data source</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#a2da43913a3a0ed20b4873b2276e2e7f9">publicSource</a>() != path )</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Source&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;%1&quot;</span> ).arg( <a class="code" href="classQgsMapLayer.html#a2da43913a3a0ed20b4873b2276e2e7f9">publicSource</a>() ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// EPSG</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;CRS&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> );</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().<a class="code" href="classQgsMapLayer.html#ab4d304ac4e8fbd610a00adfa4871845b">isValid</a>() )</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    myMetadata += <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().<a class="code" href="classQgsCoordinateReferenceSystem.html#ab2dee1805d8e3b62448e4d106753b595">authid</a>() + QStringLiteral( <span class="stringliteral">&quot; - &quot;</span> );</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    myMetadata += <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().<a class="code" href="classQgsCoordinateReferenceSystem.html#a2888185eab7e7bf2f7d80ffe2b274224">description</a>() + QStringLiteral( <span class="stringliteral">&quot; - &quot;</span> );</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().isGeographic() )</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Geographic&quot;</span> );</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Projected&quot;</span> );</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// Extent</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Extent&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> ) + <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>().<a class="code" href="classQgsRectangle.html#a05a40e45995b2b25689467caa297a93e">toString</a>() + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// unit</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Unit&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> ) + <a class="code" href="classQgsUnitTypes.html#a43808dc6ed58c191cc4373e7c8e506fb">QgsUnitTypes::toString</a>( <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().mapUnits() ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// Raster Width</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Width&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> );</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>()-&gt;capabilities() &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aadc59abc8f2b2c71d9297613e18261b5">QgsRasterDataProvider::Size</a> )</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    myMetadata += QString::number( <a class="code" href="classQgsRasterLayer.html#abf20eb54051dae4cfb0ffdbbb7789e95">width</a>() );</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    myMetadata += tr( <span class="stringliteral">&quot;n/a&quot;</span> );</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// Raster height</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Height&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> );</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>()-&gt;capabilities() &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aadc59abc8f2b2c71d9297613e18261b5">QgsRasterDataProvider::Size</a> )</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    myMetadata += QString::number( <a class="code" href="classQgsRasterLayer.html#a3d062ea4b6afa0489516b7838fe3a07a">height</a>() );</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    myMetadata += tr( <span class="stringliteral">&quot;n/a&quot;</span> );</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Data type</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Data type&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> );</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Just use the first band</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">switch</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a3ffc3ed0e1e4948e9fb8b993714d787b">sourceDataType</a>( 1 ) )</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5aff09d65e170dc3ceb704a912eaf1ddee">Qgis::Byte</a>:</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Byte - Eight bit unsigned integer&quot;</span> );</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5ad58c30e559800fdfc3448a593a982486">Qgis::UInt16</a>:</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;UInt16 - Sixteen bit unsigned integer &quot;</span> );</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a006c63325c05c307af9a285a910bbaba">Qgis::Int16</a>:</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Int16 - Sixteen bit signed integer &quot;</span> );</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a26f69286c48f415893d2eeb5ca7395c2">Qgis::UInt32</a>:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;UInt32 - Thirty two bit unsigned integer &quot;</span> );</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a42b15140f8f53733863648154562fb88">Qgis::Int32</a>:</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Int32 - Thirty two bit signed integer &quot;</span> );</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a1f827918feb3d4e1274bbf67f0635757">Qgis::Float32</a>:</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Float32 - Thirty two bit floating point &quot;</span> );</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a40591b7c4f99a7d9f638a1ea6776496f">Qgis::Float64</a>:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Float64 - Sixty four bit floating point &quot;</span> );</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a5a7e7a56b3ee8a2f5d85b8d6bfdb574b">Qgis::CInt16</a>:</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;CInt16 - Complex Int16 &quot;</span> );</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a9644507fc77197b16cc58b2fee550c35">Qgis::CInt32</a>:</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;CInt32 - Complex Int32 &quot;</span> );</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a4bd3a2c0867616e77e50fb0b9e23f156">Qgis::CFloat32</a>:</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;CFloat32 - Complex Float32 &quot;</span> );</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a231786e9edfec3157173efa250fbc013">Qgis::CFloat64</a>:</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;CFloat64 - Complex Float64 &quot;</span> );</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;Could not determine raster data type.&quot;</span> );</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Insert provider-specific (e.g. WMS-specific) metadata</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  myMetadata += mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a444498d02435eee131a0e957b9b2fe6e">htmlMetadata</a>();</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// End Provider section</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/table&gt;\n&lt;br&gt;&lt;br&gt;&quot;</span> );</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// Identification section</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Identification&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  myMetadata += htmlFormatter.<a class="code" href="classQgsLayerMetadataFormatter.html#a85c8e1425c6c11de5d051db3c43ce7ec">identificationSectionHtml</a>();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;\n&quot;</span> );</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// extent section</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Extent&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  myMetadata += htmlFormatter.<a class="code" href="classQgsLayerMetadataFormatter.html#a279a1ee5b2f40891552c3852c8cd16a1">extentSectionHtml</a>( );</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;\n&quot;</span> );</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// Start the Access section</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Access&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  myMetadata += htmlFormatter.<a class="code" href="classQgsLayerMetadataFormatter.html#ad7525f516dc5970892b7deb1a782b259">accessSectionHtml</a>( );</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;\n&quot;</span> );</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// Bands section</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;/table&gt;\n&lt;br&gt;&lt;br&gt;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Bands&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&lt;table class=\&quot;list-view\&quot;&gt;\n&quot;</span> );</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// Band count</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;tr&gt;&lt;td class=\&quot;highlight\&quot;&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Band count&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> ) + QString::number( <a class="code" href="classQgsRasterLayer.html#a51cc5aeb8f2b96ec34938bbf4308e367">bandCount</a>() ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// Band table</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/table&gt;\n&lt;br&gt;&lt;table width=\&quot;100%\&quot; class=\&quot;tabular-view\&quot;&gt;\n&quot;</span> );</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;tr&gt;&lt;th&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Number&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/th&gt;&lt;th&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Band&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/th&gt;&lt;th&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;No-Data&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/th&gt;&lt;th&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Min&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/th&gt;&lt;th&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Max&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/th&gt;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classQgsRasterDataProvider.html">QgsRasterDataProvider</a> *provider = <span class="keyword">const_cast&lt;</span> <a class="code" href="classQgsRasterDataProvider.html">QgsRasterDataProvider</a> * <span class="keyword">&gt;</span>( mDataProvider );</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt;= <a class="code" href="classQgsRasterLayer.html#a51cc5aeb8f2b96ec34938bbf4308e367">bandCount</a>(); i++ )</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    QString rowClass;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> ( i % 2 )</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      rowClass = QStringLiteral( <span class="stringliteral">&quot;class=\&quot;odd-row\&quot;&quot;</span> );</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;tr &quot;</span> ) + rowClass + QLatin1String( <span class="stringliteral">&quot;&gt;&lt;td&gt;&quot;</span> ) + QString::number( i ) + QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> ) + <a class="code" href="classQgsRasterLayer.html#aa760dd6ec4dcb758d0f8c8084aa716d0">bandName</a>( i ) + QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> );</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>()-&gt;sourceHasNoDataValue( i ) )</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      myMetadata += QString::number( <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>()-&gt;sourceNoDataValue( i ) );</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      myMetadata += tr( <span class="stringliteral">&quot;n/a&quot;</span> );</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span> );</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> ( provider-&gt;<a class="code" href="classQgsRasterInterface.html#ad14d9430addc4dc547f157b11b1b2765">hasStatistics</a>( i ) )</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="classQgsRasterBandStats.html">QgsRasterBandStats</a> myRasterBandStats = provider-&gt;<a class="code" href="classQgsRasterInterface.html#aaa39473935ac32b7b38970fed2ffaaac">bandStatistics</a>( i );</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> ) + QString::number( myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#a64e79039aa1fd84ea84a494da8d025ed">minimumValue</a>, <span class="charliteral">&#39;f&#39;</span>, 10 ) + QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span> );</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> ) + QString::number( myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#aa80ae5e17e931f82f32a7d3702f42588">maximumValue</a>, <span class="charliteral">&#39;f&#39;</span>, 10 ) + QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span> );</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;n/a&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;n/a&quot;</span> ) + QLatin1String( <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span> );</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/tr&gt;\n&quot;</span> );</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="comment">//close previous bands table</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;/table&gt;\n&lt;br&gt;&lt;br&gt;&quot;</span> );</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// Start the contacts section</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;Contacts&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  myMetadata += htmlFormatter.<a class="code" href="classQgsLayerMetadataFormatter.html#a68f3f15a5314b4523baaf0b7af8ade31">contactsSectionHtml</a>( );</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;\n&quot;</span> );</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// Start the links section</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;References&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  myMetadata += htmlFormatter.<a class="code" href="classQgsLayerMetadataFormatter.html#a15f243ae28445816ec18e6f11851b4b0">linksSectionHtml</a>( );</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;\n&quot;</span> );</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// Start the history section</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;&lt;h1&gt;&quot;</span> ) + tr( <span class="stringliteral">&quot;History&quot;</span> ) + QStringLiteral( <span class="stringliteral">&quot;&lt;/h1&gt;\n&lt;hr&gt;\n&quot;</span> );</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  myMetadata += htmlFormatter.<a class="code" href="classQgsLayerMetadataFormatter.html#aa5e1103217887c430f659ae5fe149531">historySectionHtml</a>( );</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  myMetadata += QLatin1String( <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;\n&quot;</span> );</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  myMetadata += QStringLiteral( <span class="stringliteral">&quot;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span> );</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">return</span> myMetadata;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af9e913ba7f0feae69d1f682057897378">  491</a></span>&#160;QPixmap <a class="code" href="classQgsRasterLayer.html#af9e913ba7f0feae69d1f682057897378">QgsRasterLayer::paletteAsPixmap</a>( <span class="keywordtype">int</span> bandNumber )</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">//TODO: This function should take dimensions</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;entered.&quot;</span> ), 4 );</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// Only do this for the GDAL provider?</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// Maybe WMS can do this differently using QImage::numColors and QImage::color()</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( bandNumber ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a4784f83c87a6158e9bff0aae49d0ed8a">QgsRaster::PaletteIndex</a> )</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;....found paletted image&quot;</span> ), 4 );</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> myShader;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    QList&lt;QgsColorRampShader::ColorRampItem&gt; myColorRampItemList = mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a0ac6b1b6f39d1991a315bfae64749699">colorTable</a>( bandNumber );</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> ( !myColorRampItemList.isEmpty() )</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;....got color ramp item list&quot;</span> ), 4 );</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      myShader.<a class="code" href="classQgsColorRampShader.html#ab7f5adc632e585c84367be3c6e957273">setColorRampItemList</a>( myColorRampItemList );</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      myShader.<a class="code" href="classQgsColorRampShader.html#ab94f98322e4a172a19b81e037116395b">setColorRampType</a>( <a class="code" href="classQgsColorRampShader.html#a9d30694b4c16b0a23a69a44d3286d246a81a5f64ba6ee99f385555cb7560c4069">QgsColorRampShader::Discrete</a> );</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="comment">// Draw image</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordtype">int</span> mySize = 100;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      QPixmap myPalettePixmap( mySize, mySize );</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      QPainter myQPainter( &amp;myPalettePixmap );</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      QImage myQImage = QImage( mySize, mySize, QImage::Format_RGB32 );</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      myQImage.fill( 0 );</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      myPalettePixmap.fill();</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordtype">double</span> myStep = ( <span class="keyword">static_cast&lt;</span> <span class="keywordtype">double</span> <span class="keyword">&gt;</span>( myColorRampItemList.size() ) - 1 ) / <span class="keyword">static_cast&lt;</span> <span class="keywordtype">double</span> <span class="keyword">&gt;</span>( mySize * mySize );</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordtype">double</span> myValue = 0.0;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> myRow = 0; myRow &lt; mySize; myRow++ )</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        QRgb *myLineBuffer = <span class="keyword">reinterpret_cast&lt;</span> QRgb * <span class="keyword">&gt;</span>( myQImage.scanLine( myRow ) );</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> myCol = 0; myCol &lt; mySize; myCol++ )</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          myValue = myStep * <span class="keyword">static_cast&lt;</span> <span class="keywordtype">double</span> <span class="keyword">&gt;</span>( myCol + myRow * mySize );</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;          <span class="keywordtype">int</span> c1, c2, c3, c4;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          myShader.<a class="code" href="classQgsColorRampShader.html#a7664f9e211a028d60d361eff9467f994">shade</a>( myValue, &amp;c1, &amp;c2, &amp;c3, &amp;c4 );</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          myLineBuffer[ myCol ] = qRgba( c1, c2, c3, c4 );</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      myQPainter.drawImage( 0, 0, myQImage );</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> myPalettePixmap;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    QPixmap myNullPixmap;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">return</span> myNullPixmap;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">//invalid layer  was requested</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    QPixmap myNullPixmap;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> myNullPixmap;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">  545</a></span>&#160;QString <a class="code" href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">QgsRasterLayer::providerType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a8b93bb00790a4e61ad010e1e64a5b556">  550</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classQgsRasterLayer.html#a8b93bb00790a4e61ad010e1e64a5b556">QgsRasterLayer::rasterUnitsPerPixelX</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">// We return one raster pixel per map unit pixel</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">// One raster pixel can have several raster units...</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">// We can only use one of the mGeoTransform[], so go with the</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">// horisontal one.</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#adb432fe846c0ca47321636f606128b99">capabilities</a>() &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aadc59abc8f2b2c71d9297613e18261b5">QgsRasterDataProvider::Size</a> &amp;&amp; !<a class="code" href="qgis_8h.html#a8f7c73b548b20ab548d5d064e8ed4f5c">qgsDoubleNear</a>( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a6024da23ab7abf219925b505a956526b">xSize</a>(), 0.0 ) )</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a855b75f332cfa88c09d5bfc34f67f6e6">extent</a>().<a class="code" href="classQgsRectangle.html#a7f80945a6f9149707a29d16706b3bafd">width</a>() / mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a6024da23ab7abf219925b505a956526b">xSize</a>();</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ab54c6c14c1889380d6449c29727ae34b">  565</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classQgsRasterLayer.html#ab54c6c14c1889380d6449c29727ae34b">QgsRasterLayer::rasterUnitsPerPixelY</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#adb432fe846c0ca47321636f606128b99">capabilities</a>() &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aadc59abc8f2b2c71d9297613e18261b5">QgsRasterDataProvider::Size</a> &amp;&amp; !<a class="code" href="qgis_8h.html#a8f7c73b548b20ab548d5d064e8ed4f5c">qgsDoubleNear</a>( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#ae1812389c8815fae851ca3eaffef5265">ySize</a>(), 0.0 ) )</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a855b75f332cfa88c09d5bfc34f67f6e6">extent</a>().<a class="code" href="classQgsRectangle.html#ad0a64f974edb994e38e3c418e48396d8">height</a>() / mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#ae1812389c8815fae851ca3eaffef5265">ySize</a>();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="keywordtype">void</span> QgsRasterLayer::init()</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13acb32ec1b876322a005b8f8c476f23014">QgsRasterLayer::GrayOrUndefined</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <a class="code" href="classQgsMapLayer.html#ad719757736676710b1c856640e4d232d">setLegend</a>( <a class="code" href="classQgsMapLayerLegend.html#abbbb5da34ded965cc0c80de2cd74279d">QgsMapLayerLegend::defaultRasterLegend</a>( <span class="keyword">this</span> ) );</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfacfb55e2f7cd4d57cd36b89f9e434e4e4">QgsRaster::UndefinedDrawingStyle</a> );</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">//Initialize the last view port structure, should really be a class</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  mLastViewPort.<a class="code" href="structQgsRasterViewPort.html#afdb3c410fd1f91c9b2d4c25789011ab3">mWidth</a> = 0;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  mLastViewPort.<a class="code" href="structQgsRasterViewPort.html#af7179175f035f96a181e1fd9d2c5b6ce">mHeight</a> = 0;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ad6e409126ceed95ebdf4f10579a24a7d">  587</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">QgsRasterLayer::setDataProvider</a>( QString <span class="keyword">const</span> &amp;provider, <span class="keyword">const</span> <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a> &amp;options )</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Entered&quot;</span> ), 4 );</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> = <span class="keyword">false</span>; <span class="comment">// assume the layer is invalid until we determine otherwise</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a8ab6a9c3704a8db7cb1ca17064e87ef2">remove</a>( mDataProvider ); <span class="comment">// deletes if exists</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  mDataProvider = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// XXX should I check for and possibly delete any pre-existing providers?</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// XXX How often will that scenario occur?</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> = provider;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// set the layer name (uppercase first character)</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> ( ! <a class="code" href="classQgsMapLayer.html#a464d8e4b13310c587dd3754db88d604f">mLayerName</a>.isEmpty() )   <span class="comment">// XXX shouldn&#39;t this happen in parent?</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classQgsMapLayer.html#aa6cbb1bf0644d7bb82d410ca56557d6c">setName</a>( <a class="code" href="classQgsMapLayer.html#a464d8e4b13310c587dd3754db88d604f">mLayerName</a> );</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="comment">//mBandCount = 0;</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  mDataProvider = qobject_cast&lt; <a class="code" href="classQgsRasterDataProvider.html">QgsRasterDataProvider</a> * &gt;( <a class="code" href="classQgsProviderRegistry.html#a60c16019b5073ee00c3e26141312bfb2">QgsProviderRegistry::instance</a>()-&gt;<a class="code" href="classQgsProviderRegistry.html#a666ec1f97817cb0ff1a6964d1cc58526">createProvider</a>( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>, <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a>, options ) );</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> ( !mDataProvider )</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">//QgsMessageLog::logMessage( tr( &quot;Cannot instantiate the data provider&quot; ), tr( &quot;Raster&quot; ) );</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="classQgsMapLayer.html#ab2ef166c47e54080e3a939c03a2e3065">appendError</a>( <a class="code" href="qgsrasterlayer_8cpp.html#a1c3e89a5c947d0af52de06b706adcf09">ERR</a>( tr( <span class="stringliteral">&quot;Cannot instantiate the &#39;%1&#39; data provider&quot;</span> ).arg( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> ) ) );</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Data provider created&quot;</span> ), 4 );</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  mDataProvider-&gt;setParent( <span class="keyword">this</span> );</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// Set data provider into pipe even if not valid so that it is deleted with pipe (with layer)</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( mDataProvider );</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">if</span> ( !mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a6d034edbd7af7a7b02a642d241aa61fd">isValid</a>() )</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="classQgsMapLayer.html#a13215d5a4b435db62ec684a29a85ce68">setError</a>( mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a77e9159d97d4276753cbaf54b89da6d0">error</a>() );</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="classQgsMapLayer.html#ab2ef166c47e54080e3a939c03a2e3065">appendError</a>( <a class="code" href="qgsrasterlayer_8cpp.html#a1c3e89a5c947d0af52de06b706adcf09">ERR</a>( tr( <span class="stringliteral">&quot;Provider is not valid (provider: %1, URI: %2&quot;</span> ).arg( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>, <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> ) ) );</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a5c4b360b60641aead70bf7744982f5fc">providerCapabilities</a>() &amp; <a class="code" href="classQgsRasterDataProvider.html#aa0417bf62ab0164d5a5ed1801e7f12daa30ea09201e4d40c0cdcd09681a0e6ae5">QgsRasterDataProvider::ReadLayerMetadata</a> )</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="classQgsMapLayer.html#a7369f6cb5c04217125103437112f577d">setMetadata</a>( mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a69646da138dc98e9fa605fbed1283bb6">layerMetadata</a>() );</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Set Data provider QgsLayerMetadata identifier[%1]&quot;</span> ).arg( <a class="code" href="classQgsMapLayer.html#a5fcbdc6e360c8cc9bd8b171dd263bcde">metadata</a>().identifier() ), 4 );</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> ( provider == QLatin1String( <span class="stringliteral">&quot;gdal&quot;</span> ) )</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// make sure that the /vsigzip or /vsizip is added to uri, if applicable</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> = mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a94c4cce6651e60b9245989ba4bffd625">dataSourceUri</a>();</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// get the extent</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="classQgsRectangle.html">QgsRectangle</a> mbr = mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a855b75f332cfa88c09d5bfc34f67f6e6">extent</a>();</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// show the extent</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;Extent of layer: &quot;</span> + mbr.<a class="code" href="classQgsRectangle.html#a05a40e45995b2b25689467caa297a93e">toString</a>(), 4 );</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// store the extent</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <a class="code" href="classQgsMapLayer.html#aa9c99649f2f6896a1e11ae328acd1352">setExtent</a>( mbr );</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// upper case the first letter of the layer name</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;mLayerName: &quot;</span> + <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>(), 4 );</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// set up the raster drawing style</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// Do not set any &#39;sensible&#39; style here, the style is set later</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// Setup source CRS</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="classQgsMapLayer.html#afc72ec9bb0d3b98fe20b5b85c3d70512">setCrs</a>( <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a>( mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a390a2d77b871763209396167d5558d18">crs</a>() ) );</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;using wkt:\n&quot;</span> + <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().toWkt(), 4 );</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">//defaults - Needs to be set after the Contrast list has been build</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">//Try to read the default contrast enhancement from the config file</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">//decide what type of layer this is...</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="comment">//TODO Change this to look at the color interp and palette interp to decide which type of layer it is</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;bandCount = &quot;</span> + QString::number( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">bandCount</a>() ), 4 );</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;dataType = &quot;</span> + QString::number( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a8c5dcd2b095725610d6755d1c7de5985">dataType</a>( 1 ) ), 4 );</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> ( ( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">bandCount</a>() &gt; 1 ) )</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// handle singleband gray with alpha</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">bandCount</a>() == 2</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         &amp;&amp; ( ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 1 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1ab38e658eff4c6e3d23cf42bccfcc76c1">QgsRaster::GrayIndex</a></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                &amp;&amp; mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 2 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a6673fecadf2baea9635f1c1dcb748f1a">QgsRaster::AlphaBand</a> )</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;              || ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 1 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a6673fecadf2baea9635f1c1dcb748f1a">QgsRaster::AlphaBand</a></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                   &amp;&amp; mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 2 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1ab38e658eff4c6e3d23cf42bccfcc76c1">QgsRaster::GrayIndex</a> ) ) )</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13acb32ec1b876322a005b8f8c476f23014">GrayOrUndefined</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13ac2869bc00168d3ddf616b4222c83bc93">Multiband</a>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a8c5dcd2b095725610d6755d1c7de5985">dataType</a>( 1 ) == <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5ae294414b7cd738fd1d579490102afb2c">Qgis::ARGB32</a></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            ||  mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a8c5dcd2b095725610d6755d1c7de5985">dataType</a>( 1 ) == <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a7badeb80da93e5f1bd41bf9dc474f5b7">Qgis::ARGB32_Premultiplied</a> )</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a216b28598d7e059be5e05285f32cbe69">ColorLayer</a>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 1 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a4784f83c87a6158e9bff0aae49d0ed8a">QgsRaster::PaletteIndex</a> )</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a850efa187d4bbb1031ac89209dcb7845">Palette</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 1 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1ae787e73fa31f37ffb064f72715f01b19">QgsRaster::ContinuousPalette</a> )</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a850efa187d4bbb1031ac89209dcb7845">Palette</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    mRasterType = <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13acb32ec1b876322a005b8f8c476f23014">GrayOrUndefined</a>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;mRasterType = &quot;</span> + QString::number( mRasterType ), 4 );</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">if</span> ( mRasterType == <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a216b28598d7e059be5e05285f32cbe69">ColorLayer</a> )</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;Setting drawing style to SingleBandColorDataStyle &quot;</span> + QString::number( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa024f07c19ee4fb3b42d1d53ba23151a9">QgsRaster::SingleBandColorDataStyle</a> ), 4 );</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa024f07c19ee4fb3b42d1d53ba23151a9">QgsRaster::SingleBandColorDataStyle</a> );</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mRasterType == <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a850efa187d4bbb1031ac89209dcb7845">Palette</a> &amp;&amp; mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 1 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a4784f83c87a6158e9bff0aae49d0ed8a">QgsRaster::PaletteIndex</a> )</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa5d8948d0e4bec49614e7105dd51dcc5c">QgsRaster::PalettedColor</a> ); <span class="comment">//sensible default</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mRasterType == <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a850efa187d4bbb1031ac89209dcb7845">Palette</a> &amp;&amp; mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( 1 ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1ae787e73fa31f37ffb064f72715f01b19">QgsRaster::ContinuousPalette</a> )</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa5f86fa83c40452c66c90466eac486d5a">QgsRaster::SingleBandPseudoColor</a> );</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// Load color table</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    QList&lt;QgsColorRampShader::ColorRampItem&gt; colorTable = mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a0ac6b1b6f39d1991a315bfae64749699">colorTable</a>( 1 );</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *r = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *<span class="keyword">&gt;</span>( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() );</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> ( r )</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="comment">// TODO: this should go somewhere else</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="classQgsRasterShader.html">QgsRasterShader</a> *shader = <span class="keyword">new</span> <a class="code" href="classQgsRasterShader.html">QgsRasterShader</a>();</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *colorRampShader = <span class="keyword">new</span> <a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a>();</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      colorRampShader-&gt;<a class="code" href="classQgsColorRampShader.html#ab94f98322e4a172a19b81e037116395b">setColorRampType</a>( <a class="code" href="classQgsColorRampShader.html#a9d30694b4c16b0a23a69a44d3286d246a19f6eeeb60a86751d2562efcce1f7a73">QgsColorRampShader::Interpolated</a> );</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      colorRampShader-&gt;<a class="code" href="classQgsColorRampShader.html#ab7f5adc632e585c84367be3c6e957273">setColorRampItemList</a>( colorTable );</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      shader-&gt;<a class="code" href="classQgsRasterShader.html#aaab873ad98e3a214069cafae58d2f751">setRasterShaderFunction</a>( colorRampShader );</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      r-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a3053a88f15d4a7303eaac5d48c3e815c">setShader</a>( shader );</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mRasterType == <a class="code" href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13ac2869bc00168d3ddf616b4222c83bc93">Multiband</a> )</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa4b62535b72aaab42c18b044d5a54394c">QgsRaster::MultiBandColor</a> );  <span class="comment">//sensible default</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">else</span>                        <span class="comment">//GrayOrUndefined</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfac061b14942593ac8d041e1c045c9df7f">QgsRaster::SingleBandGray</a> );  <span class="comment">//sensible default</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="comment">// Auto set alpha band</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> bandNo = 1; bandNo &lt;= mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">bandCount</a>(); bandNo++ )</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">colorInterpretation</a>( bandNo ) == <a class="code" href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a6673fecadf2baea9635f1c1dcb748f1a">QgsRaster::AlphaBand</a> )</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> ( mPipe.<a class="code" href="classQgsRasterPipe.html#ab6be5e60409b5d75db107d8d83c84e3c">renderer</a>() )</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        mPipe.<a class="code" href="classQgsRasterPipe.html#ab6be5e60409b5d75db107d8d83c84e3c">renderer</a>()-&gt;<a class="code" href="classQgsRasterRenderer.html#a8e5994d54694fb33f1ff7b17b0593bcc">setAlphaBand</a>( bandNo );</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="comment">// brightness filter</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <a class="code" href="classQgsBrightnessContrastFilter.html">QgsBrightnessContrastFilter</a> *<a class="code" href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">brightnessFilter</a> = <span class="keyword">new</span> <a class="code" href="classQgsBrightnessContrastFilter.html">QgsBrightnessContrastFilter</a>();</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( brightnessFilter );</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// hue/saturation filter</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <a class="code" href="classQgsHueSaturationFilter.html">QgsHueSaturationFilter</a> *<a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a> = <span class="keyword">new</span> <a class="code" href="classQgsHueSaturationFilter.html">QgsHueSaturationFilter</a>();</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( hueSaturationFilter );</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">//resampler (must be after renderer)</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="classQgsRasterResampleFilter.html">QgsRasterResampleFilter</a> *<a class="code" href="classQgsRasterLayer.html#ac773ccb8156c286edf4dd1383d109fb3">resampleFilter</a> = <span class="keyword">new</span> <a class="code" href="classQgsRasterResampleFilter.html">QgsRasterResampleFilter</a>();</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( resampleFilter );</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// projector (may be anywhere in pipe)</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="classQgsRasterProjector.html">QgsRasterProjector</a> *projector = <span class="keyword">new</span> <a class="code" href="classQgsRasterProjector.html">QgsRasterProjector</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( projector );</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// Set default identify format - use the richest format available</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordtype">int</span> capabilities = mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#adb432fe846c0ca47321636f606128b99">capabilities</a>();</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6">QgsRaster::IdentifyFormat</a> identifyFormat = <a class="code" href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6ad479923d2eca37a6f07e9d1da8fab8db">QgsRaster::IdentifyFormatUndefined</a>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> ( capabilities &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05acb26e48d27a087df228b73e542b1f1d2">QgsRasterInterface::IdentifyHtml</a> )</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// HTML is usually richest</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    identifyFormat = <a class="code" href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6af6aed95d5d8235256871c9f27d126c0d">QgsRaster::IdentifyFormatHtml</a>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( capabilities &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aa107514876635dc1aa1812e4c00b1cbd">QgsRasterInterface::IdentifyFeature</a> )</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    identifyFormat = <a class="code" href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6a7538309a2a0fd9c74b824ee83b7db8c1">QgsRaster::IdentifyFormatFeature</a>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( capabilities &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aec5ee874e5e3a63ec621f5bb76a399f0">QgsRasterInterface::IdentifyText</a> )</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    identifyFormat = <a class="code" href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6ad4058a09b52fd61eaae2200c17d1a4d3">QgsRaster::IdentifyFormatText</a>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( capabilities &amp; <a class="code" href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05a3289d821c3ce98cc0152d083c040ab2e">QgsRasterInterface::IdentifyValue</a> )</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    identifyFormat = <a class="code" href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6abddd4a3ccc84c95df83e7bfdd8dbf9fe">QgsRaster::IdentifyFormatValue</a>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <a class="code" href="classQgsMapLayer.html#a7bf94cfa08abc37b75cc53dc921bb15e">setCustomProperty</a>( QStringLiteral( <span class="stringliteral">&quot;identify/format&quot;</span> ), <a class="code" href="classQgsRasterDataProvider.html#a9f664978aeeda03aadc113583b620351">QgsRasterDataProvider::identifyFormatName</a>( identifyFormat ) );</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// Store timestamp</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// TODO move to provider</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  mLastModified = <a class="code" href="classQgsRasterLayer.html#ad613abbb03e1e1bc6ed9c8b22bea8b6c">lastModified</a>( <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> );</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// Do a passthrough for the status bar text</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  connect( mDataProvider, &amp;<a class="code" href="classQgsRasterDataProvider.html#ac7f0ac3ac02c2dc4dd546a7883fcc745">QgsRasterDataProvider::statusChanged</a>, <span class="keyword">this</span>, &amp;<a class="code" href="classQgsMapLayer.html#a6257396f8801ec2abdf5afab67733465">QgsRasterLayer::statusChanged</a> );</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="comment">//mark the layer as valid</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;exiting.&quot;</span> ), 4 );</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a733cd12cd1a95248450d0b471996c53b">  798</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a733cd12cd1a95248450d0b471996c53b">QgsRasterLayer::setDataSource</a>( <span class="keyword">const</span> QString &amp;dataSource, <span class="keyword">const</span> QString &amp;baseName, <span class="keyword">const</span> QString &amp;provider, <span class="keyword">const</span> <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a> &amp;options, <span class="keywordtype">bool</span> loadDefaultStyleFlag )</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordtype">bool</span> wasValid( <a class="code" href="classQgsMapLayer.html#ab4d304ac4e8fbd610a00adfa4871845b">isValid</a>() );</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  QDomImplementation domImplementation;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  QDomDocumentType documentType;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  QDomDocument doc;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  QString errorMsg;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  QDomElement rootNode;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="comment">// Store the original style</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span> ( wasValid &amp;&amp; ! loadDefaultStyleFlag )</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    documentType = domImplementation.createDocumentType(</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                     QStringLiteral( <span class="stringliteral">&quot;qgis&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;http://mrcc.com/qgis.dtd&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;SYSTEM&quot;</span> ) );</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    doc = QDomDocument( documentType );</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    rootNode = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;qgis&quot;</span> ) );</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    rootNode.setAttribute( QStringLiteral( <span class="stringliteral">&quot;version&quot;</span> ), <a class="code" href="classQgis.html#a5f3df28965caa574493856e7fab01689">Qgis::QGIS_VERSION</a> );</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    doc.appendChild( rootNode );</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> writeContext;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span> ( ! <a class="code" href="classQgsRasterLayer.html#a2ab7bdb03899bfdadaf8ac87a4a012d2">writeSymbology</a>( rootNode, doc, errorMsg, writeContext ) )</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;Could not store symbology for layer %1: %2&quot;</span> )</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                   .arg( <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>() )</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                   .arg( errorMsg ) );</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider )</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    closeDataProvider();</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  init();</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = mPipe.<a class="code" href="classQgsRasterPipe.html#a01ed8775cf7c580ed193fddac322bbb0">size</a>() - 1; i &gt;= 0; --i )</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    mPipe.<a class="code" href="classQgsRasterPipe.html#a8ab6a9c3704a8db7cb1ca17064e87ef2">remove</a>( i );</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> = dataSource;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <a class="code" href="classQgsMapLayer.html#a464d8e4b13310c587dd3754db88d604f">mLayerName</a> = baseName;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">setDataProvider</a>( provider, options );</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> )</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// load default style</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">bool</span> defaultLoadedFlag = <span class="keyword">false</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> ( loadDefaultStyleFlag )</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <a class="code" href="classQgsMapLayer.html#a44d7dceef01f180c0db76b2d346fad2f">loadDefaultStyle</a>( defaultLoadedFlag );</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( wasValid &amp;&amp; errorMsg.isEmpty() )  <span class="comment">// Restore the style</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> readContext;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">if</span> ( ! <a class="code" href="classQgsRasterLayer.html#ac35584be06e26baf799a522426afdfd8">readSymbology</a>( rootNode, errorMsg, readContext ) )</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;Could not restore symbology for layer %1: %2&quot;</span> )</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                     .arg( <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>() )</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                     .arg( errorMsg ) );</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span> ( !defaultLoadedFlag )</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <a class="code" href="classQgsRasterLayer.html#a9e50b426709d314b7d840c94ec628cc3">setDefaultContrastEnhancement</a>();</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a6257396f8801ec2abdf5afab67733465">statusChanged</a>( tr( <span class="stringliteral">&quot;QgsRasterLayer created&quot;</span> ) );</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  emit <a class="code" href="classQgsMapLayer.html#a8586c80375937101c16d0ef8e499316c">dataSourceChanged</a>();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  emit <a class="code" href="classQgsMapLayer.html#a9a99625af1f7d08d843b2984bb41c476">dataChanged</a>();</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="keywordtype">void</span> QgsRasterLayer::closeDataProvider()</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;{</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a8ab6a9c3704a8db7cb1ca17064e87ef2">remove</a>( mDataProvider );</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  mDataProvider = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="keywordtype">void</span> QgsRasterLayer::computeMinMax( <span class="keywordtype">int</span> band,</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classQgsRasterMinMaxOrigin.html">QgsRasterMinMaxOrigin</a> &amp;mmo,</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                    <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a> limits,</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classQgsRectangle.html">QgsRectangle</a> &amp;<a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>,</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                    <span class="keywordtype">int</span> sampleSize,</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                    <span class="keywordtype">double</span> &amp;min, <span class="keywordtype">double</span> &amp;max )</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;{</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  min = std::numeric_limits&lt;double&gt;::quiet_NaN();</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  max = std::numeric_limits&lt;double&gt;::quiet_NaN();</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">if</span> ( limits == <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9aa6e755e218bddff18c1aa9795172858e">QgsRasterMinMaxOrigin::MinMax</a> )</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="classQgsRasterBandStats.html">QgsRasterBandStats</a> myRasterBandStats = mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#aaa39473935ac32b7b38970fed2ffaaac">bandStatistics</a>( band, <a class="code" href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba193d01dc9542f4d5f8b268da23bfac4f">QgsRasterBandStats::Min</a> | <a class="code" href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba0d18f9b8691953850284e098d20fe739">QgsRasterBandStats::Max</a>, extent, sampleSize );</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    min = myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#a64e79039aa1fd84ea84a494da8d025ed">minimumValue</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    max = myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#aa80ae5e17e931f82f32a7d3702f42588">maximumValue</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( limits == <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9a1654a8e14fc9ff251891836a678d3377">QgsRasterMinMaxOrigin::StdDev</a> )</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="classQgsRasterBandStats.html">QgsRasterBandStats</a> myRasterBandStats = mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#aaa39473935ac32b7b38970fed2ffaaac">bandStatistics</a>( band, <a class="code" href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba5a91f2b3639c42cdc0dcc57fb021d9d8">QgsRasterBandStats::Mean</a> | <a class="code" href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba5ef5f761d227f4eda13ce723fb955c48">QgsRasterBandStats::StdDev</a>, extent, sampleSize );</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    min = myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#a59c31d267e0ce60e43a6b8615fc4ab5a">mean</a> - ( mmo.<a class="code" href="classQgsRasterMinMaxOrigin.html#a45219f2a4944ab2645be0cd768a48766">stdDevFactor</a>() * myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#a6250415bdfeefdb851763a24f7f30026">stdDev</a> );</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    max = myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#a59c31d267e0ce60e43a6b8615fc4ab5a">mean</a> + ( mmo.<a class="code" href="classQgsRasterMinMaxOrigin.html#a45219f2a4944ab2645be0cd768a48766">stdDevFactor</a>() * myRasterBandStats.<a class="code" href="classQgsRasterBandStats.html#a6250415bdfeefdb851763a24f7f30026">stdDev</a> );</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( limits == <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9adc0e1191b187fcf73a66680150373951">QgsRasterMinMaxOrigin::CumulativeCut</a> )</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> myLower = mmo.<a class="code" href="classQgsRasterMinMaxOrigin.html#a1b3c9b34c80e055464eca7ea648d6b5c">cumulativeCutLower</a>();</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> myUpper = mmo.<a class="code" href="classQgsRasterMinMaxOrigin.html#a858761ece9d239c49ed3b54c37a4d53e">cumulativeCutUpper</a>();</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;myLower = %1 myUpper = %2&quot;</span> ).arg( myLower ).arg( myUpper ), 4 );</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a0754453f6588941a102e9c5effb7423c">cumulativeCut</a>( band, myLower, myUpper, min, max, extent, sampleSize );</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;band = %1 min = %2 max = %3&quot;</span> ).arg( band ).arg( min ).arg( max ), 4 );</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">  914</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">QgsRasterLayer::setContrastEnhancement</a>( <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a> <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>, <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a> limits, <span class="keyword">const</span> <a class="code" href="classQgsRectangle.html">QgsRectangle</a> &amp;extent, <span class="keywordtype">int</span> sampleSize, <span class="keywordtype">bool</span> generateLookupTableFlag )</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">setContrastEnhancement</a>( algorithm,</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                          limits,</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                          extent,</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                          sampleSize,</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                          generateLookupTableFlag,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                          mPipe.<a class="code" href="classQgsRasterPipe.html#ab6be5e60409b5d75db107d8d83c84e3c">renderer</a>() );</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">QgsRasterLayer::setContrastEnhancement</a>( <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a> <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>,</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a> limits,</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQgsRectangle.html">QgsRectangle</a> &amp;extent,</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordtype">int</span> sampleSize,</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordtype">bool</span> generateLookupTableFlag,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <a class="code" href="classQgsRasterRenderer.html">QgsRasterRenderer</a> *rasterRenderer )</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;{</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;theAlgorithm = %1 limits = %2 extent.isEmpty() = %3&quot;</span> ).arg( <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> ).arg( limits ).arg( extent.<a class="code" href="classQgsRectangle.html#ac5d660b2ad11bf1e1db7f61e03e12ba6">isEmpty</a>() ), 4 );</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordflow">if</span> ( !rasterRenderer || !mDataProvider )</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  QList&lt;int&gt; myBands;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  QList&lt;QgsContrastEnhancement *&gt; myEnhancements;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="classQgsRasterMinMaxOrigin.html">QgsRasterMinMaxOrigin</a> myMinMaxOrigin;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="classQgsRasterRenderer.html">QgsRasterRenderer</a> *myRasterRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classQgsSingleBandGrayRenderer.html">QgsSingleBandGrayRenderer</a> *myGrayRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *myPseudoColorRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *myMultiBandRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  QString rendererType  = rasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#a29be6baa7f0cb6555bff4f8bf491f6dd">type</a>();</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> ( rendererType == QLatin1String( <span class="stringliteral">&quot;singlebandgray&quot;</span> ) )</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    myGrayRenderer = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsSingleBandGrayRenderer.html">QgsSingleBandGrayRenderer</a> *<span class="keyword">&gt;</span>( rasterRenderer );</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> ( !myGrayRenderer )</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    myBands &lt;&lt; myGrayRenderer-&gt;<a class="code" href="classQgsSingleBandGrayRenderer.html#a30045387aa27b9b0284ae8b2b9bdfdca">grayBand</a>();</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    myRasterRenderer = myGrayRenderer;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    myMinMaxOrigin = myGrayRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>();</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( rendererType == QLatin1String( <span class="stringliteral">&quot;multibandcolor&quot;</span> ) )</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    myMultiBandRenderer = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *<span class="keyword">&gt;</span>( rasterRenderer );</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> ( !myMultiBandRenderer )</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    myBands &lt;&lt; myMultiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#ade99403b2027b1269f15d85921f441f5">redBand</a>() &lt;&lt; myMultiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#afca7f3c5bd92305ba74040b012c82fa2">greenBand</a>() &lt;&lt; myMultiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a6bb5ba0beb30f4e4c7b4bd21eeecbbde">blueBand</a>();</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    myRasterRenderer = myMultiBandRenderer;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    myMinMaxOrigin = myMultiBandRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>();</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( rendererType == QLatin1String( <span class="stringliteral">&quot;singlebandpseudocolor&quot;</span> ) )</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    myPseudoColorRenderer = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *<span class="keyword">&gt;</span>( rasterRenderer );</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> ( !myPseudoColorRenderer )</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    myBands &lt;&lt; myPseudoColorRenderer-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a21a97faf415a590d9bb33fe931a67705">band</a>();</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    myRasterRenderer = myPseudoColorRenderer;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    myMinMaxOrigin = myPseudoColorRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>();</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> constMyBands = myBands;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> myBand : constMyBands )</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> ( myBand != -1 )</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5">Qgis::DataType</a> myType = <span class="keyword">static_cast&lt;</span> <a class="code" href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5">Qgis::DataType</a> <span class="keyword">&gt;</span>( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a8c5dcd2b095725610d6755d1c7de5985">dataType</a>( myBand ) );</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      std::unique_ptr&lt;QgsContrastEnhancement&gt; myEnhancement( <span class="keyword">new</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a>( static_cast&lt; Qgis::DataType &gt;( myType ) ) );</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      myEnhancement-&gt;setContrastEnhancementAlgorithm( <a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a>, generateLookupTableFlag );</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordtype">double</span> min;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordtype">double</span> max;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      computeMinMax( myBand, myMinMaxOrigin, limits, extent, sampleSize, min, max );</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">if</span> ( rendererType == QLatin1String( <span class="stringliteral">&quot;singlebandpseudocolor&quot;</span> ) )</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        myPseudoColorRenderer-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a0159506037010841e13404e7379cfe7f">setClassificationMin</a>( min );</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        myPseudoColorRenderer-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a5330c17a6201cc74691795ea5bc83d19">setClassificationMax</a>( max );</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span> ( myPseudoColorRenderer-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">shader</a>() )</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          <a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *colorRampShader = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *<span class="keyword">&gt;</span>( myPseudoColorRenderer-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">shader</a>()-&gt;<a class="code" href="classQgsRasterShader.html#a38d70b2336cad799a1b422c32a45a692">rasterShaderFunction</a>() );</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          <span class="keywordflow">if</span> ( colorRampShader )</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;          {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            colorRampShader-&gt;<a class="code" href="classQgsColorRampShader.html#aa5dea703e378e4881167303287d7d213">classifyColorRamp</a>( myPseudoColorRenderer-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a21a97faf415a590d9bb33fe931a67705">band</a>(), <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>, myPseudoColorRenderer-&gt;<a class="code" href="classQgsRasterInterface.html#a5133e64fa9b646ba44ba970e58ba7de1">input</a>() );</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;          }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        myEnhancement-&gt;setMinimumValue( min );</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        myEnhancement-&gt;setMaximumValue( max );</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        myEnhancements.append( myEnhancement.release() );</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      myEnhancements.append( <span class="keyword">nullptr</span> );</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> ( rendererType == QLatin1String( <span class="stringliteral">&quot;singlebandgray&quot;</span> ) )</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> ( myEnhancements.first() ) myGrayRenderer-&gt;<a class="code" href="classQgsSingleBandGrayRenderer.html#a2b6605366fe935e65965a66beeb886e6">setContrastEnhancement</a>( myEnhancements.takeFirst() );</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( rendererType == QLatin1String( <span class="stringliteral">&quot;multibandcolor&quot;</span> ) )</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">if</span> ( myEnhancements.first() ) myMultiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#ab8093d31cf49acd259157971a75f26d4">setRedContrastEnhancement</a>( myEnhancements.takeFirst() );</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> ( myEnhancements.first() ) myMultiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a74f71dffb733c91d38be82de7a99370d">setGreenContrastEnhancement</a>( myEnhancements.takeFirst() );</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span> ( myEnhancements.first() ) myMultiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#aa7ddcb21c1101e1adfda8c51bcd77630">setBlueContrastEnhancement</a>( myEnhancements.takeFirst() );</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  }</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">//delete all remaining unused enhancements</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  qDeleteAll( myEnhancements );</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  myMinMaxOrigin.<a class="code" href="classQgsRasterMinMaxOrigin.html#a49a8589fa9b4de8844018ef0c8c83c13">setLimits</a>( limits );</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">if</span> ( extent != <a class="code" href="classQgsRectangle.html">QgsRectangle</a>() &amp;&amp;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;       myMinMaxOrigin.<a class="code" href="classQgsRasterMinMaxOrigin.html#ae155b03a06053abaa359c5a34442a797">extent</a>() == <a class="code" href="classQgsRasterMinMaxOrigin.html#a68c9d4a7af67828f51525da85edf66b3a8f67134beb176a04e1ba2197b3501fc3">QgsRasterMinMaxOrigin::WholeRaster</a> )</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    myMinMaxOrigin.<a class="code" href="classQgsRasterMinMaxOrigin.html#a08c44cbdad7b5ff49f726d40bcd15df9">setExtent</a>( <a class="code" href="classQgsRasterMinMaxOrigin.html#a68c9d4a7af67828f51525da85edf66b3a491e36488821d1f426900c4fce599ccb">QgsRasterMinMaxOrigin::CurrentCanvas</a> );</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keywordflow">if</span> ( myRasterRenderer )</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    myRasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#a395a45ed57fb7c2809061eb6710a90e4">setMinMaxOrigin</a>( myMinMaxOrigin );</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">if</span> ( rasterRenderer == <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() )</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#ac82373970429eac2c9f41cd14b502020">repaintRequested</a>();</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a7efb74093c89746f192be5320568d38c">styleChanged</a>();</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a80c0ffdd172ec6ebe6f0e2937d408ecd">rendererChanged</a>();</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a37b949daebf3cb52eb1a15a02b1dbb87"> 1055</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a37b949daebf3cb52eb1a15a02b1dbb87">QgsRasterLayer::refreshContrastEnhancement</a>( <span class="keyword">const</span> <a class="code" href="classQgsRectangle.html">QgsRectangle</a> &amp;extent )</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;{</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="classQgsSingleBandGrayRenderer.html">QgsSingleBandGrayRenderer</a> *singleBandRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *multiBandRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keyword">const</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a> *ce = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">if</span> ( ( singleBandRenderer = dynamic_cast&lt;QgsSingleBandGrayRenderer *&gt;( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() ) ) )</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    ce = singleBandRenderer-&gt;<a class="code" href="classQgsSingleBandGrayRenderer.html#a75db094df0f539b201e26129fdb02c28">contrastEnhancement</a>();</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( multiBandRenderer = dynamic_cast&lt;QgsMultiBandColorRenderer *&gt;( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() ) ) )</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    ce = multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a22129983ce402c6b7912b1b3ca1e8905">redContrastEnhancement</a>();</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">if</span> ( ce )</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">setContrastEnhancement</a>( ce-&gt;<a class="code" href="classQgsContrastEnhancement.html#ad7c5c0d73b29fee8bf8fd46d1465dd66">contrastEnhancementAlgorithm</a>() == <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a9d951ea968c1c317b422d33ebe568d5a">QgsContrastEnhancement::NoEnhancement</a> ?</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                            <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a0819c23941809548e46a27301d56cca8">QgsContrastEnhancement::StretchToMinimumMaximum</a> : ce-&gt;<a class="code" href="classQgsContrastEnhancement.html#ad7c5c0d73b29fee8bf8fd46d1465dd66">contrastEnhancementAlgorithm</a>(),</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                            <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>()-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>().<a class="code" href="classQgsRasterMinMaxOrigin.html#a42a434f5e01d58abb251b2a2af621364">limits</a>() == <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9a599b47fb9a1dac1ac8411c0453aa7a95">QgsRasterMinMaxOrigin::None</a> ?</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                            <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9aa6e755e218bddff18c1aa9795172858e">QgsRasterMinMaxOrigin::MinMax</a> : <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>()-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>().<a class="code" href="classQgsRasterMinMaxOrigin.html#a42a434f5e01d58abb251b2a2af621364">limits</a>(),</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                            <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>,</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                            <a class="code" href="classQgsRasterLayer.html#a9f6092d931fc549266b2c992d7e9f709">SAMPLE_SIZE</a>,</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                            <span class="keyword">true</span>,</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                            <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() );</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a> myAlgorithm;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a> myLimits;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#a066fb7ee41f0fc1b0a350fc57933e9c0">defaultContrastEnhancementSettings</a>( myAlgorithm, myLimits ) )</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">setContrastEnhancement</a>( <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a0819c23941809548e46a27301d56cca8">QgsContrastEnhancement::StretchToMinimumMaximum</a>,</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                              myLimits,</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                              extent,</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                              <a class="code" href="classQgsRasterLayer.html#a9f6092d931fc549266b2c992d7e9f709">SAMPLE_SIZE</a>,</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                              <span class="keyword">true</span>,</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                              <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() );</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a5285451327946519147e4e06f593348a"> 1096</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a5285451327946519147e4e06f593348a">QgsRasterLayer::refreshRendererIfNeeded</a>( <a class="code" href="classQgsRasterRenderer.html">QgsRasterRenderer</a> *rasterRenderer,</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQgsRectangle.html">QgsRectangle</a> &amp;extent )</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">if</span> ( !( mDataProvider &amp;&amp;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;          mLastRectangleUsedByRefreshContrastEnhancementIfNeeded != extent &amp;&amp;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;          rasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>().<a class="code" href="classQgsRasterMinMaxOrigin.html#a42a434f5e01d58abb251b2a2af621364">limits</a>() != <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9a599b47fb9a1dac1ac8411c0453aa7a95">QgsRasterMinMaxOrigin::None</a> &amp;&amp;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;          rasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>().<a class="code" href="classQgsRasterMinMaxOrigin.html#ae155b03a06053abaa359c5a34442a797">extent</a>() == <a class="code" href="classQgsRasterMinMaxOrigin.html#a68c9d4a7af67828f51525da85edf66b3a330ac856c6065e8d6c15659cde43c17b">QgsRasterMinMaxOrigin::UpdatedCanvas</a> ) )</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <a class="code" href="classQgsSingleBandGrayRenderer.html">QgsSingleBandGrayRenderer</a> *singleBandRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *multiBandRenderer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *sbpcr = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keyword">const</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a> *ce = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keywordflow">if</span> ( ( singleBandRenderer = dynamic_cast&lt;QgsSingleBandGrayRenderer *&gt;( rasterRenderer ) ) )</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    ce = singleBandRenderer-&gt;<a class="code" href="classQgsSingleBandGrayRenderer.html#a75db094df0f539b201e26129fdb02c28">contrastEnhancement</a>();</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( multiBandRenderer = dynamic_cast&lt;QgsMultiBandColorRenderer *&gt;( rasterRenderer ) ) )</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  {</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    ce = multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a22129983ce402c6b7912b1b3ca1e8905">redContrastEnhancement</a>();</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( sbpcr = dynamic_cast&lt;QgsSingleBandPseudoColorRenderer *&gt;( rasterRenderer ) ) )</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    mLastRectangleUsedByRefreshContrastEnhancementIfNeeded = <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordtype">double</span> min;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordtype">double</span> max;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    computeMinMax( sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a21a97faf415a590d9bb33fe931a67705">band</a>(),</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                   rasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>(),</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                   rasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>().<a class="code" href="classQgsRasterMinMaxOrigin.html#a42a434f5e01d58abb251b2a2af621364">limits</a>(), <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>,</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                   <a class="code" href="classQgsRasterLayer.html#a9f6092d931fc549266b2c992d7e9f709">SAMPLE_SIZE</a>, min, max );</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a0159506037010841e13404e7379cfe7f">setClassificationMin</a>( min );</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a5330c17a6201cc74691795ea5bc83d19">setClassificationMax</a>( max );</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> ( sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">shader</a>() )</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *colorRampShader = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *<span class="keyword">&gt;</span>( sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">shader</a>()-&gt;<a class="code" href="classQgsRasterShader.html#a38d70b2336cad799a1b422c32a45a692">rasterShaderFunction</a>() );</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keywordflow">if</span> ( colorRampShader )</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        colorRampShader-&gt;<a class="code" href="classQgsColorRampShader.html#aa5dea703e378e4881167303287d7d213">classifyColorRamp</a>( sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a21a97faf415a590d9bb33fe931a67705">band</a>(), <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>, rasterRenderer-&gt;<a class="code" href="classQgsRasterInterface.html#a5133e64fa9b646ba44ba970e58ba7de1">input</a>() );</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *r = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a> *<span class="keyword">&gt;</span>( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() );</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    r-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a0159506037010841e13404e7379cfe7f">setClassificationMin</a>( min );</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    r-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a5330c17a6201cc74691795ea5bc83d19">setClassificationMax</a>( max );</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span> ( r-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">shader</a>() )</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *colorRampShader = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classQgsColorRampShader.html">QgsColorRampShader</a> *<span class="keyword">&gt;</span>( r-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">shader</a>()-&gt;<a class="code" href="classQgsRasterShader.html#a38d70b2336cad799a1b422c32a45a692">rasterShaderFunction</a>() );</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="keywordflow">if</span> ( colorRampShader )</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        colorRampShader-&gt;<a class="code" href="classQgsColorRampShader.html#aa5dea703e378e4881167303287d7d213">classifyColorRamp</a>( sbpcr-&gt;<a class="code" href="classQgsSingleBandPseudoColorRenderer.html#a21a97faf415a590d9bb33fe931a67705">band</a>(), <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>, rasterRenderer-&gt;<a class="code" href="classQgsRasterInterface.html#a5133e64fa9b646ba44ba970e58ba7de1">input</a>() );</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#ac82373970429eac2c9f41cd14b502020">repaintRequested</a>();</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a7efb74093c89746f192be5320568d38c">styleChanged</a>();</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a80c0ffdd172ec6ebe6f0e2937d408ecd">rendererChanged</a>();</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  }</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">if</span> ( ce &amp;&amp;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;       ce-&gt;<a class="code" href="classQgsContrastEnhancement.html#ad7c5c0d73b29fee8bf8fd46d1465dd66">contrastEnhancementAlgorithm</a>() != <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a9d951ea968c1c317b422d33ebe568d5a">QgsContrastEnhancement::NoEnhancement</a> )</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    mLastRectangleUsedByRefreshContrastEnhancementIfNeeded = <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">setContrastEnhancement</a>( ce-&gt;<a class="code" href="classQgsContrastEnhancement.html#ad7c5c0d73b29fee8bf8fd46d1465dd66">contrastEnhancementAlgorithm</a>(),</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                            rasterRenderer-&gt;<a class="code" href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">minMaxOrigin</a>().<a class="code" href="classQgsRasterMinMaxOrigin.html#a42a434f5e01d58abb251b2a2af621364">limits</a>(),</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                            <a class="code" href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">extent</a>,</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                            <a class="code" href="classQgsRasterLayer.html#a9f6092d931fc549266b2c992d7e9f709">SAMPLE_SIZE</a>,</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                            <span class="keyword">true</span>,</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                            rasterRenderer );</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">// Update main renderer so that the legends get updated</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">if</span> ( singleBandRenderer )</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="classQgsSingleBandGrayRenderer.html">QgsSingleBandGrayRenderer</a> *<span class="keyword">&gt;</span>( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() )-&gt;<a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">setContrastEnhancement</a>( <span class="keyword">new</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a>( * singleBandRenderer-&gt;<a class="code" href="classQgsSingleBandGrayRenderer.html#a75db094df0f539b201e26129fdb02c28">contrastEnhancement</a>() ) );</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( multiBandRenderer )</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="keywordflow">if</span> ( multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a22129983ce402c6b7912b1b3ca1e8905">redContrastEnhancement</a>() )</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *<span class="keyword">&gt;</span>( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() )-&gt;setRedContrastEnhancement( <span class="keyword">new</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a>( *multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a22129983ce402c6b7912b1b3ca1e8905">redContrastEnhancement</a>() ) );</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">if</span> ( multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#afdb2d3a3d555d8b98c9d87150e848cd7">greenContrastEnhancement</a>() )</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *<span class="keyword">&gt;</span>( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() )-&gt;setGreenContrastEnhancement( <span class="keyword">new</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a>( *multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#afdb2d3a3d555d8b98c9d87150e848cd7">greenContrastEnhancement</a>() ) );</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="keywordflow">if</span> ( multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a3e3aea8e2aacbf1e18ff3c57e1714d33">blueContrastEnhancement</a>() )</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a> *<span class="keyword">&gt;</span>( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() )-&gt;setBlueContrastEnhancement( <span class="keyword">new</span> <a class="code" href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a>( *multiBandRenderer-&gt;<a class="code" href="classQgsMultiBandColorRenderer.html#a3e3aea8e2aacbf1e18ff3c57e1714d33">blueContrastEnhancement</a>() ) );</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    }</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a7efb74093c89746f192be5320568d38c">styleChanged</a>();</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a80c0ffdd172ec6ebe6f0e2937d408ecd">rendererChanged</a>();</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a066fb7ee41f0fc1b0a350fc57933e9c0"> 1193</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#a066fb7ee41f0fc1b0a350fc57933e9c0">QgsRasterLayer::defaultContrastEnhancementSettings</a>(</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a> &amp;myAlgorithm,</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a> &amp;myLimits )<span class="keyword"> const</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="classQgsSettings.html">QgsSettings</a> mySettings;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  QString key;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  QString defaultAlg;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  QString defaultLimits;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// TODO: we should not test renderer class here, move it somehow to renderers</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">if</span> ( dynamic_cast&lt;QgsSingleBandGrayRenderer *&gt;( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() ) )</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  {</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    key = QStringLiteral( <span class="stringliteral">&quot;singleBand&quot;</span> );</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    defaultAlg = <a class="code" href="classQgsContrastEnhancement.html#a24f33a9a0b645659178e46623cb15abb">QgsContrastEnhancement::contrastEnhancementAlgorithmString</a>(</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                   <a class="code" href="classQgsRasterLayer.html#ae0cb845971ece438215a1794fed3ac2f">SINGLE_BAND_ENHANCEMENT_ALGORITHM</a> );</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    defaultLimits = <a class="code" href="classQgsRasterMinMaxOrigin.html#a1346d2968bb9f5b0d185b7ca56ddc309">QgsRasterMinMaxOrigin::limitsString</a>(</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                      <a class="code" href="classQgsRasterLayer.html#a7bb9eb150fe422864ea129e221c5fb57">SINGLE_BAND_MIN_MAX_LIMITS</a> );</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( dynamic_cast&lt;QgsMultiBandColorRenderer *&gt;( <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() ) )</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterBlock.html#aa7a9ee70ea9b88d8bfed9a7ecbbf2ba6">QgsRasterBlock::typeSize</a>( <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>()-&gt;sourceDataType( 1 ) ) == 1 )</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    {</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      key = QStringLiteral( <span class="stringliteral">&quot;multiBandSingleByte&quot;</span> );</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      defaultAlg = <a class="code" href="classQgsContrastEnhancement.html#a24f33a9a0b645659178e46623cb15abb">QgsContrastEnhancement::contrastEnhancementAlgorithmString</a>(</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                     <a class="code" href="classQgsRasterLayer.html#a4f3c7abdee90f23ab6ef817b9407104f">MULTIPLE_BAND_SINGLE_BYTE_ENHANCEMENT_ALGORITHM</a> );</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      defaultLimits = <a class="code" href="classQgsRasterMinMaxOrigin.html#a1346d2968bb9f5b0d185b7ca56ddc309">QgsRasterMinMaxOrigin::limitsString</a>(</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                        <a class="code" href="classQgsRasterLayer.html#aa075a30456ddc5c380d12693484371be">MULTIPLE_BAND_SINGLE_BYTE_MIN_MAX_LIMITS</a> );</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    }</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      key = QStringLiteral( <span class="stringliteral">&quot;multiBandMultiByte&quot;</span> );</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      defaultAlg = <a class="code" href="classQgsContrastEnhancement.html#a24f33a9a0b645659178e46623cb15abb">QgsContrastEnhancement::contrastEnhancementAlgorithmString</a>(</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                     <a class="code" href="classQgsRasterLayer.html#aa2fbf2400cc7859986b6739b946f5b72">MULTIPLE_BAND_MULTI_BYTE_ENHANCEMENT_ALGORITHM</a> );</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      defaultLimits = <a class="code" href="classQgsRasterMinMaxOrigin.html#a1346d2968bb9f5b0d185b7ca56ddc309">QgsRasterMinMaxOrigin::limitsString</a>(</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                        <a class="code" href="classQgsRasterLayer.html#a82872a2bd95a1d65edb827aa9063baef">MULTIPLE_BAND_MULTI_BYTE_MIN_MAX_LIMITS</a> );</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">if</span> ( key.isEmpty() )</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;No default contrast enhancement for this drawing style&quot;</span> ) );</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    myAlgorithm = <a class="code" href="classQgsContrastEnhancement.html#a26a009ae7d96a2901b01da4389d91bca">QgsContrastEnhancement::contrastEnhancementAlgorithmFromString</a>( QString() );</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    myLimits = <a class="code" href="classQgsRasterMinMaxOrigin.html#adae7f787fd19aa6b496f23a51e4a21b9">QgsRasterMinMaxOrigin::limitsFromString</a>( QString() );</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;key = &quot;</span> + key, 4 );</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  QString myAlgorithmString = mySettings.<a class="code" href="classQgsSettings.html#a4398513cdbed73f4bacfde90a9170b6f">value</a>( <span class="stringliteral">&quot;/Raster/defaultContrastEnhancementAlgorithm/&quot;</span> + key, defaultAlg ).toString();</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;myAlgorithmString = &quot;</span> + myAlgorithmString, 4 );</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  myAlgorithm = <a class="code" href="classQgsContrastEnhancement.html#a26a009ae7d96a2901b01da4389d91bca">QgsContrastEnhancement::contrastEnhancementAlgorithmFromString</a>( myAlgorithmString );</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  QString myLimitsString = mySettings.<a class="code" href="classQgsSettings.html#a4398513cdbed73f4bacfde90a9170b6f">value</a>( <span class="stringliteral">&quot;/Raster/defaultContrastEnhancementLimits/&quot;</span> + key, defaultLimits ).toString();</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( <span class="stringliteral">&quot;myLimitsString = &quot;</span> + myLimitsString, 4 );</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  myLimits = <a class="code" href="classQgsRasterMinMaxOrigin.html#adae7f787fd19aa6b496f23a51e4a21b9">QgsRasterMinMaxOrigin::limitsFromString</a>( myLimitsString );</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a9e50b426709d314b7d840c94ec628cc3"> 1253</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a9e50b426709d314b7d840c94ec628cc3">QgsRasterLayer::setDefaultContrastEnhancement</a>()</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;{</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Entered&quot;</span> ), 4 );</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <a class="code" href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a> myAlgorithm;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a> myLimits;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a066fb7ee41f0fc1b0a350fc57933e9c0">defaultContrastEnhancementSettings</a>( myAlgorithm, myLimits );</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">setContrastEnhancement</a>( myAlgorithm, myLimits );</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;}</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af83149ef0bae9b60f70414af70b7d3d7"> 1264</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#af83149ef0bae9b60f70414af70b7d3d7">QgsRasterLayer::setLayerOrder</a>( QStringList <span class="keyword">const</span> &amp;layers )</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;entered.&quot;</span> ), 4 );</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider )</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;About to mDataProvider-&gt;setLayerOrder(layers).&quot;</span> ), 4 );</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#a0cf28542bcea779cb93d3fd67cd623c0">setLayerOrder</a>( layers );</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a6d60ea7dadf340a5c55dab0ea87c2369"> 1276</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a6d60ea7dadf340a5c55dab0ea87c2369">QgsRasterLayer::setSubLayerVisibility</a>( <span class="keyword">const</span> QString &amp;<a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>, <span class="keywordtype">bool</span> vis )</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;{</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider )</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;About to mDataProvider-&gt;setSubLayerVisibility(name, vis).&quot;</span> ), 4 );</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#af1e9e5f613bc26aad36321e789801366">setSubLayerVisibility</a>( name, vis );</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af34c448aeed9b678e07d6150188ba242"> 1287</a></span>&#160;QDateTime <a class="code" href="classQgsRasterLayer.html#af34c448aeed9b678e07d6150188ba242">QgsRasterLayer::timestamp</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a84ae0d3b43181f97eeca04af2fe69f80">timestamp</a>();</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#acf7dc47492c36f8ecd15a0fb129d08f4"> 1293</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#acf7dc47492c36f8ecd15a0fb129d08f4">QgsRasterLayer::writeSld</a>( QDomNode &amp;node, QDomDocument &amp;doc, QString &amp;errorMessage, <span class="keyword">const</span> <a class="code" href="qgis_8h.html#ab13d4e9821da606b92748097c691b9dd">QgsStringMap</a> &amp;props )<span class="keyword"> const</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  Q_UNUSED( errorMessage )</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="qgis_8h.html#ab13d4e9821da606b92748097c691b9dd">QgsStringMap</a> localProps = <a class="code" href="qgis_8h.html#ab13d4e9821da606b92748097c691b9dd">QgsStringMap</a>( props );</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#a8b1e61edeca056f552fe01438155dbde">hasScaleBasedVisibility</a>() )</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="comment">// TODO: QgsSymbolLayerUtils::mergeScaleDependencies generate SE only and not SLD1.0</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <a class="code" href="classQgsSymbolLayerUtils.html#a8247ffdbccef279472f7ee38cd7e4232">QgsSymbolLayerUtils::mergeScaleDependencies</a>( <a class="code" href="classQgsMapLayer.html#af521ebe03daa523188ca746ed147c7fd">maximumScale</a>(), <a class="code" href="classQgsMapLayer.html#ac48abcf34770c8ccf129b3347d81c62a">minimumScale</a>(), localProps );</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#aab986300fe8b66d0b74a7e4c68002fed">isSpatial</a>() ) <span class="comment">// TODO: does it make sense this control?</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// store constraints</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    QDomElement constraintElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:LayerFeatureConstraints&quot;</span> ) );</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    node.appendChild( constraintElem );</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    QDomElement featureTypeConstraintElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:FeatureTypeConstraint&quot;</span> ) );</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    constraintElem.appendChild( featureTypeConstraintElem );</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    QDomElement userStyleElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:UserStyle&quot;</span> ) );</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    node.appendChild( userStyleElem );</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>().isEmpty() )</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      QDomElement nameElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:Name&quot;</span> ) );</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      nameElem.appendChild( doc.createTextNode( <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>() ) );</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      userStyleElem.appendChild( nameElem );</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> ( !<span class="keyword">abstract</span>().isEmpty() )</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      QDomElement abstractElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:Abstract&quot;</span> ) );</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      abstractElem.appendChild( doc.createTextNode( <span class="keyword">abstract</span>() ) );</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      userStyleElem.appendChild( abstractElem );</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="classQgsMapLayer.html#a8156ad4f3130cdfdea47ea4d8161d727">title</a>().isEmpty() )</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      QDomElement titleElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:Title&quot;</span> ) );</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      titleElem.appendChild( doc.createTextNode( <a class="code" href="classQgsMapLayer.html#a8156ad4f3130cdfdea47ea4d8161d727">title</a>() ) );</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      userStyleElem.appendChild( titleElem );</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    QDomElement featureTypeStyleElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:FeatureTypeStyle&quot;</span> ) );</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    userStyleElem.appendChild( featureTypeStyleElem );</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">// TODO: Is there a way to fill it&#39;s value with the named style?</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// by default &lt;sld:Name&gt; under &lt;sld:FeatureTypeStyle&gt; can have 0 occurrences</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">// the same happen for tags:</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// sld:Title</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="comment">// sld:Abstract</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">// sld:FeatureTypeName</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">// sld:SemanticTypeIdentifier</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    QDomElement typeStyleNameElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:Name&quot;</span> ) );</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    featureTypeStyleElem.appendChild( typeStyleNameElem );</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    QDomElement typeStyleRuleElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:Rule&quot;</span> ) );</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    featureTypeStyleElem.appendChild( typeStyleRuleElem );</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="comment">// add ScaleDenominator tags</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#a8b1e61edeca056f552fe01438155dbde">hasScaleBasedVisibility</a>() )</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">// note that denominator is the inverted value of scale</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#af521ebe03daa523188ca746ed147c7fd">maximumScale</a>() != 0.0 )</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        QDomElement minScaleElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:MinScaleDenominator&quot;</span> ) );</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        minScaleElem.appendChild( doc.createTextNode( QString::number( <a class="code" href="classQgsMapLayer.html#af521ebe03daa523188ca746ed147c7fd">maximumScale</a>() ) ) );</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        typeStyleRuleElem.appendChild( minScaleElem );</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      QDomElement maxScaleElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:MaxScaleDenominator&quot;</span> ) );</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      maxScaleElem.appendChild( doc.createTextNode( QString::number( <a class="code" href="classQgsMapLayer.html#ac48abcf34770c8ccf129b3347d81c62a">minimumScale</a>() ) ) );</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      typeStyleRuleElem.appendChild( maxScaleElem );</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">// export renderer dependent tags</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    mPipe.<a class="code" href="classQgsRasterPipe.html#ab6be5e60409b5d75db107d8d83c84e3c">renderer</a>()-&gt;<a class="code" href="classQgsRasterRenderer.html#a9c2bb1b83817c829794658b9461ccb4a">toSld</a>( doc, typeStyleRuleElem, localProps );</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">// inject raster layer parameters in RasterSymbolizer tag because</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="comment">// they belongs to rasterlayer and not to the renderer =&gt; avoid to</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="comment">// pass many parameters value via localProps</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    QDomNodeList elements = typeStyleRuleElem.elementsByTagName( QStringLiteral( <span class="stringliteral">&quot;sld:RasterSymbolizer&quot;</span> ) );</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> ( elements.size() != 0 )</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="comment">// there SHOULD be only one</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      QDomElement rasterSymbolizerElem = elements.at( 0 ).toElement();</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="comment">// lamda helper used below to reduce code redundancy</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="keyword">auto</span> vendorOptionWriter = [&amp;]( QString <a class="code" href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">name</a>, QString value )</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        QDomElement vendorOptionElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:VendorOption&quot;</span> ) );</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        vendorOptionElem.setAttribute( QStringLiteral( <span class="stringliteral">&quot;name&quot;</span> ), name );</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        vendorOptionElem.appendChild( doc.createTextNode( value ) );</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        rasterSymbolizerElem.appendChild( vendorOptionElem );</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      };</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="comment">// add greyScale rendering mode if set</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;grayscaleMode() != <a class="code" href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca6ff55a3c5960c097ba13908ec98e6bf1">QgsHueSaturationFilter::GrayscaleOff</a> )</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        QString property;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">switch</span> ( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;grayscaleMode() )</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8decafce6c73797294b4864fe769a448ec7ed">QgsHueSaturationFilter::GrayscaleLightness</a>:</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keyword">property</span> = QStringLiteral( <span class="stringliteral">&quot;lightness&quot;</span> );</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca8efb2392daf2e19233c011aa6fd04f77">QgsHueSaturationFilter::GrayscaleLuminosity</a>:</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            <span class="keyword">property</span> = QStringLiteral( <span class="stringliteral">&quot;luminosity&quot;</span> );</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca0587957b1de0633584630dcb6188a8f2">QgsHueSaturationFilter::GrayscaleAverage</a>:</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keyword">property</span> = QStringLiteral( <span class="stringliteral">&quot;average&quot;</span> );</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca6ff55a3c5960c097ba13908ec98e6bf1">QgsHueSaturationFilter::GrayscaleOff</a>:</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <span class="comment">// added just to avoid travis fail</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">if</span> ( !property.isEmpty() )</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;          vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;grayScale&quot;</span> ), property );</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      }</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="comment">// add Hue, Saturation and Lighting values in props is Hue filter is set</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>() &amp;&amp; <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;<a class="code" href="classQgsHueSaturationFilter.html#ab7c268fc344c13a9fd10705b8bd09d7a">colorizeOn</a>() )</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      {</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;colorizeOn&quot;</span> ), QString::number( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeOn() ) );</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;colorizeRed&quot;</span> ), QString::number( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeColor().red() ) );</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;colorizeGreen&quot;</span> ), QString::number( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeColor().green() ) );</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;colorizeBlue&quot;</span> ), QString::number( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeColor().blue() ) );</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeStrength() != 100.0 )</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;          vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;colorizeStrength&quot;</span> ), QString::number( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeStrength() / 100.0 ) );</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;saturation&quot;</span> ), QString::number( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;colorizeColor().saturationF() ) );</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      }</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="comment">// saturation != 0 (default value)</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;saturation() != 0 )</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;          <span class="comment">// normlize value [-100:100] -&gt; [0:1]</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;          <span class="keywordtype">int</span> s = <a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a>()-&gt;<a class="code" href="classQgsHueSaturationFilter.html#a95791b5a5fbe92c35f1f43d901009ecd">saturation</a>();</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;          <span class="keywordtype">double</span> sF = ( s - ( -100.0 ) ) / ( 100.0 - ( -100.0 ) );</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;          vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;saturation&quot;</span> ), QString::number( sF ) );</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      }</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <span class="comment">// brightness != 0 (default value)</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">brightnessFilter</a>()-&gt;brightness() != 0 )</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="comment">// normalize value [-255:255] -&gt; [0:1]</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordtype">int</span> b = <a class="code" href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">brightnessFilter</a>()-&gt;<a class="code" href="classQgsBrightnessContrastFilter.html#a3857642f39588b95fbcd1eec5fc2fafd">brightness</a>();</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordtype">double</span> bF = ( b - ( -255.0 ) ) / ( 255.0 - ( -255.0 ) );</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;brightness&quot;</span> ), QString::number( bF ) );</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="comment">// contrast != 0 (default value)</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">brightnessFilter</a>()-&gt;contrast() != 0 )</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// normlize value [-100:100] -&gt; [0:1]</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="porting__processing_8dox.html#ac34f8cede000dff1f5b0b47d22fa9070">c</a> = <a class="code" href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">brightnessFilter</a>()-&gt;<a class="code" href="classQgsBrightnessContrastFilter.html#a012299bd8885b93f4b5608f7aa13abea">contrast</a>();</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordtype">double</span> cF = ( c - ( -100.0 ) ) / ( 100.0 - ( -100.0 ) );</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        vendorOptionWriter( QStringLiteral( <span class="stringliteral">&quot;contrast&quot;</span> ), QString::number( cF ) );</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      }</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <span class="comment">// TODO: check if the below mapping formula make sense to map QGIS contrast with SLD gamma value</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="comment">// add SLD1.0 ContrastEnhancement GammaValue = QGIS Contrast</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="comment">// SLD1.0 does only define 1 as neutral/center double value but does not define range.</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="comment">// because https://en.wikipedia.org/wiki/Gamma_correction assumed gamma is &gt;0.</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="comment">// whilst QGIS has a -100/100 values centered in 0 =&gt; QGIS contrast value will be scaled in the</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="comment">// following way:</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="comment">// [-100,0] =&gt; [0,1] and [0,100] =&gt; [1,100]</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <span class="comment">// an alternative could be scale [-100,100] =&gt; (0,2]</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="keywordflow">if</span> ( newProps.contains( QStringLiteral( <span class="stringliteral">&quot;contrast&quot;</span> ) ) )</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="keywordtype">double</span> gamma;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="keywordtype">double</span> contrast = newProps[ QStringLiteral( <span class="stringliteral">&quot;contrast&quot;</span> ) ].toDouble();</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordtype">double</span> percentage = ( contrast - ( -100.0 ) ) / ( 100.0 - ( -100.0 ) );</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="keywordflow">if</span> ( percentage &lt;= 0.5 )</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        {</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;          <span class="comment">// stretch % to [0-1]</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;          gamma = percentage / 0.5;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        }</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;          gamma = contrast;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        }</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        QDomElement globalContrastEnhancementElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:ContrastEnhancement&quot;</span> ) );</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        rasterSymolizerElem.appendChild( globalContrastEnhancementElem );</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        QDomElement gammaValueElem = doc.createElement( QStringLiteral( <span class="stringliteral">&quot;sld:GammaValue&quot;</span> ) );</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        gammaValueElem.appendChild( doc.createTextNode( QString::number( gamma ) ) );</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        globalContrastEnhancementElem.appendChild( gammaValueElem );</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  }</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af4872d1234ea6fc277cbdd825ccb6ce4"> 1496</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#af4872d1234ea6fc277cbdd825ccb6ce4">QgsRasterLayer::setRenderer</a>( <a class="code" href="classQgsRasterRenderer.html">QgsRasterRenderer</a> *<a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a> )</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Entered&quot;</span> ), 4 );</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordflow">if</span> ( !renderer )</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( renderer );</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  emit <a class="code" href="classQgsMapLayer.html#a80c0ffdd172ec6ebe6f0e2937d408ecd">rendererChanged</a>();</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  emit <a class="code" href="classQgsMapLayer.html#a7efb74093c89746f192be5320568d38c">styleChanged</a>();</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a1ac931f5a6a143b7f10f226ae8904d3b"> 1509</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#a1ac931f5a6a143b7f10f226ae8904d3b">QgsRasterLayer::showStatusMessage</a>( QString <span class="keyword">const</span> &amp;message )</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// QgsDebugMsg(QString(&quot;entered with &#39;%1&#39;.&quot;).arg(theMessage));</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// Pass-through</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// TODO: See if we can connect signal-to-signal.  This is a kludge according to the Qt doc.</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  emit <a class="code" href="classQgsMapLayer.html#a6257396f8801ec2abdf5afab67733465">statusChanged</a>( message );</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af41a00eb819bd15c90d269256815ef24"> 1518</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQgsRasterLayer.html#af41a00eb819bd15c90d269256815ef24">QgsRasterLayer::setTransformContext</a>( <span class="keyword">const</span> <a class="code" href="classQgsCoordinateTransformContext.html">QgsCoordinateTransformContext</a> &amp;<a class="code" href="classQgsMapLayer.html#a7ebae7adad0b6a73f822e7cd63049f8b">transformContext</a> )</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;{</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider )</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    mDataProvider-&gt;<a class="code" href="classQgsDataProvider.html#af36b4c59d0970126bfa9070b9f425212">setTransformContext</a>( transformContext );</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;}</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a91d342075e03cbf2d95d4ca9c58a5956"> 1524</a></span>&#160;QStringList <a class="code" href="classQgsRasterLayer.html#a91d342075e03cbf2d95d4ca9c58a5956">QgsRasterLayer::subLayers</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a9b2426640429f78b13b6a5fbb9d0f6f7">subLayers</a>();</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;}</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment">// this function should be used when rendering with the MTR engine introduced in 2.3, as QPixmap is not thread safe (see bug #9626)</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">// note: previewAsImage and previewAsPixmap should use a common low-level fct QgsRasterLayer::previewOnPaintDevice( QSize size, QColor bgColor, QPaintDevice &amp;device )</span></div><div class="line"><a name="l01531"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a8f6190f9bea92287aee15d6d94ffe9a4"> 1531</a></span>&#160;QImage <a class="code" href="classQgsRasterLayer.html#a8f6190f9bea92287aee15d6d94ffe9a4">QgsRasterLayer::previewAsImage</a>( QSize size, <span class="keyword">const</span> QColor &amp;bgColor, QImage::Format format )</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;{</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  QImage myQImage( size, format );</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">if</span> ( ! <a class="code" href="classQgsMapLayer.html#ab4d304ac4e8fbd610a00adfa4871845b">isValid</a>( ) )</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">return</span>  QImage();</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  myQImage.setColor( 0, bgColor.rgba() );</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  myQImage.fill( 0 );  <span class="comment">//defaults to white, set to transparent for rendering on a map</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <a class="code" href="structQgsRasterViewPort.html">QgsRasterViewPort</a> *myRasterViewPort = <span class="keyword">new</span> <a class="code" href="structQgsRasterViewPort.html">QgsRasterViewPort</a>();</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordtype">double</span> myMapUnitsPerPixel;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordtype">double</span> myX = 0.0;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordtype">double</span> myY = 0.0;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <a class="code" href="classQgsRectangle.html">QgsRectangle</a> myExtent = mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a855b75f332cfa88c09d5bfc34f67f6e6">extent</a>();</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">if</span> ( myExtent.<a class="code" href="classQgsRectangle.html#a7f80945a6f9149707a29d16706b3bafd">width</a>() / myExtent.<a class="code" href="classQgsRectangle.html#ad0a64f974edb994e38e3c418e48396d8">height</a>() &gt;= <span class="keyword">static_cast&lt;</span> <span class="keywordtype">double</span> <span class="keyword">&gt;</span>( myQImage.width() ) / myQImage.height() )</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  {</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    myMapUnitsPerPixel = myExtent.<a class="code" href="classQgsRectangle.html#a7f80945a6f9149707a29d16706b3bafd">width</a>() / myQImage.width();</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    myY = ( myQImage.height() - myExtent.<a class="code" href="classQgsRectangle.html#ad0a64f974edb994e38e3c418e48396d8">height</a>() / myMapUnitsPerPixel ) / 2;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  }</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    myMapUnitsPerPixel = myExtent.<a class="code" href="classQgsRectangle.html#ad0a64f974edb994e38e3c418e48396d8">height</a>() / myQImage.height();</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    myX = ( myQImage.width() - myExtent.<a class="code" href="classQgsRectangle.html#a7f80945a6f9149707a29d16706b3bafd">width</a>() / myMapUnitsPerPixel ) / 2;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordtype">double</span> myPixelWidth = myExtent.<a class="code" href="classQgsRectangle.html#a7f80945a6f9149707a29d16706b3bafd">width</a>() / myMapUnitsPerPixel;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordtype">double</span> myPixelHeight = myExtent.<a class="code" href="classQgsRectangle.html#ad0a64f974edb994e38e3c418e48396d8">height</a>() / myMapUnitsPerPixel;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#ab7b97970a852a56cb139295d11ef6895">mTopLeftPoint</a> = <a class="code" href="classQgsPointXY.html">QgsPointXY</a>( myX, myY );</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#a49b73b52a45c96975ef5ff59cf240f3b">mBottomRightPoint</a> = <a class="code" href="classQgsPointXY.html">QgsPointXY</a>( myPixelWidth, myPixelHeight );</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#afdb3c410fd1f91c9b2d4c25789011ab3">mWidth</a> = myQImage.width();</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#af7179175f035f96a181e1fd9d2c5b6ce">mHeight</a> = myQImage.height();</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#ac355b86e1507649b92fbb05683ce30f9">mDrawnExtent</a> = myExtent;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#ab89e44c94d6782d79fe460cd0c5abaf1">mSrcCRS</a> = <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a>(); <span class="comment">// will be invalid</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  myRasterViewPort-&gt;<a class="code" href="structQgsRasterViewPort.html#a3583e48b83d019e2395fa756da059de2">mDestCRS</a> = <a class="code" href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a>(); <span class="comment">// will be invalid</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <a class="code" href="classQgsMapToPixel.html">QgsMapToPixel</a> *myMapToPixel = <span class="keyword">new</span> <a class="code" href="classQgsMapToPixel.html">QgsMapToPixel</a>( myMapUnitsPerPixel );</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  QPainter *myQPainter = <span class="keyword">new</span> QPainter( &amp;myQImage );</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <a class="code" href="classQgsRasterLayer.html#ad2820cfc207826a377be2f02b2d60ded">draw</a>( myQPainter, myRasterViewPort, myMapToPixel );</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keyword">delete</span> myRasterViewPort;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keyword">delete</span> myMapToPixel;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  myQPainter-&gt;end();</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keyword">delete</span> myQPainter;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">return</span> myQImage;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment">// Protected methods</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="comment"></span><span class="comment">/*</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment"> * \param QDomNode node that will contain the symbology definition for this layer.</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment"> * \param errorMessage reference to string that will be updated with any error messages</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment"> * \return true in case of success.</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01593"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#ac35584be06e26baf799a522426afdfd8"> 1593</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#ac35584be06e26baf799a522426afdfd8">QgsRasterLayer::readSymbology</a>( <span class="keyword">const</span> QDomNode &amp;layer_node, QString &amp;errorMessage,</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                                    <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context, QgsMapLayer::StyleCategories categories )</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;{</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  Q_UNUSED( errorMessage )</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="comment">// TODO: implement categories for raster layer</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  QDomElement rasterRendererElem;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  QDomElement layerElement = layer_node.toElement();</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <a class="code" href="classQgsMapLayer.html#ac13919103a84ede309afd4aab97ed832">readCommonStyle</a>( layerElement, context, categories );</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="comment">// pipe element was introduced in the end of 1.9 development when there were</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="comment">// already many project files in use so we support 1.9 backward compatibility</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="comment">// even it was never officially released -&gt; use pipe element if present, otherwise</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// use layer node</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  QDomNode pipeNode = layer_node.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;pipe&quot;</span> ) );</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordflow">if</span> ( pipeNode.isNull() ) <span class="comment">// old project</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  {</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    pipeNode = layer_node;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  }</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="comment">//rasterlayerproperties element there -&gt; old format (1.8 and early 1.9)</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">if</span> ( !layer_node.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;rasterproperties&quot;</span> ) ).isNull() )</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="comment">//copy node because layer_node is const</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    QDomNode layerNodeCopy = layer_node.cloneNode();</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    QDomDocument doc = layerNodeCopy.ownerDocument();</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    QDomElement rasterPropertiesElem = layerNodeCopy.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;rasterproperties&quot;</span> ) );</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <a class="code" href="classQgsProjectFileTransform.html#a0860a0774d5707bee54c78465b3b503d">QgsProjectFileTransform::convertRasterProperties</a>( doc, layerNodeCopy, rasterPropertiesElem,</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keyword">this</span> );</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    rasterRendererElem = layerNodeCopy.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;rasterrenderer&quot;</span> ) );</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( doc.toString(), 4 );</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  }</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    rasterRendererElem = pipeNode.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;rasterrenderer&quot;</span> ) );</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> ( !rasterRendererElem.isNull() )</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    QString rendererType = rasterRendererElem.attribute( QStringLiteral( <span class="stringliteral">&quot;type&quot;</span> ) );</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="structQgsRasterRendererRegistryEntry.html">QgsRasterRendererRegistryEntry</a> rendererEntry;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsApplication.html#a5a49d4af864859ff92fdecf0f6b173af">QgsApplication::rasterRendererRegistry</a>()-&gt;rendererData( rendererType, rendererEntry ) )</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    {</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <a class="code" href="classQgsRasterRenderer.html">QgsRasterRenderer</a> *<a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a> = rendererEntry.<a class="code" href="structQgsRasterRendererRegistryEntry.html#ae16a83ab3922299ce9ca2b43a6ef3a38">rendererCreateFunction</a>( rasterRendererElem, <a class="code" href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">dataProvider</a>() );</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( renderer );</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    }</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  }</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="comment">//brightness</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <a class="code" href="classQgsBrightnessContrastFilter.html">QgsBrightnessContrastFilter</a> *<a class="code" href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">brightnessFilter</a> = <span class="keyword">new</span> <a class="code" href="classQgsBrightnessContrastFilter.html">QgsBrightnessContrastFilter</a>();</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( brightnessFilter );</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">//brightness coefficient</span></div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  QDomElement brightnessElem = pipeNode.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;brightnesscontrast&quot;</span> ) );</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">if</span> ( !brightnessElem.isNull() )</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  {</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    brightnessFilter-&gt;<a class="code" href="classQgsBrightnessContrastFilter.html#a53385f74c87845c2c3b285549993dda3">readXml</a>( brightnessElem );</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="comment">//hue/saturation</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <a class="code" href="classQgsHueSaturationFilter.html">QgsHueSaturationFilter</a> *<a class="code" href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">hueSaturationFilter</a> = <span class="keyword">new</span> <a class="code" href="classQgsHueSaturationFilter.html">QgsHueSaturationFilter</a>();</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( hueSaturationFilter );</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="comment">//saturation coefficient</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  QDomElement hueSaturationElem = pipeNode.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;huesaturation&quot;</span> ) );</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">if</span> ( !hueSaturationElem.isNull() )</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  {</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    hueSaturationFilter-&gt;<a class="code" href="classQgsHueSaturationFilter.html#acccf2dc099060ba9ed4257ad36ad9d03">readXml</a>( hueSaturationElem );</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <span class="comment">//resampler</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <a class="code" href="classQgsRasterResampleFilter.html">QgsRasterResampleFilter</a> *<a class="code" href="classQgsRasterLayer.html#ac773ccb8156c286edf4dd1383d109fb3">resampleFilter</a> = <span class="keyword">new</span> <a class="code" href="classQgsRasterResampleFilter.html">QgsRasterResampleFilter</a>();</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  mPipe.<a class="code" href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">set</a>( resampleFilter );</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="comment">//max oversampling</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  QDomElement resampleElem = pipeNode.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;rasterresampler&quot;</span> ) );</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">if</span> ( !resampleElem.isNull() )</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    resampleFilter-&gt;<a class="code" href="classQgsRasterResampleFilter.html#a7959305ada130e1f0bbab4db4d82d8cf">readXml</a>( resampleElem );</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  }</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// get and set the blend mode if it exists</span></div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  QDomNode blendModeNode = layer_node.namedItem( QStringLiteral( <span class="stringliteral">&quot;blendMode&quot;</span> ) );</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> ( !blendModeNode.isNull() )</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  {</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    QDomElement e = blendModeNode.toElement();</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="classQgsMapLayer.html#a2502c932b8033a5a67fd6be6a7197dd8">setBlendMode</a>( <a class="code" href="classQgsPainting.html#a67dc72219bef7c6b21139b0554da6943">QgsPainting::getCompositionMode</a>( static_cast&lt; QgsPainting::BlendMode &gt;( e.text().toInt() ) ) );</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <a class="code" href="classQgsMapLayer.html#a70a7fb7187da17aa8a89f5a0ce3c8106">readCustomProperties</a>( layer_node );</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#af9da000891b9c21684d2056fb62380b2"> 1688</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#af9da000891b9c21684d2056fb62380b2">QgsRasterLayer::readStyle</a>( <span class="keyword">const</span> QDomNode &amp;node, QString &amp;errorMessage, <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context, QgsMapLayer::StyleCategories categories )</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;{</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsRasterLayer.html#ac35584be06e26baf799a522426afdfd8">readSymbology</a>( node, errorMessage, context, categories );</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;}</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#aa53a9c4792ff82dc8e803b208d0a8083"> 1693</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#aa53a9c4792ff82dc8e803b208d0a8083">QgsRasterLayer::readXml</a>( <span class="keyword">const</span> QDomNode &amp;layer_node, <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context )</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;{</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Entered&quot;</span> ), 4 );</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="comment">// Make sure to read the file first so stats etc are initialized properly!</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="comment">//process provider key</span></div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  QDomNode pkeyNode = layer_node.namedItem( QStringLiteral( <span class="stringliteral">&quot;provider&quot;</span> ) );</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">if</span> ( pkeyNode.isNull() )</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  {</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> = QStringLiteral( <span class="stringliteral">&quot;gdal&quot;</span> );</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  {</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    QDomElement pkeyElt = pkeyNode.toElement();</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> = pkeyElt.text();</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>.isEmpty() )</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    {</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> = QStringLiteral( <span class="stringliteral">&quot;gdal&quot;</span> );</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    }</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="comment">// Open the raster source based on provider and datasource</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="comment">// Go down the raster-data-provider paradigm</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// Collect provider-specific information</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  QDomNode rpNode = layer_node.namedItem( QStringLiteral( <span class="stringliteral">&quot;rasterproperties&quot;</span> ) );</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> == QLatin1String( <span class="stringliteral">&quot;wms&quot;</span> ) )</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">// &gt;&gt;&gt; BACKWARD COMPATIBILITY &lt; 1.9</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="comment">// The old WMS URI format does not contain all the information, we add them here.</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a>.contains( QLatin1String( <span class="stringliteral">&quot;crs=&quot;</span> ) ) &amp;&amp; !<a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a>.contains( QLatin1String( <span class="stringliteral">&quot;format=&quot;</span> ) ) )</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    {</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;Old WMS URI format detected -&gt; adding params&quot;</span> ), 4 );</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <a class="code" href="classQgsDataSourceUri.html">QgsDataSourceUri</a> uri;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#a2766e485fb8eeeca109a2607d32b08a3">setEncodedUri</a>( <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> );</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      QDomElement layerElement = rpNode.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;wmsSublayer&quot;</span> ) );</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">while</span> ( !layerElement.isNull() )</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      {</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="comment">// TODO: sublayer visibility - post-0.8 release timeframe</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="comment">// collect name for the sublayer</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;layers&quot;</span> ),  layerElement.namedItem( QStringLiteral( <span class="stringliteral">&quot;name&quot;</span> ) ).toElement().text() );</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="comment">// collect style for the sublayer</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;styles&quot;</span> ), layerElement.namedItem( QStringLiteral( <span class="stringliteral">&quot;style&quot;</span> ) ).toElement().text() );</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        layerElement = layerElement.nextSiblingElement( QStringLiteral( <span class="stringliteral">&quot;wmsSublayer&quot;</span> ) );</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      }</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="comment">// Collect format</span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      QDomNode formatNode = rpNode.namedItem( QStringLiteral( <span class="stringliteral">&quot;wmsFormat&quot;</span> ) );</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;format&quot;</span> ), rpNode.namedItem( QStringLiteral( <span class="stringliteral">&quot;wmsFormat&quot;</span> ) ).toElement().text() );</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <span class="comment">// WMS CRS URL param should not be mixed with that assigned to the layer.</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="comment">// In the old WMS URI version there was no CRS and layer crs().authid() was used.</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;crs&quot;</span> ), <a class="code" href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">crs</a>().authid() );</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> = uri.<a class="code" href="classQgsDataSourceUri.html#a1246c5e2d02dc3f5b2125485cdf20bee">encodedUri</a>();</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    }</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">// &lt;&lt;&lt; BACKWARD COMPATIBILITY &lt; 1.9</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  }</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a> providerOptions { context.<a class="code" href="classQgsReadWriteContext.html#a52e6acb47125e08da507f77f40d15a4f">transformContext</a>() };</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">setDataProvider</a>( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>, providerOptions );</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordflow">if</span> ( ! mDataProvider )</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  {</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;Raster data provider could not be created for %1&quot;</span> ).arg( <a class="code" href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">mDataSource</a> ) );</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  QString <a class="code" href="classQgsMapLayer.html#a8269b4d3591fcac49b9cb33e89bdae90">error</a>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keywordtype">bool</span> res = <a class="code" href="classQgsRasterLayer.html#ac35584be06e26baf799a522426afdfd8">readSymbology</a>( layer_node, error, context );</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// old wms settings we need to correct</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span> ( res &amp;&amp; <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> == QLatin1String( <span class="stringliteral">&quot;wms&quot;</span> ) &amp;&amp; ( !<a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>() || <a class="code" href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">renderer</a>()-&gt;<a class="code" href="classQgsMapLayer.html#a39b7d2e4d53085906458e42e8bb0a359">type</a>() != QLatin1String( <span class="stringliteral">&quot;singlebandcolordata&quot;</span> ) ) )</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  {</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    setRendererForDrawingStyle( <a class="code" href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa024f07c19ee4fb3b42d1d53ba23151a9">QgsRaster::SingleBandColorDataStyle</a> );</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  }</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="comment">// Check timestamp</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="comment">// This was probably introduced to reload completely raster if data changed and</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="comment">// reset completely symbology to reflect new data type etc. It creates however</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="comment">// problems, because user defined symbology is complete lost if data file time</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="comment">// changed (the content may be the same). See also 6900.</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  QDomNode stampNode = layer_node.namedItem( <span class="stringliteral">&quot;timestamp&quot;</span> );</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="keywordflow">if</span> ( !stampNode.isNull() )</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    QDateTime stamp = QDateTime::fromString( stampNode.toElement().text(), Qt::ISODate );</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">// TODO: very bad, we have to load twice!!! Make QgsDataProvider::timestamp() static?</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> ( stamp &lt; mDataProvider-&gt;dataTimestamp() )</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;data changed, reload provider&quot;</span> ) );</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      closeDataProvider();</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      init();</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">setDataProvider</a>( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> );</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="keywordflow">if</span> ( !<a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a> ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    }</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">// Load user no data value</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  QDomElement noDataElement = layer_node.firstChildElement( QStringLiteral( <span class="stringliteral">&quot;noData&quot;</span> ) );</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  QDomNodeList noDataBandList = noDataElement.elementsByTagName( QStringLiteral( <span class="stringliteral">&quot;noDataList&quot;</span> ) );</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; noDataBandList.size(); ++i )</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  {</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    QDomElement bandElement = noDataBandList.at( i ).toElement();</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordtype">bool</span> ok;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordtype">int</span> bandNo = bandElement.attribute( QStringLiteral( <span class="stringliteral">&quot;bandNo&quot;</span> ) ).toInt( &amp;ok );</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;bandNo = %1&quot;</span> ).arg( bandNo ), 4 );</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">if</span> ( ok &amp;&amp; ( bandNo &gt; 0 ) &amp;&amp; ( bandNo &lt;= mDataProvider-&gt;<a class="code" href="classQgsRasterLayer.html#a51cc5aeb8f2b96ec34938bbf4308e367">bandCount</a>() ) )</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    {</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a42649c4168017b33f34463ed8c416baa">setUseSourceNoDataValue</a>( bandNo, bandElement.attribute( QStringLiteral( <span class="stringliteral">&quot;useSrcNoData&quot;</span> ) ).toInt() );</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="qgsrasterrange_8h.html#aa019f327f8ac3e6a626f33ed9d047d1e">QgsRasterRangeList</a> myNoDataRangeList;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      QDomNodeList rangeList = bandElement.elementsByTagName( QStringLiteral( <span class="stringliteral">&quot;noDataRange&quot;</span> ) );</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      myNoDataRangeList.reserve( rangeList.size() );</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0; j &lt; rangeList.size(); ++j )</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        QDomElement rangeElement = rangeList.at( j ).toElement();</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <a class="code" href="classQgsRasterRange.html">QgsRasterRange</a> myNoDataRange( rangeElement.attribute( QStringLiteral( <span class="stringliteral">&quot;min&quot;</span> ) ).toDouble(),</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                                      rangeElement.attribute( QStringLiteral( <span class="stringliteral">&quot;max&quot;</span> ) ).toDouble() );</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;min = %1 %2&quot;</span> ).arg( rangeElement.attribute( <span class="stringliteral">&quot;min&quot;</span> ) ).arg( myNoDataRange.min() ), 4 );</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        myNoDataRangeList &lt;&lt; myNoDataRange;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      }</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#afac35ba3e4f04668ae25558d0d559643">setUserNoDataValue</a>( bandNo, myNoDataRangeList );</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  }</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="classQgsMapLayer.html#a075f62844c2684906e4ed12b3acaa9f5">readStyleManager</a>( layer_node );</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;} <span class="comment">// QgsRasterLayer::readXml( QDomNode &amp; layer_node )</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment"> * \param QDomNode the node that will have the style element added to it.</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment"> * \param QDomDocument the document that will have the QDomNode added.</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment"> * \param errorMessage reference to string that will be updated with any error messages</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment"> * \return true in case of success.</span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01840"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a2ab7bdb03899bfdadaf8ac87a4a012d2"> 1840</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#a2ab7bdb03899bfdadaf8ac87a4a012d2">QgsRasterLayer::writeSymbology</a>( QDomNode &amp;layer_node, QDomDocument &amp;document, QString &amp;errorMessage,</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context, QgsMapLayer::StyleCategories categories )<span class="keyword"> const</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  Q_UNUSED( errorMessage )</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// TODO: implement categories for raster layer</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  QDomElement layerElement = layer_node.toElement();</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <a class="code" href="classQgsMapLayer.html#af2fa3e3bbf1cd735da065dab4737b286">writeCommonStyle</a>( layerElement, document, context, categories );</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="comment">// Store pipe members (except provider) into pipe element, in future, it will be</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">// possible to add custom filters into the pipe</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  QDomElement pipeElement  = document.createElement( QStringLiteral( <span class="stringliteral">&quot;pipe&quot;</span> ) );</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; mPipe.<a class="code" href="classQgsRasterPipe.html#a01ed8775cf7c580ed193fddac322bbb0">size</a>(); i++ )</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <a class="code" href="classQgsRasterInterface.html">QgsRasterInterface</a> *<span class="keyword">interface </span>= mPipe.at( i );</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> ( !interface ) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    interface-&gt;writeXml( document, pipeElement );</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  }</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  layer_node.appendChild( pipeElement );</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="comment">// add blend mode node</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  QDomElement blendModeElement  = document.createElement( QStringLiteral( <span class="stringliteral">&quot;blendMode&quot;</span> ) );</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  QDomText blendModeText = document.createTextNode( QString::number( <a class="code" href="classQgsPainting.html#a5de04854424a087ecccbcd25bee92c73">QgsPainting::getBlendModeEnum</a>( <a class="code" href="classQgsMapLayer.html#a61e0449e63d9c93dc42b84b9e1fab916">blendMode</a>() ) ) );</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  blendModeElement.appendChild( blendModeText );</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  layer_node.appendChild( blendModeElement );</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a84b92162d04c890ea98344d5ea4b202a"> 1871</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#a84b92162d04c890ea98344d5ea4b202a">QgsRasterLayer::writeStyle</a>( QDomNode &amp;node, QDomDocument &amp;doc, QString &amp;errorMessage,</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context, QgsMapLayer::StyleCategories categories )<span class="keyword"> const</span></div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsRasterLayer.html#a2ab7bdb03899bfdadaf8ac87a4a012d2">writeSymbology</a>( node, doc, errorMessage, context, categories );</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;} <span class="comment">// bool QgsRasterLayer::writeSymbology</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment"> *  virtual</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment"> *  \note Called by QgsMapLayer::writeXml().</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01881"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a8332fc70d2a9c4afd6e16755a9d1a210"> 1881</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQgsRasterLayer.html#a8332fc70d2a9c4afd6e16755a9d1a210">QgsRasterLayer::writeXml</a>( QDomNode &amp;layer_node,</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                               QDomDocument &amp;document,</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context )<span class="keyword"> const</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="comment">// first get the layer element so that we can append the type attribute</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  QDomElement mapLayerNode = layer_node.toElement();</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">if</span> ( mapLayerNode.isNull() || <span class="stringliteral">&quot;maplayer&quot;</span> != mapLayerNode.nodeName() )</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  {</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="classQgsMessageLog.html#a08b7139ea06e6c5f12bf3b060d6960d5">QgsMessageLog::logMessage</a>( tr( <span class="stringliteral">&quot;&lt;maplayer&gt; not found.&quot;</span> ), tr( <span class="stringliteral">&quot;Raster&quot;</span> ) );</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  mapLayerNode.setAttribute( QStringLiteral( <span class="stringliteral">&quot;type&quot;</span> ), QStringLiteral( <span class="stringliteral">&quot;raster&quot;</span> ) );</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="comment">// add provider node</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  QDomElement provider  = document.createElement( QStringLiteral( <span class="stringliteral">&quot;provider&quot;</span> ) );</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  QDomText providerText = document.createTextNode( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a> );</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  provider.appendChild( providerText );</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  layer_node.appendChild( provider );</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="comment">// User no data</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  QDomElement noData  = document.createElement( QStringLiteral( <span class="stringliteral">&quot;noData&quot;</span> ) );</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> bandNo = 1; bandNo &lt;= mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">bandCount</a>(); bandNo++ )</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  {</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    QDomElement noDataRangeList = document.createElement( QStringLiteral( <span class="stringliteral">&quot;noDataList&quot;</span> ) );</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    noDataRangeList.setAttribute( QStringLiteral( <span class="stringliteral">&quot;bandNo&quot;</span> ), bandNo );</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    noDataRangeList.setAttribute( QStringLiteral( <span class="stringliteral">&quot;useSrcNoData&quot;</span> ), mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a3277411b3891dba04ce4eb5700347ec8">useSourceNoDataValue</a>( bandNo ) );</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> constUserNoDataValues = mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#acab0cf63182d7071c175cf9bdec38da0">userNoDataValues</a>( bandNo );</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="keywordflow">for</span> ( <a class="code" href="classQgsRasterRange.html">QgsRasterRange</a> range : constUserNoDataValues )</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    {</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      QDomElement noDataRange = document.createElement( QStringLiteral( <span class="stringliteral">&quot;noDataRange&quot;</span> ) );</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      noDataRange.setAttribute( QStringLiteral( <span class="stringliteral">&quot;min&quot;</span> ), <a class="code" href="classQgsRasterBlock.html#a695c8e14e6046fdb6f674cc1afd7ab88">QgsRasterBlock::printValue</a>( range.min() ) );</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      noDataRange.setAttribute( QStringLiteral( <span class="stringliteral">&quot;max&quot;</span> ), <a class="code" href="classQgsRasterBlock.html#a695c8e14e6046fdb6f674cc1afd7ab88">QgsRasterBlock::printValue</a>( range.max() ) );</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      noDataRangeList.appendChild( noDataRange );</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    }</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    noData.appendChild( noDataRangeList );</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  }</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordflow">if</span> ( noData.hasChildNodes() )</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  {</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    layer_node.appendChild( noData );</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  }</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <a class="code" href="classQgsMapLayer.html#a16065dafa18ccae59483f21464c0a901">writeStyleManager</a>( layer_node, document );</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="comment">//write out the symbology</span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  QString errorMsg;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsRasterLayer.html#a2ab7bdb03899bfdadaf8ac87a4a012d2">writeSymbology</a>( layer_node, document, errorMsg, context );</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;}</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">// TODO: this should ideally go to gdal provider (together with most of encodedSource() + decodedSource())</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> _parseGpkgColons( <span class="keyword">const</span> QString &amp;src, QString &amp;filename, QString &amp;tablename )</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;{</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="comment">// GDAL accepts the following input format:  GPKG:filename:table</span></div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="comment">// (GDAL won&#39;t accept quoted filename)</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  QStringList lst = src.split( <span class="charliteral">&#39;:&#39;</span> );</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="keywordflow">if</span> ( lst.count() != 3 &amp;&amp; lst.count() != 4 )</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  tablename = lst.last();</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keywordflow">if</span> ( lst.count() == 3 )</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  {</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    filename = lst[1];</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  }</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( lst.count() == 4 &amp;&amp; lst[1].count() == 1 &amp;&amp; ( lst[2][0] == <span class="charliteral">&#39;/&#39;</span> || lst[2][0] == <span class="charliteral">&#39;\\&#39;</span> ) )</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  {</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="comment">// a bit of handling to make sure that filename C:\hello.gpkg is parsed correctly</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    filename = lst[1] + <span class="stringliteral">&quot;:&quot;</span> + lst[2];</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  }</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;}</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01964"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a0bd555e5014834244a73b4bf442e47f0"> 1964</a></span>&#160;QString <a class="code" href="classQgsRasterLayer.html#a0bd555e5014834244a73b4bf442e47f0">QgsRasterLayer::encodedSource</a>( <span class="keyword">const</span> QString &amp;<a class="code" href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">source</a>, <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context )<span class="keyword"> const</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  QString src( source );</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="comment">// Update path for subdataset</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">providerType</a>() == QLatin1String( <span class="stringliteral">&quot;gdal&quot;</span> ) )</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  {</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;NETCDF:&quot;</span> ) ) )</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    {</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      <span class="comment">// NETCDF:filename:variable</span></div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <span class="comment">// filename can be quoted with &quot; as it can contain colons</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      QRegExp r( <span class="stringliteral">&quot;NETCDF:(.+):([^:]+)&quot;</span> );</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      {</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        QString filename = r.cap( 1 );</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="keywordflow">if</span> ( filename.startsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) &amp;&amp; filename.endsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) )</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;          filename = filename.mid( 1, filename.length() - 2 );</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        src = <span class="stringliteral">&quot;NETCDF:\&quot;&quot;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( filename ) + <span class="stringliteral">&quot;\&quot;:&quot;</span> + r.cap( 2 );</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      }</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    }</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;GPKG:&quot;</span> ) ) )</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    {</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <span class="comment">// GPKG:filename:table</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      QString filename, tablename;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="keywordflow">if</span> ( _parseGpkgColons( src, filename, tablename ) )</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      {</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        filename = context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( filename );</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        src = QStringLiteral( <span class="stringliteral">&quot;GPKG:%1:%2&quot;</span> ).arg( filename, tablename );</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      }</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    }</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;HDF4_SDS:&quot;</span> ) ) )</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    {</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="comment">// HDF4_SDS:subdataset_type:file_name:subdataset_index</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="comment">// filename can be quoted with &quot; as it can contain colons</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      QRegExp r( <span class="stringliteral">&quot;HDF4_SDS:([^:]+):(.+):([^:]+)&quot;</span> );</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      {</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        QString filename = r.cap( 2 );</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> ( filename.startsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) &amp;&amp; filename.endsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) )</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          filename = filename.mid( 1, filename.length() - 2 );</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        src = <span class="stringliteral">&quot;HDF4_SDS:&quot;</span> + r.cap( 1 ) + <span class="stringliteral">&quot;:\&quot;&quot;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( filename ) + <span class="stringliteral">&quot;\&quot;:&quot;</span> + r.cap( 3 );</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      }</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;HDF5:&quot;</span> ) ) )</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    {</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <span class="comment">// HDF5:file_name:subdataset</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <span class="comment">// filename can be quoted with &quot; as it can contain colons</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      QRegExp r( <span class="stringliteral">&quot;HDF5:(.+):([^:]+)&quot;</span> );</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        QString filename = r.cap( 1 );</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        <span class="keywordflow">if</span> ( filename.startsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) &amp;&amp; filename.endsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) )</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;          filename = filename.mid( 1, filename.length() - 2 );</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        src = <span class="stringliteral">&quot;HDF5:\&quot;&quot;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( filename ) + <span class="stringliteral">&quot;\&quot;:&quot;</span> + r.cap( 2 );</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      }</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    }</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.contains( QRegExp( <span class="stringliteral">&quot;^(NITF_IM|RADARSAT_2_CALIB):&quot;</span> ) ) )</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <span class="comment">// NITF_IM:0:filename</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <span class="comment">// RADARSAT_2_CALIB:?:filename</span></div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      QRegExp r( <span class="stringliteral">&quot;([^:]+):([^:]+):(.+)&quot;</span> );</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      {</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        src = r.cap( 1 ) + <span class="charliteral">&#39;:&#39;</span> + r.cap( 2 ) + <span class="charliteral">&#39;:&#39;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( r.cap( 3 ) );</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      }</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    }</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">providerType</a>() == <span class="stringliteral">&quot;wms&quot;</span> )</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  {</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="comment">// handle relative paths to XYZ tiles</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <a class="code" href="classQgsDataSourceUri.html">QgsDataSourceUri</a> uri;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    uri.<a class="code" href="classQgsDataSourceUri.html#a2766e485fb8eeeca109a2607d32b08a3">setEncodedUri</a>( src );</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    QUrl srcUrl( uri.<a class="code" href="classQgsDataSourceUri.html#a66d918439c00c2fdbd9da3780f102856">param</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ) ) );</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">if</span> ( srcUrl.isLocalFile() )</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    {</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="comment">// relative path will become &quot;file:./x.txt&quot;</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      QString relSrcUrl = context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( srcUrl.toLocalFile() );</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#a2053436888b59f8d5c7c76f7fa7b7b70">removeParam</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ) );  <span class="comment">// needed because setParam() would insert second &quot;url&quot; key</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ), QUrl::fromLocalFile( relSrcUrl ).toString() );</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      src = uri.<a class="code" href="classQgsDataSourceUri.html#a1246c5e2d02dc3f5b2125485cdf20bee">encodedUri</a>();</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    }</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  }</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="keywordflow">if</span> ( !handled )</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    src = context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">writePath</a>( src );</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">return</span> src;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a5f877d01e41257481125c2d7fd78eab9"> 2060</a></span>&#160;QString <a class="code" href="classQgsRasterLayer.html#a5f877d01e41257481125c2d7fd78eab9">QgsRasterLayer::decodedSource</a>( <span class="keyword">const</span> QString &amp;<a class="code" href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">source</a>, <span class="keyword">const</span> QString &amp;provider, <span class="keyword">const</span> <a class="code" href="classQgsReadWriteContext.html">QgsReadWriteContext</a> &amp;context )<span class="keyword"> const</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  QString src( source );</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="keywordflow">if</span> ( provider == QLatin1String( <span class="stringliteral">&quot;wms&quot;</span> ) )</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  {</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="comment">// &gt;&gt;&gt; BACKWARD COMPATIBILITY &lt; 1.9</span></div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="comment">// For project file backward compatibility we must support old format:</span></div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="comment">// 1. mode: &lt;url&gt;</span></div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="comment">//    example: http://example.org/wms?</span></div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="comment">// 2. mode: tiled=&lt;width&gt;;&lt;height&gt;;&lt;resolution&gt;;&lt;resolution&gt;...,ignoreUrl=GetMap;GetFeatureInfo,featureCount=&lt;count&gt;,username=&lt;name&gt;,password=&lt;password&gt;,url=&lt;url&gt;</span></div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="comment">//    example: tiled=256;256;0.703;0.351,url=http://example.org/tilecache?</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="comment">//    example: featureCount=10,http://example.org/wms?</span></div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="comment">//    example: ignoreUrl=GetMap;GetFeatureInfo,username=cimrman,password=jara,url=http://example.org/wms?</span></div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="comment">// This is modified version of old QgsWmsProvider::parseUri</span></div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="comment">// The new format has always params crs,format,layers,styles and that params</span></div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="comment">// should not appear in old format url -&gt; use them to identify version</span></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="comment">// XYZ tile layers do not need to contain crs,format params, but they have type=xyz</span></div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">if</span> ( !src.contains( QLatin1String( <span class="stringliteral">&quot;type=&quot;</span> ) ) &amp;&amp;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;         !src.contains( QLatin1String( <span class="stringliteral">&quot;crs=&quot;</span> ) ) &amp;&amp; !src.contains( QLatin1String( <span class="stringliteral">&quot;format=&quot;</span> ) ) )</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    {</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <a class="code" href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a>( QStringLiteral( <span class="stringliteral">&quot;Old WMS URI format detected -&gt; converting to new format&quot;</span> ) );</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <a class="code" href="classQgsDataSourceUri.html">QgsDataSourceUri</a> uri;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      <span class="keywordflow">if</span> ( !src.startsWith( QLatin1String( <span class="stringliteral">&quot;http:&quot;</span> ) ) )</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      {</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        QStringList parts = src.split( <span class="charliteral">&#39;,&#39;</span> );</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        QStringListIterator iter( parts );</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="keywordflow">while</span> ( iter.hasNext() )</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        {</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;          QString item = iter.next();</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;          <span class="keywordflow">if</span> ( item.startsWith( QLatin1String( <span class="stringliteral">&quot;username=&quot;</span> ) ) )</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;          {</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;username&quot;</span> ), item.mid( 9 ) );</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;          }</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( item.startsWith( QLatin1String( <span class="stringliteral">&quot;password=&quot;</span> ) ) )</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;          {</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;password&quot;</span> ), item.mid( 9 ) );</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;          }</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( item.startsWith( QLatin1String( <span class="stringliteral">&quot;tiled=&quot;</span> ) ) )</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;          {</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            <span class="comment">// in &lt; 1.9 tiled= may apper in to variants:</span></div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            <span class="comment">// tiled=width;height - non tiled mode, specifies max width and max height</span></div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="comment">// tiled=width;height;resolutions-1;resolution2;... - tile mode</span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;            QStringList params = item.mid( 6 ).split( <span class="charliteral">&#39;;&#39;</span> );</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;            <span class="keywordflow">if</span> ( params.size() == 2 ) <span class="comment">// non tiled mode</span></div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;            {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;              uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;maxWidth&quot;</span> ), params.takeFirst() );</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;              uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;maxHeight&quot;</span> ), params.takeFirst() );</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            }</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( params.size() &gt; 2 ) <span class="comment">// tiled mode</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            {</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;              <span class="comment">// resolutions are no more needed and size limit is not used for tiles</span></div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;              <span class="comment">// we have to tell to the provider however that it is tiled</span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;              uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;tileMatrixSet&quot;</span> ), QString() );</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            }</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;          }</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( item.startsWith( QLatin1String( <span class="stringliteral">&quot;featureCount=&quot;</span> ) ) )</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;          {</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;featureCount&quot;</span> ), item.mid( 13 ) );</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;          }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( item.startsWith( QLatin1String( <span class="stringliteral">&quot;url=&quot;</span> ) ) )</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;          {</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ), item.mid( 4 ) );</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;          }</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( item.startsWith( QLatin1String( <span class="stringliteral">&quot;ignoreUrl=&quot;</span> ) ) )</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;          {</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;ignoreUrl&quot;</span> ), item.mid( 10 ).split( <span class="charliteral">&#39;;&#39;</span> ) );</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;          }</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        }</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      }</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      {</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ), src );</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      }</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      src = uri.<a class="code" href="classQgsDataSourceUri.html#a1246c5e2d02dc3f5b2125485cdf20bee">encodedUri</a>();</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <span class="comment">// At this point, the URI is obviously incomplete, we add additional params</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="comment">// in QgsRasterLayer::readXml</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    }</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="comment">// &lt;&lt;&lt; BACKWARD COMPATIBILITY &lt; 1.9</span></div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="comment">// handle relative paths to XYZ tiles</span></div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <a class="code" href="classQgsDataSourceUri.html">QgsDataSourceUri</a> uri;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    uri.<a class="code" href="classQgsDataSourceUri.html#a2766e485fb8eeeca109a2607d32b08a3">setEncodedUri</a>( src );</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    QUrl srcUrl( uri.<a class="code" href="classQgsDataSourceUri.html#a66d918439c00c2fdbd9da3780f102856">param</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ) ) );</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="keywordflow">if</span> ( srcUrl.isLocalFile() )  <span class="comment">// file-based URL? convert to relative path</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    {</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      QString absSrcUrl = context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( srcUrl.toLocalFile() );</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#a2053436888b59f8d5c7c76f7fa7b7b70">removeParam</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ) );  <span class="comment">// needed because setParam() would insert second &quot;url&quot; key</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      uri.<a class="code" href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">setParam</a>( QStringLiteral( <span class="stringliteral">&quot;url&quot;</span> ), QUrl::fromLocalFile( absSrcUrl ).toString() );</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      src = uri.<a class="code" href="classQgsDataSourceUri.html#a1246c5e2d02dc3f5b2125485cdf20bee">encodedUri</a>();</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    }</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  }</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  {</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">if</span> ( provider == QLatin1String( <span class="stringliteral">&quot;gdal&quot;</span> ) )</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    {</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;NETCDF:&quot;</span> ) ) )</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      {</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="comment">// NETCDF:filename:variable</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        <span class="comment">// filename can be quoted with &quot; as it can contain colons</span></div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        QRegExp r( <span class="stringliteral">&quot;NETCDF:(.+):([^:]+)&quot;</span> );</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        {</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;          QString filename = r.cap( 1 );</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;          <span class="keywordflow">if</span> ( filename.startsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) &amp;&amp; filename.endsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) )</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            filename = filename.mid( 1, filename.length() - 2 );</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;          src = <span class="stringliteral">&quot;NETCDF:\&quot;&quot;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( filename ) + <span class="stringliteral">&quot;\&quot;:&quot;</span> + r.cap( 2 );</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;          handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        }</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      }</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;GPKG:&quot;</span> ) ) )</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        <span class="comment">// GPKG:filename:table</span></div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        QString filename, tablename;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        <span class="keywordflow">if</span> ( _parseGpkgColons( src, filename, tablename ) )</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        {</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;          filename = context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( filename );</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;          src = QStringLiteral( <span class="stringliteral">&quot;GPKG:%1:%2&quot;</span> ).arg( filename, tablename );</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;          handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        }</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      }</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;HDF4_SDS:&quot;</span> ) ) )</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      {</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        <span class="comment">// HDF4_SDS:subdataset_type:file_name:subdataset_index</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <span class="comment">// filename can be quoted with &quot; as it can contain colons</span></div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        QRegExp r( <span class="stringliteral">&quot;HDF4_SDS:([^:]+):(.+):([^:]+)&quot;</span> );</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        {</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;          QString filename = r.cap( 2 );</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;          <span class="keywordflow">if</span> ( filename.startsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) &amp;&amp; filename.endsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) )</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            filename = filename.mid( 1, filename.length() - 2 );</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;          src = <span class="stringliteral">&quot;HDF4_SDS:&quot;</span> + r.cap( 1 ) + <span class="stringliteral">&quot;:\&quot;&quot;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( filename ) + <span class="stringliteral">&quot;\&quot;:&quot;</span> + r.cap( 3 );</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;          handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        }</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      }</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.startsWith( QLatin1String( <span class="stringliteral">&quot;HDF5:&quot;</span> ) ) )</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      {</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="comment">// HDF5:file_name:subdataset</span></div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        <span class="comment">// filename can be quoted with &quot; as it can contain colons</span></div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        QRegExp r( <span class="stringliteral">&quot;HDF5:(.+):([^:]+)&quot;</span> );</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        {</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;          QString filename = r.cap( 1 );</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;          <span class="keywordflow">if</span> ( filename.startsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) &amp;&amp; filename.endsWith( <span class="charliteral">&#39;&quot;&#39;</span> ) )</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            filename = filename.mid( 1, filename.length() - 2 );</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;          src = <span class="stringliteral">&quot;HDF5:\&quot;&quot;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( filename ) + <span class="stringliteral">&quot;\&quot;:&quot;</span> + r.cap( 2 );</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;          handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        }</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      }</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src.contains( QRegExp( <span class="stringliteral">&quot;^(NITF_IM|RADARSAT_2_CALIB):&quot;</span> ) ) )</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      {</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <span class="comment">// NITF_IM:0:filename</span></div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        <span class="comment">// RADARSAT_2_CALIB:?:filename</span></div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        QRegExp r( <span class="stringliteral">&quot;([^:]+):([^:]+):(.+)&quot;</span> );</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <span class="keywordflow">if</span> ( r.exactMatch( src ) )</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        {</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;          src = r.cap( 1 ) + <span class="charliteral">&#39;:&#39;</span> + r.cap( 2 ) + <span class="charliteral">&#39;:&#39;</span> + context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( r.cap( 3 ) );</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;          handled = <span class="keyword">true</span>;</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        }</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      }</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    }</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> ( !handled )</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      src = context.<a class="code" href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">pathResolver</a>().<a class="code" href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">readPath</a>( src );</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  }</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordflow">return</span> src;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;}</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#abf20eb54051dae4cfb0ffdbbb7789e95"> 2234</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsRasterLayer.html#abf20eb54051dae4cfb0ffdbbb7789e95">QgsRasterLayer::width</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">if</span> ( !mDataProvider ) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#a6024da23ab7abf219925b505a956526b">xSize</a>();</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;}</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div><div class="line"><a name="l02240"></a><span class="lineno"><a class="line" href="classQgsRasterLayer.html#a3d062ea4b6afa0489516b7838fe3a07a"> 2240</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classQgsRasterLayer.html#a3d062ea4b6afa0489516b7838fe3a07a">QgsRasterLayer::height</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">if</span> ( !mDataProvider ) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <span class="keywordflow">return</span> mDataProvider-&gt;<a class="code" href="classQgsRasterInterface.html#ae1812389c8815fae851ca3eaffef5265">ySize</a>();</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;}</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">// Private methods</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> QgsRasterLayer::update()</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;{</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;entered.&quot;</span> ), 4 );</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="comment">// Check if data changed</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">if</span> ( mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#aa5feb08163f509264cd3fcbf8e8305b8">dataTimestamp</a>() &gt; mDataProvider-&gt;<a class="code" href="classQgsRasterDataProvider.html#a84ae0d3b43181f97eeca04af2fe69f80">timestamp</a>() )</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  {</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <a class="code" href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a>( QStringLiteral( <span class="stringliteral">&quot;reload data&quot;</span> ), 4 );</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    closeDataProvider();</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    init();</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <a class="code" href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a> providerOptions;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <a class="code" href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">setDataProvider</a>( <a class="code" href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">mProviderKey</a>, providerOptions );</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    emit <a class="code" href="classQgsMapLayer.html#a9a99625af1f7d08d843b2984bb41c476">dataChanged</a>();</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  }</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">mValid</a>;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;}</div><div class="ttc" id="classQgsSymbolLayerUtils_html_a8247ffdbccef279472f7ee38cd7e4232"><div class="ttname"><a href="classQgsSymbolLayerUtils.html#a8247ffdbccef279472f7ee38cd7e4232">QgsSymbolLayerUtils::mergeScaleDependencies</a></div><div class="ttdeci">static void mergeScaleDependencies(double mScaleMinDenom, double mScaleMaxDenom, QgsStringMap &amp;props)</div><div class="ttdoc">Merges the local scale limits, if any, with the ones already in the map, if any. </div><div class="ttdef"><b>Definition:</b> <a href="qgssymbollayerutils_8cpp_source.html#l04242">qgssymbollayerutils.cpp:4242</a></div></div>
<div class="ttc" id="qgsrasterlayer_8cpp_html_a7e7e1e746417b023e00233468f0181b4"><div class="ttname"><a href="qgsrasterlayer_8cpp.html#a7e7e1e746417b023e00233468f0181b4">classFactoryFunction_t</a></div><div class="ttdeci">QgsDataProvider * classFactoryFunction_t(const QString *, const QgsDataProvider::ProviderOptions &amp;options)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00207">qgsrasterlayer.cpp:207</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_a66d918439c00c2fdbd9da3780f102856"><div class="ttname"><a href="classQgsDataSourceUri.html#a66d918439c00c2fdbd9da3780f102856">QgsDataSourceUri::param</a></div><div class="ttdeci">QString param(const QString &amp;key) const</div><div class="ttdoc">Returns a generic parameter value corresponding to the specified key. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00743">qgsdatasourceuri.cpp:743</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcfac061b14942593ac8d041e1c045c9df7f"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfac061b14942593ac8d041e1c045c9df7f">QgsRaster::SingleBandGray</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00092">qgsraster.h:92</a></div></div>
<div class="ttc" id="classQgsProjectFileTransform_html_a0860a0774d5707bee54c78465b3b503d"><div class="ttname"><a href="classQgsProjectFileTransform.html#a0860a0774d5707bee54c78465b3b503d">QgsProjectFileTransform::convertRasterProperties</a></div><div class="ttdeci">static void convertRasterProperties(QDomDocument &amp;doc, QDomNode &amp;parentNode, QDomElement &amp;rasterPropertiesElem, QgsRasterLayer *rlayer)</div><div class="ttdef"><b>Definition:</b> <a href="qgsprojectfiletransform_8cpp_source.html#l00859">qgsprojectfiletransform.cpp:859</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_abf20eb54051dae4cfb0ffdbbb7789e95"><div class="ttname"><a href="classQgsRasterLayer.html#abf20eb54051dae4cfb0ffdbbb7789e95">QgsRasterLayer::width</a></div><div class="ttdeci">int width() const</div><div class="ttdoc">Returns the width of the (unclipped) raster. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l02234">qgsrasterlayer.cpp:2234</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a42a434f5e01d58abb251b2a2af621364"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a42a434f5e01d58abb251b2a2af621364">QgsRasterMinMaxOrigin::limits</a></div><div class="ttdeci">QgsRasterMinMaxOrigin::Limits limits() const</div><div class="ttdoc">Returns the raster limits. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00085">qgsrasterminmaxorigin.h:85</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html_a7664f9e211a028d60d361eff9467f994"><div class="ttname"><a href="classQgsColorRampShader.html#a7664f9e211a028d60d361eff9467f994">QgsColorRampShader::shade</a></div><div class="ttdeci">bool shade(double value, int *returnRedValue, int *returnGreenValue, int *returnBlueValue, int *returnAlphaValue) const override</div><div class="ttdoc">Generates and new RGB value based on one input value. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8cpp_source.html#l00319">qgscolorrampshader.cpp:319</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a93c7eda09b19f57e73f27d52272ebf1c"><div class="ttname"><a href="classQgsRasterInterface.html#a93c7eda09b19f57e73f27d52272ebf1c">QgsRasterInterface::bandCount</a></div><div class="ttdeci">virtual int bandCount() const =0</div><div class="ttdoc">Gets number of bands. </div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_ae155b03a06053abaa359c5a34442a797"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#ae155b03a06053abaa359c5a34442a797">QgsRasterMinMaxOrigin::extent</a></div><div class="ttdeci">QgsRasterMinMaxOrigin::Extent extent() const</div><div class="ttdoc">Returns the raster extent. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00088">qgsrasterminmaxorigin.h:88</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_af1e9e5f613bc26aad36321e789801366"><div class="ttname"><a href="classQgsDataProvider.html#af1e9e5f613bc26aad36321e789801366">QgsDataProvider::setSubLayerVisibility</a></div><div class="ttdeci">virtual void setSubLayerVisibility(const QString &amp;name, bool vis)</div><div class="ttdoc">Set the visibility of the given sublayer name. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00287">qgsdataprovider.h:287</a></div></div>
<div class="ttc" id="classQgsReadWriteContext_html"><div class="ttname"><a href="classQgsReadWriteContext.html">QgsReadWriteContext</a></div><div class="ttdoc">The class is used as a container of context for various read/write operations on other objects...</div><div class="ttdef"><b>Definition:</b> <a href="qgsreadwritecontext_8h_source.html#l00034">qgsreadwritecontext.h:34</a></div></div>
<div class="ttc" id="qgsrasterlayer_8cpp_html_a1c3e89a5c947d0af52de06b706adcf09"><div class="ttname"><a href="qgsrasterlayer_8cpp.html#a1c3e89a5c947d0af52de06b706adcf09">ERR</a></div><div class="ttdeci">#define ERR(message)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00084">qgsrasterlayer.cpp:84</a></div></div>
<div class="ttc" id="qgsrasterrange_8h_html"><div class="ttname"><a href="qgsrasterrange_8h.html">qgsrasterrange.h</a></div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html_a279a1ee5b2f40891552c3852c8cd16a1"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html#a279a1ee5b2f40891552c3852c8cd16a1">QgsLayerMetadataFormatter::extentSectionHtml</a></div><div class="ttdeci">QString extentSectionHtml(const bool showSpatialExtent=true) const</div><div class="ttdoc">Formats the &quot;Extents&quot; section according to a metadata object (extent and temporal). </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8cpp_source.html#l00111">qgslayermetadataformatter.cpp:111</a></div></div>
<div class="ttc" id="classQgsRaster_html_a17a81534803b9b5ee1e5cd91aab628c6"><div class="ttname"><a href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6">QgsRaster::IdentifyFormat</a></div><div class="ttdeci">IdentifyFormat</div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00057">qgsraster.h:57</a></div></div>
<div class="ttc" id="classQgsRectangle_html"><div class="ttname"><a href="classQgsRectangle.html">QgsRectangle</a></div><div class="ttdoc">A rectangle specified with double values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00041">qgsrectangle.h:41</a></div></div>
<div class="ttc" id="classQgsMapLayer_html"><div class="ttname"><a href="classQgsMapLayer.html">QgsMapLayer</a></div><div class="ttdoc">Base class for all map layer types. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00078">qgsmaplayer.h:78</a></div></div>
<div class="ttc" id="qgspathresolver_8h_html"><div class="ttname"><a href="qgspathresolver_8h.html">qgspathresolver.h</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_ade99403b2027b1269f15d85921f441f5"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#ade99403b2027b1269f15d85921f441f5">QgsMultiBandColorRenderer::redBand</a></div><div class="ttdeci">int redBand() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00051">qgsmultibandcolorrenderer.h:51</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a42b15140f8f53733863648154562fb88"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a42b15140f8f53733863648154562fb88">Qgis::Int32</a></div><div class="ttdoc">Thirty two bit signed integer (qint32) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00086">qgis.h:86</a></div></div>
<div class="ttc" id="classQgsRasterShader_html"><div class="ttname"><a href="classQgsRasterShader.html">QgsRasterShader</a></div><div class="ttdoc">Interface for all raster shaders. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrastershader_8h_source.html#l00034">qgsrastershader.h:34</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html_ab7f5adc632e585c84367be3c6e957273"><div class="ttname"><a href="classQgsColorRampShader.html#ab7f5adc632e585c84367be3c6e957273">QgsColorRampShader::setColorRampItemList</a></div><div class="ttdeci">void setColorRampItemList(const QList&lt; QgsColorRampShader::ColorRampItem &gt; &amp;list)</div><div class="ttdoc">Sets a custom colormap. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8cpp_source.html#l00091">qgscolorrampshader.cpp:91</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a2b859f116700d2d6a6bb3c66bd153cfd"><div class="ttname"><a href="classQgsRasterLayer.html#a2b859f116700d2d6a6bb3c66bd153cfd">QgsRasterLayer::clone</a></div><div class="ttdeci">QgsRasterLayer * clone() const override</div><div class="ttdoc">Returns a new instance equivalent to this one. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00138">qgsrasterlayer.cpp:138</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a91d342075e03cbf2d95d4ca9c58a5956"><div class="ttname"><a href="classQgsRasterLayer.html#a91d342075e03cbf2d95d4ca9c58a5956">QgsRasterLayer::subLayers</a></div><div class="ttdeci">QStringList subLayers() const override</div><div class="ttdoc">Returns the sublayers of this layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01524">qgsrasterlayer.cpp:1524</a></div></div>
<div class="ttc" id="classQgis_html_a5f3df28965caa574493856e7fab01689"><div class="ttname"><a href="classQgis.html#a5f3df28965caa574493856e7fab01689">Qgis::QGIS_VERSION</a></div><div class="ttdeci">static const QString QGIS_VERSION</div><div class="ttdoc">Version string. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00051">qgis.h:51</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_a45a747fe84825287e1f82172f71c8deca0587957b1de0633584630dcb6188a8f2"><div class="ttname"><a href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca0587957b1de0633584630dcb6188a8f2">QgsHueSaturationFilter::GrayscaleAverage</a></div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00041">qgshuesaturationfilter.h:41</a></div></div>
<div class="ttc" id="qgsrendercontext_8h_html"><div class="ttname"><a href="qgsrendercontext_8h.html">qgsrendercontext.h</a></div></div>
<div class="ttc" id="classQgsRasterBlock_html_a695c8e14e6046fdb6f674cc1afd7ab88"><div class="ttname"><a href="classQgsRasterBlock.html#a695c8e14e6046fdb6f674cc1afd7ab88">QgsRasterBlock::printValue</a></div><div class="ttdeci">static QString printValue(double value)</div><div class="ttdoc">Print double value with all necessary significant digits. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterblock_8cpp_source.html#l00603">qgsrasterblock.cpp:603</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a37b949daebf3cb52eb1a15a02b1dbb87"><div class="ttname"><a href="classQgsRasterLayer.html#a37b949daebf3cb52eb1a15a02b1dbb87">QgsRasterLayer::refreshContrastEnhancement</a></div><div class="ttdeci">void refreshContrastEnhancement(const QgsRectangle &amp;extent)</div><div class="ttdoc">Refresh contrast enhancement with new extent. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01055">qgsrasterlayer.cpp:1055</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a42649c4168017b33f34463ed8c416baa"><div class="ttname"><a href="classQgsRasterDataProvider.html#a42649c4168017b33f34463ed8c416baa">QgsRasterDataProvider::setUseSourceNoDataValue</a></div><div class="ttdeci">virtual void setUseSourceNoDataValue(int bandNo, bool use)</div><div class="ttdoc">Sets the source nodata value usage. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8cpp_source.html#l00032">qgsrasterdataprovider.cpp:32</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ae67dbf546c886c35234e743be7b94fa2"><div class="ttname"><a href="classQgsMapLayer.html#ae67dbf546c886c35234e743be7b94fa2">QgsMapLayer::setProviderType</a></div><div class="ttdeci">void setProviderType(const QString &amp;providerType)</div><div class="ttdoc">Sets the providerType (provider key) </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01880">qgsmaplayer.cpp:1880</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a8d18711b8dfb1644e54e326312333cf8"><div class="ttname"><a href="classQgsMapLayer.html#a8d18711b8dfb1644e54e326312333cf8">QgsMapLayer::clone</a></div><div class="ttdeci">virtual QgsMapLayer * clone() const =0</div><div class="ttdoc">Returns a new instance equivalent to this one except for the id which is still unique. </div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html_a68f3f15a5314b4523baaf0b7af8ade31"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html#a68f3f15a5314b4523baaf0b7af8ade31">QgsLayerMetadataFormatter::contactsSectionHtml</a></div><div class="ttdeci">QString contactsSectionHtml() const</div><div class="ttdoc">Formats the &quot;Contacts&quot; section according to a metadata object. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8cpp_source.html#l00051">qgslayermetadataformatter.cpp:51</a></div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html_aa5e1103217887c430f659ae5fe149531"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html#aa5e1103217887c430f659ae5fe149531">QgsLayerMetadataFormatter::historySectionHtml</a></div><div class="ttdeci">QString historySectionHtml() const</div><div class="ttdoc">Formats the &quot;History&quot; section according to a metadata object. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8cpp_source.html#l00232">qgslayermetadataformatter.cpp:232</a></div></div>
<div class="ttc" id="qgsrasterlayer_8h_html"><div class="ttname"><a href="qgsrasterlayer_8h.html">qgsrasterlayer.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a733cd12cd1a95248450d0b471996c53b"><div class="ttname"><a href="classQgsRasterLayer.html#a733cd12cd1a95248450d0b471996c53b">QgsRasterLayer::setDataSource</a></div><div class="ttdeci">void setDataSource(const QString &amp;dataSource, const QString &amp;baseName, const QString &amp;provider, const QgsDataProvider::ProviderOptions &amp;options, bool loadDefaultStyleFlag=false) override</div><div class="ttdoc">Updates the data source of the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00798">qgsrasterlayer.cpp:798</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_a3e3aea8e2aacbf1e18ff3c57e1714d33"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#a3e3aea8e2aacbf1e18ff3c57e1714d33">QgsMultiBandColorRenderer::blueContrastEnhancement</a></div><div class="ttdeci">const QgsContrastEnhancement * blueContrastEnhancement() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00066">qgsmultibandcolorrenderer.h:66</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a39b7d2e4d53085906458e42e8bb0a359"><div class="ttname"><a href="classQgsMapLayer.html#a39b7d2e4d53085906458e42e8bb0a359">QgsMapLayer::type</a></div><div class="ttdeci">QgsMapLayerType type() const</div><div class="ttdoc">Returns the type of the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00127">qgsmaplayer.cpp:127</a></div></div>
<div class="ttc" id="classQgsUnitTypes_html_a43808dc6ed58c191cc4373e7c8e506fb"><div class="ttname"><a href="classQgsUnitTypes.html#a43808dc6ed58c191cc4373e7c8e506fb">QgsUnitTypes::toString</a></div><div class="ttdeci">static Q_INVOKABLE QString toString(QgsUnitTypes::DistanceUnit unit)</div><div class="ttdoc">Returns a translated string representing a distance unit. </div><div class="ttdef"><b>Definition:</b> <a href="qgsunittypes_8cpp_source.html#l00152">qgsunittypes.cpp:152</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a37e287fd16e799bddcf0e5533de07c13ac2869bc00168d3ddf616b4222c83bc93"><div class="ttname"><a href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13ac2869bc00168d3ddf616b4222c83bc93">QgsRasterLayer::Multiband</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00239">qgsrasterlayer.h:239</a></div></div>
<div class="ttc" id="classQgsRasterIterator_html"><div class="ttname"><a href="classQgsRasterIterator.html">QgsRasterIterator</a></div><div class="ttdoc">Iterator for sequentially processing raster cells. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasteriterator_8h_source.html#l00034">qgsrasteriterator.h:34</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a0389370f061802ed9b2f68da69089d74"><div class="ttname"><a href="classQgsRasterLayer.html#a0389370f061802ed9b2f68da69089d74">QgsRasterLayer::htmlMetadata</a></div><div class="ttdeci">QString htmlMetadata() const override</div><div class="ttdoc">Obtain a formatted HTML string containing assorted metadata for this layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00297">qgsrasterlayer.cpp:297</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aa2fbf2400cc7859986b6739b946f5b72"><div class="ttname"><a href="classQgsRasterLayer.html#aa2fbf2400cc7859986b6739b946f5b72">QgsRasterLayer::MULTIPLE_BAND_MULTI_BYTE_ENHANCEMENT_ALGORITHM</a></div><div class="ttdeci">static const QgsContrastEnhancement::ContrastEnhancementAlgorithm MULTIPLE_BAND_MULTI_BYTE_ENHANCEMENT_ALGORITHM</div><div class="ttdoc">Default enhancement algorithm for multiple band raster of type different from Byte. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00153">qgsrasterlayer.h:153</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a37e287fd16e799bddcf0e5533de07c13acb32ec1b876322a005b8f8c476f23014"><div class="ttname"><a href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13acb32ec1b876322a005b8f8c476f23014">QgsRasterLayer::GrayOrUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00237">qgsrasterlayer.h:237</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a51cc5aeb8f2b96ec34938bbf4308e367"><div class="ttname"><a href="classQgsRasterLayer.html#a51cc5aeb8f2b96ec34938bbf4308e367">QgsRasterLayer::bandCount</a></div><div class="ttdeci">int bandCount() const</div><div class="ttdoc">Returns the number of bands in this layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00215">qgsrasterlayer.cpp:215</a></div></div>
<div class="ttc" id="classQgsRasterRenderer_html_a9c2bb1b83817c829794658b9461ccb4a"><div class="ttname"><a href="classQgsRasterRenderer.html#a9c2bb1b83817c829794658b9461ccb4a">QgsRasterRenderer::toSld</a></div><div class="ttdeci">virtual void toSld(QDomDocument &amp;doc, QDomElement &amp;element, const QgsStringMap &amp;props=QgsStringMap()) const</div><div class="ttdoc">Used from subclasses to create SLD Rule elements following SLD v1.0 specs. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8cpp_source.html#l00158">qgsrasterrenderer.cpp:158</a></div></div>
<div class="ttc" id="classQgsBrightnessContrastFilter_html_a012299bd8885b93f4b5608f7aa13abea"><div class="ttname"><a href="classQgsBrightnessContrastFilter.html#a012299bd8885b93f4b5608f7aa13abea">QgsBrightnessContrastFilter::contrast</a></div><div class="ttdeci">int contrast() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsbrightnesscontrastfilter_8h_source.html#l00050">qgsbrightnesscontrastfilter.h:50</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af9da000891b9c21684d2056fb62380b2"><div class="ttname"><a href="classQgsRasterLayer.html#af9da000891b9c21684d2056fb62380b2">QgsRasterLayer::readStyle</a></div><div class="ttdeci">bool readStyle(const QDomNode &amp;node, QString &amp;errorMessage, QgsReadWriteContext &amp;context, QgsMapLayer::StyleCategories categories=QgsMapLayer::AllStyleCategories) override</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01688">qgsrasterlayer.cpp:1688</a></div></div>
<div class="ttc" id="classQgsSettings_html"><div class="ttname"><a href="classQgsSettings.html">QgsSettings</a></div><div class="ttdoc">This class is a composition of two QSettings instances: </div><div class="ttdef"><b>Definition:</b> <a href="qgssettings_8h_source.html#l00058">qgssettings.h:58</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a665c4ad88806c2592e1f35c200373e0e"><div class="ttname"><a href="classQgsRasterLayer.html#a665c4ad88806c2592e1f35c200373e0e">QgsRasterLayer::hueSaturationFilter</a></div><div class="ttdeci">QgsHueSaturationFilter * hueSaturationFilter() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00298">qgsrasterlayer.h:298</a></div></div>
<div class="ttc" id="classQgsPathResolver_html_ab5500c4d8a6d6c2bf400be871fd4c141"><div class="ttname"><a href="classQgsPathResolver.html#ab5500c4d8a6d6c2bf400be871fd4c141">QgsPathResolver::readPath</a></div><div class="ttdeci">QString readPath(const QString &amp;filename) const</div><div class="ttdoc">Turn filename read from the project file to an absolute path. </div><div class="ttdef"><b>Definition:</b> <a href="qgspathresolver_8cpp_source.html#l00030">qgspathresolver.cpp:30</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcf"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcf">QgsRaster::DrawingStyle</a></div><div class="ttdeci">DrawingStyle</div><div class="ttdoc">This enumerator describes the different kinds of drawing we can do. </div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00089">qgsraster.h:89</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html"><div class="ttname"><a href="classQgsColorRampShader.html">QgsColorRampShader</a></div><div class="ttdoc">A ramp shader will color a raster pixel based on a list of values ranges in a ramp. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8h_source.html#l00039">qgscolorrampshader.h:39</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a0ac6b1b6f39d1991a315bfae64749699"><div class="ttname"><a href="classQgsRasterDataProvider.html#a0ac6b1b6f39d1991a315bfae64749699">QgsRasterDataProvider::colorTable</a></div><div class="ttdeci">virtual QList&lt; QgsColorRampShader::ColorRampItem &gt; colorTable(int bandNo) const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00250">qgsrasterdataprovider.h:250</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_a77e9159d97d4276753cbaf54b89da6d0"><div class="ttname"><a href="classQgsDataProvider.html#a77e9159d97d4276753cbaf54b89da6d0">QgsDataProvider::error</a></div><div class="ttdeci">virtual QgsError error() const</div><div class="ttdoc">Gets current status error. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00379">qgsdataprovider.h:379</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_ab7c268fc344c13a9fd10705b8bd09d7a"><div class="ttname"><a href="classQgsHueSaturationFilter.html#ab7c268fc344c13a9fd10705b8bd09d7a">QgsHueSaturationFilter::colorizeOn</a></div><div class="ttdeci">bool colorizeOn() const</div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00063">qgshuesaturationfilter.h:63</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_ab6be5e60409b5d75db107d8d83c84e3c"><div class="ttname"><a href="classQgsRasterPipe.html#ab6be5e60409b5d75db107d8d83c84e3c">QgsRasterPipe::renderer</a></div><div class="ttdeci">QgsRasterRenderer * renderer() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8cpp_source.html#l00237">qgsrasterpipe.cpp:237</a></div></div>
<div class="ttc" id="classQgsSettings_html_a4398513cdbed73f4bacfde90a9170b6f"><div class="ttname"><a href="classQgsSettings.html#a4398513cdbed73f4bacfde90a9170b6f">QgsSettings::value</a></div><div class="ttdeci">QVariant value(const QString &amp;key, const QVariant &amp;defaultValue=QVariant(), Section section=NoSection) const</div><div class="ttdoc">Returns the value for setting key. </div><div class="ttdef"><b>Definition:</b> <a href="qgssettings_8cpp_source.html#l00169">qgssettings.cpp:169</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af4872d1234ea6fc277cbdd825ccb6ce4"><div class="ttname"><a href="classQgsRasterLayer.html#af4872d1234ea6fc277cbdd825ccb6ce4">QgsRasterLayer::setRenderer</a></div><div class="ttdeci">void setRenderer(QgsRasterRenderer *renderer)</div><div class="ttdoc">Sets raster renderer. Takes ownership of the renderer object. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01496">qgsrasterlayer.cpp:1496</a></div></div>
<div class="ttc" id="qgslogger_8h_html_ab273942cfb1b76ef0a5dafe6ed64fe23"><div class="ttname"><a href="qgslogger_8h.html#ab273942cfb1b76ef0a5dafe6ed64fe23">QgsDebugMsg</a></div><div class="ttdeci">#define QgsDebugMsg(str)</div><div class="ttdef"><b>Definition:</b> <a href="qgslogger_8h_source.html#l00038">qgslogger.h:38</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a8269b4d3591fcac49b9cb33e89bdae90"><div class="ttname"><a href="classQgsMapLayer.html#a8269b4d3591fcac49b9cb33e89bdae90">QgsMapLayer::error</a></div><div class="ttdeci">virtual QgsError error() const</div><div class="ttdoc">Gets current status error. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01705">qgsmaplayer.cpp:1705</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html"><div class="ttname"><a href="classQgsRasterLayer.html">QgsRasterLayer</a></div><div class="ttdoc">This class provides qgis with the ability to render raster datasets onto the mapcanvas. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00138">qgsrasterlayer.h:138</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af83149ef0bae9b60f70414af70b7d3d7"><div class="ttname"><a href="classQgsRasterLayer.html#af83149ef0bae9b60f70414af70b7d3d7">QgsRasterLayer::setLayerOrder</a></div><div class="ttdeci">void setLayerOrder(const QStringList &amp;layers) override</div><div class="ttdoc">Reorders the previously selected sublayers of this layer from bottom to top. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01264">qgsrasterlayer.cpp:1264</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a8b93bb00790a4e61ad010e1e64a5b556"><div class="ttname"><a href="classQgsRasterLayer.html#a8b93bb00790a4e61ad010e1e64a5b556">QgsRasterLayer::rasterUnitsPerPixelX</a></div><div class="ttdeci">double rasterUnitsPerPixelX() const</div><div class="ttdoc">Returns the number of raster units per each raster pixel in X axis. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00550">qgsrasterlayer.cpp:550</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a7d6506b5c9d28e0318c0cf6f3f03bdf9"><div class="ttname"><a href="classQgsMapLayer.html#a7d6506b5c9d28e0318c0cf6f3f03bdf9">QgsMapLayer::mProviderKey</a></div><div class="ttdeci">QString mProviderKey</div><div class="ttdoc">Data provider key (name of the data provider) </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l01487">qgsmaplayer.h:1487</a></div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html_ad7525f516dc5970892b7deb1a782b259"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html#ad7525f516dc5970892b7deb1a782b259">QgsLayerMetadataFormatter::accessSectionHtml</a></div><div class="ttdeci">QString accessSectionHtml() const</div><div class="ttdoc">Formats the &quot;Access&quot; section according to a metadata object. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8cpp_source.html#l00027">qgslayermetadataformatter.cpp:27</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a9c16b5c1bef6993fa6b1976b5f4342be"><div class="ttname"><a href="classQgsMapLayer.html#a9c16b5c1bef6993fa6b1976b5f4342be">QgsMapLayer::willBeDeleted</a></div><div class="ttdeci">void willBeDeleted()</div><div class="ttdoc">Emitted in the destructor when the layer is about to be deleted, but it is still in a perfectly valid...</div></div>
<div class="ttc" id="classQgsRasterLayer_html_a4dd14890186ab3ca73514e00980c5493"><div class="ttname"><a href="classQgsRasterLayer.html#a4dd14890186ab3ca73514e00980c5493">QgsRasterLayer::pipe</a></div><div class="ttdeci">QgsRasterPipe * pipe()</div><div class="ttdoc">Returns the raster pipe. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00303">qgsrasterlayer.h:303</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a8332fc70d2a9c4afd6e16755a9d1a210"><div class="ttname"><a href="classQgsRasterLayer.html#a8332fc70d2a9c4afd6e16755a9d1a210">QgsRasterLayer::writeXml</a></div><div class="ttdeci">bool writeXml(QDomNode &amp;layer_node, QDomDocument &amp;doc, const QgsReadWriteContext &amp;context) const override</div><div class="ttdoc">Called by writeLayerXML(), used by children to write state specific to them to project files...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01881">qgsrasterlayer.cpp:1881</a></div></div>
<div class="ttc" id="classQgsPointXY_html"><div class="ttname"><a href="classQgsPointXY.html">QgsPointXY</a></div><div class="ttdoc">A class to represent a 2D point. </div><div class="ttdef"><b>Definition:</b> <a href="qgspointxy_8h_source.html#l00043">qgspointxy.h:43</a></div></div>
<div class="ttc" id="qgsmaptopixel_8h_html"><div class="ttname"><a href="qgsmaptopixel_8h.html">qgsmaptopixel.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a9e50b426709d314b7d840c94ec628cc3"><div class="ttname"><a href="classQgsRasterLayer.html#a9e50b426709d314b7d840c94ec628cc3">QgsRasterLayer::setDefaultContrastEnhancement</a></div><div class="ttdeci">void setDefaultContrastEnhancement()</div><div class="ttdoc">Sets the default contrast enhancement. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01253">qgsrasterlayer.cpp:1253</a></div></div>
<div class="ttc" id="qgis_8h_html_a8f7c73b548b20ab548d5d064e8ed4f5c"><div class="ttname"><a href="qgis_8h.html#a8f7c73b548b20ab548d5d064e8ed4f5c">qgsDoubleNear</a></div><div class="ttdeci">bool qgsDoubleNear(double a, double b, double epsilon=4 *std::numeric_limits&lt; double &gt;::epsilon())</div><div class="ttdoc">Compare two doubles (but allow some difference) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00265">qgis.h:265</a></div></div>
<div class="ttc" id="qgsdatasourceuri_8h_html"><div class="ttname"><a href="qgsdatasourceuri_8h.html">qgsdatasourceuri.h</a></div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html_a15f243ae28445816ec18e6f11851b4b0"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html#a15f243ae28445816ec18e6f11851b4b0">QgsLayerMetadataFormatter::linksSectionHtml</a></div><div class="ttdeci">QString linksSectionHtml() const</div><div class="ttdoc">Formats the &quot;Links&quot; section according to a metadata object. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8cpp_source.html#l00258">qgslayermetadataformatter.cpp:258</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a1ac931f5a6a143b7f10f226ae8904d3b"><div class="ttname"><a href="classQgsRasterLayer.html#a1ac931f5a6a143b7f10f226ae8904d3b">QgsRasterLayer::showStatusMessage</a></div><div class="ttdeci">void showStatusMessage(const QString &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01509">qgsrasterlayer.cpp:1509</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a5133e64fa9b646ba44ba970e58ba7de1"><div class="ttname"><a href="classQgsRasterInterface.html#a5133e64fa9b646ba44ba970e58ba7de1">QgsRasterInterface::input</a></div><div class="ttdeci">virtual QgsRasterInterface * input() const</div><div class="ttdoc">Current input. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00268">qgsrasterinterface.h:268</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_a76618279fceca64a0711eeed91d1e289"><div class="ttname"><a href="classQgsRasterPipe.html#a76618279fceca64a0711eeed91d1e289">QgsRasterPipe::projector</a></div><div class="ttdeci">QgsRasterProjector * projector() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8cpp_source.html#l00257">qgsrasterpipe.cpp:257</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a7bf94cfa08abc37b75cc53dc921bb15e"><div class="ttname"><a href="classQgsMapLayer.html#a7bf94cfa08abc37b75cc53dc921bb15e">QgsMapLayer::setCustomProperty</a></div><div class="ttdeci">void setCustomProperty(const QString &amp;key, const QVariant &amp;value)</div><div class="ttdoc">Set a custom property for layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01685">qgsmaplayer.cpp:1685</a></div></div>
<div class="ttc" id="classQgsRasterRenderer_html_a29be6baa7f0cb6555bff4f8bf491f6dd"><div class="ttname"><a href="classQgsRasterRenderer.html#a29be6baa7f0cb6555bff4f8bf491f6dd">QgsRasterRenderer::type</a></div><div class="ttdeci">virtual QString type() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8h_source.html#l00063">qgsrasterrenderer.h:63</a></div></div>
<div class="ttc" id="classQgsRaster_html_a17a81534803b9b5ee1e5cd91aab628c6a7538309a2a0fd9c74b824ee83b7db8c1"><div class="ttname"><a href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6a7538309a2a0fd9c74b824ee83b7db8c1">QgsRaster::IdentifyFormatFeature</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00063">qgsraster.h:63</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a26f69286c48f415893d2eeb5ca7395c2"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a26f69286c48f415893d2eeb5ca7395c2">Qgis::UInt32</a></div><div class="ttdoc">Thirty two bit unsigned integer (quint32) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00085">qgis.h:85</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a70a7fb7187da17aa8a89f5a0ce3c8106"><div class="ttname"><a href="classQgsMapLayer.html#a70a7fb7187da17aa8a89f5a0ce3c8106">QgsMapLayer::readCustomProperties</a></div><div class="ttdeci">void readCustomProperties(const QDomNode &amp;layerNode, const QString &amp;keyStartsWith=QString())</div><div class="ttdoc">Read custom properties from project file. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00614">qgsmaplayer.cpp:614</a></div></div>
<div class="ttc" id="classQgsPainting_html_a5de04854424a087ecccbcd25bee92c73"><div class="ttname"><a href="classQgsPainting.html#a5de04854424a087ecccbcd25bee92c73">QgsPainting::getBlendModeEnum</a></div><div class="ttdeci">static QgsPainting::BlendMode getBlendModeEnum(QPainter::CompositionMode blendMode)</div><div class="ttdoc">Returns a BlendMode corresponding to a QPainter::CompositionMode. </div><div class="ttdef"><b>Definition:</b> <a href="qgspainting_8cpp_source.html#l00080">qgspainting.cpp:80</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5">Qgis::DataType</a></div><div class="ttdeci">DataType</div><div class="ttdoc">Raster data types. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00079">qgis.h:79</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_a8dee0ad17de04051357e1088c9360e31"><div class="ttname"><a href="classQgsRasterPipe.html#a8dee0ad17de04051357e1088c9360e31">QgsRasterPipe::last</a></div><div class="ttdeci">QgsRasterInterface * last() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8h_source.html#l00114">qgsrasterpipe.h:114</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_aa80ae5e17e931f82f32a7d3702f42588"><div class="ttname"><a href="classQgsRasterBandStats.html#aa80ae5e17e931f82f32a7d3702f42588">QgsRasterBandStats::maximumValue</a></div><div class="ttdeci">double maximumValue</div><div class="ttdoc">The maximum cell value in the raster band. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00086">qgsrasterbandstats.h:86</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_adae7f787fd19aa6b496f23a51e4a21b9"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#adae7f787fd19aa6b496f23a51e4a21b9">QgsRasterMinMaxOrigin::limitsFromString</a></div><div class="ttdeci">static Limits limitsFromString(const QString &amp;limits)</div><div class="ttdoc">Deserialize Limits. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8cpp_source.html#l00062">qgsrasterminmaxorigin.cpp:62</a></div></div>
<div class="ttc" id="classQgsSingleBandGrayRenderer_html_a75db094df0f539b201e26129fdb02c28"><div class="ttname"><a href="classQgsSingleBandGrayRenderer.html#a75db094df0f539b201e26129fdb02c28">QgsSingleBandGrayRenderer::contrastEnhancement</a></div><div class="ttdeci">const QgsContrastEnhancement * contrastEnhancement() const</div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandgrayrenderer_8h_source.html#l00057">qgssinglebandgrayrenderer.h:57</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_ae1812389c8815fae851ca3eaffef5265"><div class="ttname"><a href="classQgsRasterInterface.html#ae1812389c8815fae851ca3eaffef5265">QgsRasterInterface::ySize</a></div><div class="ttdeci">virtual int ySize() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00241">qgsrasterinterface.h:241</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a37e287fd16e799bddcf0e5533de07c13a216b28598d7e059be5e05285f32cbe69"><div class="ttname"><a href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a216b28598d7e059be5e05285f32cbe69">QgsRasterLayer::ColorLayer</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00240">qgsrasterlayer.h:240</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_afdb3c410fd1f91c9b2d4c25789011ab3"><div class="ttname"><a href="structQgsRasterViewPort.html#afdb3c410fd1f91c9b2d4c25789011ab3">QgsRasterViewPort::mWidth</a></div><div class="ttdeci">int mWidth</div><div class="ttdoc">Width, number of columns to be rendered. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00053">qgsrasterviewport.h:53</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aa53a9c4792ff82dc8e803b208d0a8083"><div class="ttname"><a href="classQgsRasterLayer.html#aa53a9c4792ff82dc8e803b208d0a8083">QgsRasterLayer::readXml</a></div><div class="ttdeci">bool readXml(const QDomNode &amp;layer_node, QgsReadWriteContext &amp;context) override</div><div class="ttdoc">Called by readLayerXML(), used by children to read state specific to them from project files...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01693">qgsrasterlayer.cpp:1693</a></div></div>
<div class="ttc" id="qgsrasterdrawer_8h_html"><div class="ttname"><a href="qgsrasterdrawer_8h.html">qgsrasterdrawer.h</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a5fcbdc6e360c8cc9bd8b171dd263bcde"><div class="ttname"><a href="classQgsMapLayer.html#a5fcbdc6e360c8cc9bd8b171dd263bcde">QgsMapLayer::metadata</a></div><div class="ttdeci">virtual const QgsLayerMetadata &amp; metadata() const</div><div class="ttdoc">Returns a reference to the layer&amp;#39;s metadata store. </div></div>
<div class="ttc" id="classQgsRasterLayer_html_ab54c6c14c1889380d6449c29727ae34b"><div class="ttname"><a href="classQgsRasterLayer.html#ab54c6c14c1889380d6449c29727ae34b">QgsRasterLayer::rasterUnitsPerPixelY</a></div><div class="ttdeci">double rasterUnitsPerPixelY() const</div><div class="ttdoc">Returns the number of raster units per each raster pixel in Y axis. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00565">qgsrasterlayer.cpp:565</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a3ffc3ed0e1e4948e9fb8b993714d787b"><div class="ttname"><a href="classQgsRasterDataProvider.html#a3ffc3ed0e1e4948e9fb8b993714d787b">QgsRasterDataProvider::sourceDataType</a></div><div class="ttdeci">Qgis::DataType sourceDataType(int bandNo) const override=0</div><div class="ttdoc">Returns source data type for the band specified by number, source data type may be shorter than dataT...</div></div>
<div class="ttc" id="classQgsRasterLayer_html_ad613abbb03e1e1bc6ed9c8b22bea8b6c"><div class="ttname"><a href="classQgsRasterLayer.html#ad613abbb03e1e1bc6ed9c8b22bea8b6c">QgsRasterLayer::lastModified</a></div><div class="ttdeci">static QDateTime lastModified(const QString &amp;name)</div><div class="ttdoc">Returns time stamp for given file name. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00183">qgsrasterlayer.cpp:183</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcfa5f86fa83c40452c66c90466eac486d5a"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa5f86fa83c40452c66c90466eac486d5a">QgsRaster::SingleBandPseudoColor</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00093">qgsraster.h:93</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a7c29f50c8a8cf36e5a1174cffaf9be8ba193d01dc9542f4d5f8b268da23bfac4f"><div class="ttname"><a href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba193d01dc9542f4d5f8b268da23bfac4f">QgsRasterBandStats::Min</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00040">qgsrasterbandstats.h:40</a></div></div>
<div class="ttc" id="classQgsPainting_html_a67dc72219bef7c6b21139b0554da6943"><div class="ttname"><a href="classQgsPainting.html#a67dc72219bef7c6b21139b0554da6943">QgsPainting::getCompositionMode</a></div><div class="ttdeci">static QPainter::CompositionMode getCompositionMode(QgsPainting::BlendMode blendMode)</div><div class="ttdoc">Returns a QPainter::CompositionMode corresponding to a BlendMode. </div><div class="ttdef"><b>Definition:</b> <a href="qgspainting_8cpp_source.html#l00020">qgspainting.cpp:20</a></div></div>
<div class="ttc" id="classQgsRasterRange_html"><div class="ttname"><a href="classQgsRasterRange.html">QgsRasterRange</a></div><div class="ttdoc">Raster values range container. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrange_8h_source.html#l00035">qgsrasterrange.h:35</a></div></div>
<div class="ttc" id="classQgsProviderRegistry_html_a25d53a41b52b7fe7b7d7ab534d6e8ed1"><div class="ttname"><a href="classQgsProviderRegistry.html#a25d53a41b52b7fe7b7d7ab534d6e8ed1">QgsProviderRegistry::decodeUri</a></div><div class="ttdeci">QVariantMap decodeUri(const QString &amp;providerKey, const QString &amp;uri)</div><div class="ttdoc">Breaks a provider data source URI into its component paths (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproviderregistry_8cpp_source.html#l00469">qgsproviderregistry.cpp:469</a></div></div>
<div class="ttc" id="classQgsRasterResampleFilter_html"><div class="ttname"><a href="classQgsRasterResampleFilter.html">QgsRasterResampleFilter</a></div><div class="ttdoc">Resample filter pipe for rasters. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterresamplefilter_8h_source.html#l00032">qgsrasterresamplefilter.h:32</a></div></div>
<div class="ttc" id="qgssinglebandpseudocolorrenderer_8h_html"><div class="ttname"><a href="qgssinglebandpseudocolorrenderer_8h.html">qgssinglebandpseudocolorrenderer.h</a></div></div>
<div class="ttc" id="classQgsDataProvider_html"><div class="ttname"><a href="classQgsDataProvider.html">QgsDataProvider</a></div><div class="ttdoc">Abstract base class for spatial data provider implementations. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00042">qgsdataprovider.h:42</a></div></div>
<div class="ttc" id="classQgsRasterRenderer_html_ac1dc58c4415ed0d9006b144bdbfe7b96"><div class="ttname"><a href="classQgsRasterRenderer.html#ac1dc58c4415ed0d9006b144bdbfe7b96">QgsRasterRenderer::minMaxOrigin</a></div><div class="ttdeci">const QgsRasterMinMaxOrigin &amp; minMaxOrigin() const</div><div class="ttdoc">Returns const reference to origin of min/max values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8h_source.html#l00111">qgsrasterrenderer.h:111</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aef705cbeb9b8e9e1756d93146323abb5"><div class="ttname"><a href="classQgsRasterLayer.html#aef705cbeb9b8e9e1756d93146323abb5">QgsRasterLayer::renderer</a></div><div class="ttdeci">QgsRasterRenderer * renderer() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00292">qgsrasterlayer.h:292</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a3d062ea4b6afa0489516b7838fe3a07a"><div class="ttname"><a href="classQgsRasterLayer.html#a3d062ea4b6afa0489516b7838fe3a07a">QgsRasterLayer::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the height of the (unclipped) raster. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l02240">qgsrasterlayer.cpp:2240</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a9f6092d931fc549266b2c992d7e9f709"><div class="ttname"><a href="classQgsRasterLayer.html#a9f6092d931fc549266b2c992d7e9f709">QgsRasterLayer::SAMPLE_SIZE</a></div><div class="ttdeci">static const double SAMPLE_SIZE</div><div class="ttdoc">Default sample size (number of pixels) for estimated statistics/histogram calculation. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00144">qgsrasterlayer.h:144</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a1f827918feb3d4e1274bbf67f0635757"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a1f827918feb3d4e1274bbf67f0635757">Qgis::Float32</a></div><div class="ttdoc">Thirty two bit floating point (float) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00087">qgis.h:87</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ab4d304ac4e8fbd610a00adfa4871845b"><div class="ttname"><a href="classQgsMapLayer.html#ab4d304ac4e8fbd610a00adfa4871845b">QgsMapLayer::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns the status of the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00643">qgsmaplayer.cpp:643</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcfa4b62535b72aaab42c18b044d5a54394c"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa4b62535b72aaab42c18b044d5a54394c">QgsRaster::MultiBandColor</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00100">qgsraster.h:100</a></div></div>
<div class="ttc" id="qgsrasteriterator_8h_html"><div class="ttname"><a href="qgsrasteriterator_8h.html">qgsrasteriterator.h</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_a95791b5a5fbe92c35f1f43d901009ecd"><div class="ttname"><a href="classQgsHueSaturationFilter.html#a95791b5a5fbe92c35f1f43d901009ecd">QgsHueSaturationFilter::saturation</a></div><div class="ttdeci">int saturation() const</div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00057">qgshuesaturationfilter.h:57</a></div></div>
<div class="ttc" id="classQgsRasterLayerRenderer_html"><div class="ttname"><a href="classQgsRasterLayerRenderer.html">QgsRasterLayerRenderer</a></div><div class="ttdoc">Implementation of threaded rendering for raster layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayerrenderer_8h_source.html#l00068">qgsrasterlayerrenderer.h:68</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a2502c932b8033a5a67fd6be6a7197dd8"><div class="ttname"><a href="classQgsMapLayer.html#a2502c932b8033a5a67fd6be6a7197dd8">QgsMapLayer::setBlendMode</a></div><div class="ttdeci">void setBlendMode(QPainter::CompositionMode blendMode)</div><div class="ttdoc">Set the blending mode used for rendering a layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00195">qgsmaplayer.cpp:195</a></div></div>
<div class="ttc" id="classQgsSingleBandPseudoColorRenderer_html_a25f183441b53ad35d3290ec0ff3b194f"><div class="ttname"><a href="classQgsSingleBandPseudoColorRenderer.html#a25f183441b53ad35d3290ec0ff3b194f">QgsSingleBandPseudoColorRenderer::shader</a></div><div class="ttdeci">QgsRasterShader * shader()</div><div class="ttdoc">Returns the raster shader. </div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandpseudocolorrenderer_8h_source.html#l00058">qgssinglebandpseudocolorrenderer.h:58</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a0754453f6588941a102e9c5effb7423c"><div class="ttname"><a href="classQgsRasterInterface.html#a0754453f6588941a102e9c5effb7423c">QgsRasterInterface::cumulativeCut</a></div><div class="ttdeci">virtual void cumulativeCut(int bandNo, double lowerCount, double upperCount, double &amp;lowerValue, double &amp;upperValue, const QgsRectangle &amp;extent=QgsRectangle(), int sampleSize=0)</div><div class="ttdoc">Find values for cumulative pixel count cut. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8cpp_source.html#l00516">qgsrasterinterface.cpp:516</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af9e913ba7f0feae69d1f682057897378"><div class="ttname"><a href="classQgsRasterLayer.html#af9e913ba7f0feae69d1f682057897378">QgsRasterLayer::paletteAsPixmap</a></div><div class="ttdeci">QPixmap paletteAsPixmap(int bandNumber=1)</div><div class="ttdoc">Returns a 100x100 pixmap of the color palette. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00491">qgsrasterlayer.cpp:491</a></div></div>
<div class="ttc" id="classQgsRasterResampleFilter_html_a7959305ada130e1f0bbab4db4d82d8cf"><div class="ttname"><a href="classQgsRasterResampleFilter.html#a7959305ada130e1f0bbab4db4d82d8cf">QgsRasterResampleFilter::readXml</a></div><div class="ttdeci">void readXml(const QDomElement &amp;filterElem) override</div><div class="ttdoc">Sets base class members from xml. Usually called from create() methods of subclasses. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterresamplefilter_8cpp_source.html#l00233">qgsrasterresamplefilter.cpp:233</a></div></div>
<div class="ttc" id="qgis_8h_html_ab13d4e9821da606b92748097c691b9dd"><div class="ttname"><a href="qgis_8h.html#ab13d4e9821da606b92748097c691b9dd">QgsStringMap</a></div><div class="ttdeci">QMap&lt; QString, QString &gt; QgsStringMap</div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00587">qgis.h:587</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a006c63325c05c307af9a285a910bbaba"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a006c63325c05c307af9a285a910bbaba">Qgis::Int16</a></div><div class="ttdoc">Sixteen bit signed integer (qint16) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00084">qgis.h:84</a></div></div>
<div class="ttc" id="classQgsSingleBandPseudoColorRenderer_html_a5330c17a6201cc74691795ea5bc83d19"><div class="ttname"><a href="classQgsSingleBandPseudoColorRenderer.html#a5330c17a6201cc74691795ea5bc83d19">QgsSingleBandPseudoColorRenderer::setClassificationMax</a></div><div class="ttdeci">void setClassificationMax(double max)</div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandpseudocolorrenderer_8cpp_source.html#l00060">qgssinglebandpseudocolorrenderer.cpp:60</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af34c448aeed9b678e07d6150188ba242"><div class="ttname"><a href="classQgsRasterLayer.html#af34c448aeed9b678e07d6150188ba242">QgsRasterLayer::timestamp</a></div><div class="ttdeci">QDateTime timestamp() const override</div><div class="ttdoc">Time stamp of data source in the moment when data/metadata were loaded by provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01287">qgsrasterlayer.cpp:1287</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a5a7e7a56b3ee8a2f5d85b8d6bfdb574b"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a5a7e7a56b3ee8a2f5d85b8d6bfdb574b">Qgis::CInt16</a></div><div class="ttdoc">Complex Int16. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00089">qgis.h:89</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a464d8e4b13310c587dd3754db88d604f"><div class="ttname"><a href="classQgsMapLayer.html#a464d8e4b13310c587dd3754db88d604f">QgsMapLayer::mLayerName</a></div><div class="ttdeci">QString mLayerName</div><div class="ttdoc">Name of the layer - used for display. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l01448">qgsmaplayer.h:1448</a></div></div>
<div class="ttc" id="classQgsSingleBandPseudoColorRenderer_html_a3053a88f15d4a7303eaac5d48c3e815c"><div class="ttname"><a href="classQgsSingleBandPseudoColorRenderer.html#a3053a88f15d4a7303eaac5d48c3e815c">QgsSingleBandPseudoColorRenderer::setShader</a></div><div class="ttdeci">void setShader(QgsRasterShader *shader)</div><div class="ttdoc">Takes ownership of the shader. </div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandpseudocolorrenderer_8cpp_source.html#l00105">qgssinglebandpseudocolorrenderer.cpp:105</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a7efb74093c89746f192be5320568d38c"><div class="ttname"><a href="classQgsMapLayer.html#a7efb74093c89746f192be5320568d38c">QgsMapLayer::styleChanged</a></div><div class="ttdeci">void styleChanged()</div><div class="ttdoc">Signal emitted whenever a change affects the layer&amp;#39;s style. </div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_a74f71dffb733c91d38be82de7a99370d"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#a74f71dffb733c91d38be82de7a99370d">QgsMultiBandColorRenderer::setGreenContrastEnhancement</a></div><div class="ttdeci">void setGreenContrastEnhancement(QgsContrastEnhancement *ce)</div><div class="ttdoc">Takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8cpp_source.html#l00076">qgsmultibandcolorrenderer.cpp:76</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_ac7f0ac3ac02c2dc4dd546a7883fcc745"><div class="ttname"><a href="classQgsRasterDataProvider.html#ac7f0ac3ac02c2dc4dd546a7883fcc745">QgsRasterDataProvider::statusChanged</a></div><div class="ttdeci">void statusChanged(const QString &amp;) const</div><div class="ttdoc">Emit a message to be displayed on status bar, usually used by network providers (WMS,WCS) </div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a40591b7c4f99a7d9f638a1ea6776496f"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a40591b7c4f99a7d9f638a1ea6776496f">Qgis::Float64</a></div><div class="ttdoc">Sixty four bit floating point (double) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00088">qgis.h:88</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a68c9d4a7af67828f51525da85edf66b3a491e36488821d1f426900c4fce599ccb"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a68c9d4a7af67828f51525da85edf66b3a491e36488821d1f426900c4fce599ccb">QgsRasterMinMaxOrigin::CurrentCanvas</a></div><div class="ttdoc">Current extent of the canvas (at the time of computation) is used to compute statistics. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00062">qgsrasterminmaxorigin.h:62</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a9f664978aeeda03aadc113583b620351"><div class="ttname"><a href="classQgsRasterDataProvider.html#a9f664978aeeda03aadc113583b620351">QgsRasterDataProvider::identifyFormatName</a></div><div class="ttdeci">static QString identifyFormatName(QgsRaster::IdentifyFormat format)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8cpp_source.html#l00445">qgsrasterdataprovider.cpp:445</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a1a6526a54c172262b5882f8a08571aee"><div class="ttname"><a href="classQgsMapLayer.html#a1a6526a54c172262b5882f8a08571aee">QgsMapLayer::extent</a></div><div class="ttdeci">virtual QgsRectangle extent() const</div><div class="ttdoc">Returns the extent of the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00190">qgsmaplayer.cpp:190</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a08c44cbdad7b5ff49f726d40bcd15df9"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a08c44cbdad7b5ff49f726d40bcd15df9">QgsRasterMinMaxOrigin::setExtent</a></div><div class="ttdeci">void setExtent(QgsRasterMinMaxOrigin::Extent extent)</div><div class="ttdoc">Sets the extent. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00108">qgsrasterminmaxorigin.h:108</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_a3583e48b83d019e2395fa756da059de2"><div class="ttname"><a href="structQgsRasterViewPort.html#a3583e48b83d019e2395fa756da059de2">QgsRasterViewPort::mDestCRS</a></div><div class="ttdeci">QgsCoordinateReferenceSystem mDestCRS</div><div class="ttdoc">Target coordinate system. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00068">qgsrasterviewport.h:68</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_a69646da138dc98e9fa605fbed1283bb6"><div class="ttname"><a href="classQgsDataProvider.html#a69646da138dc98e9fa605fbed1283bb6">QgsDataProvider::layerMetadata</a></div><div class="ttdeci">virtual QgsLayerMetadata layerMetadata() const</div><div class="ttdoc">Returns layer metadata collected from the provider&amp;#39;s source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00513">qgsdataprovider.h:513</a></div></div>
<div class="ttc" id="classQgsProviderRegistry_html_a666ec1f97817cb0ff1a6964d1cc58526"><div class="ttname"><a href="classQgsProviderRegistry.html#a666ec1f97817cb0ff1a6964d1cc58526">QgsProviderRegistry::createProvider</a></div><div class="ttdeci">QgsDataProvider * createProvider(const QString &amp;providerKey, const QString &amp;dataSource, const QgsDataProvider::ProviderOptions &amp;options=QgsDataProvider::ProviderOptions())</div><div class="ttdoc">Creates a new instance of a provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproviderregistry_8cpp_source.html#l00403">qgsproviderregistry.cpp:403</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aee5cebb75eeb015eccb38999c0aef63f"><div class="ttname"><a href="classQgsRasterLayer.html#aee5cebb75eeb015eccb38999c0aef63f">QgsRasterLayer::brightnessFilter</a></div><div class="ttdeci">QgsBrightnessContrastFilter * brightnessFilter() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00297">qgsrasterlayer.h:297</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a84ae0d3b43181f97eeca04af2fe69f80"><div class="ttname"><a href="classQgsRasterDataProvider.html#a84ae0d3b43181f97eeca04af2fe69f80">QgsRasterDataProvider::timestamp</a></div><div class="ttdeci">QDateTime timestamp() const override</div><div class="ttdoc">Time stamp of data source in the moment when data/metadata were loaded by provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00414">qgsrasterdataprovider.h:414</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcfa5d8948d0e4bec49614e7105dd51dcc5c"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa5d8948d0e4bec49614e7105dd51dcc5c">QgsRaster::PalettedColor</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00094">qgsraster.h:94</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a6257396f8801ec2abdf5afab67733465"><div class="ttname"><a href="classQgsMapLayer.html#a6257396f8801ec2abdf5afab67733465">QgsMapLayer::statusChanged</a></div><div class="ttdeci">void statusChanged(const QString &amp;status)</div><div class="ttdoc">Emit a signal with status (e.g. to be caught by QgisApp and display a msg on status bar) ...</div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a1b3c9b34c80e055464eca7ea648d6b5c"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a1b3c9b34c80e055464eca7ea648d6b5c">QgsRasterMinMaxOrigin::cumulativeCutLower</a></div><div class="ttdeci">double cumulativeCutLower() const</div><div class="ttdoc">Returns the lower bound of cumulative cut method (between 0 and 1). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00094">qgsrasterminmaxorigin.h:94</a></div></div>
<div class="ttc" id="porting__processing_8dox_html_ac34f8cede000dff1f5b0b47d22fa9070"><div class="ttname"><a href="porting__processing_8dox.html#ac34f8cede000dff1f5b0b47d22fa9070">c</a></div><div class="ttdeci">As part of the API refactoring and improvements which landed in the Processing API was substantially reworked from the x version This was done in order to allow much of the underlying Processing framework to be ported into c</div><div class="ttdef"><b>Definition:</b> <a href="porting__processing_8dox_source.html#l00001">porting_processing.dox:1</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a508c8cf96ed6925d12a33085612f9b05aa107514876635dc1aa1812e4c00b1cbd"><div class="ttname"><a href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aa107514876635dc1aa1812e4c00b1cbd">QgsRasterInterface::IdentifyFeature</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00194">qgsrasterinterface.h:194</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a7badeb80da93e5f1bd41bf9dc474f5b7"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a7badeb80da93e5f1bd41bf9dc474f5b7">Qgis::ARGB32_Premultiplied</a></div><div class="ttdoc">Color, alpha, red, green, blue, 4 bytes the same as QImage::Format_ARGB32_Premultiplied. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00094">qgis.h:94</a></div></div>
<div class="ttc" id="classQgsMapToPixel_html"><div class="ttname"><a href="classQgsMapToPixel.html">QgsMapToPixel</a></div><div class="ttdoc">Perform transforms between map coordinates and device coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaptopixel_8h_source.html#l00037">qgsmaptopixel.h:37</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aa075a30456ddc5c380d12693484371be"><div class="ttname"><a href="classQgsRasterLayer.html#aa075a30456ddc5c380d12693484371be">QgsRasterLayer::MULTIPLE_BAND_SINGLE_BYTE_MIN_MAX_LIMITS</a></div><div class="ttdeci">static const QgsRasterMinMaxOrigin::Limits MULTIPLE_BAND_SINGLE_BYTE_MIN_MAX_LIMITS</div><div class="ttdoc">Default enhancement limits for multiple band raster of type Byte. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00159">qgsrasterlayer.h:159</a></div></div>
<div class="ttc" id="classQgsRasterDrawer_html"><div class="ttname"><a href="classQgsRasterDrawer.html">QgsRasterDrawer</a></div><div class="ttdoc">The drawing pipe for raster layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdrawer_8h_source.html#l00037">qgsrasterdrawer.h:37</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a6250415bdfeefdb851763a24f7f30026"><div class="ttname"><a href="classQgsRasterBandStats.html#a6250415bdfeefdb851763a24f7f30026">QgsRasterBandStats::stdDev</a></div><div class="ttdeci">double stdDev</div><div class="ttdoc">The standard deviation of the cell values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00100">qgsrasterbandstats.h:100</a></div></div>
<div class="ttc" id="classQgsRaster_html_a94cc43355c657fab44bd147d82b2c2f1a4784f83c87a6158e9bff0aae49d0ed8a"><div class="ttname"><a href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a4784f83c87a6158e9bff0aae49d0ed8a">QgsRaster::PaletteIndex</a></div><div class="ttdoc">Paletted (see associated color table) </div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00039">qgsraster.h:39</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a7c29f50c8a8cf36e5a1174cffaf9be8ba5ef5f761d227f4eda13ce723fb955c48"><div class="ttname"><a href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba5ef5f761d227f4eda13ce723fb955c48">QgsRasterBandStats::StdDev</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00045">qgsrasterbandstats.h:45</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a32e8eef96efdc7965ae03e1eefa5d221"><div class="ttname"><a href="classQgsRasterLayer.html#a32e8eef96efdc7965ae03e1eefa5d221">QgsRasterLayer::setContrastEnhancement</a></div><div class="ttdeci">void setContrastEnhancement(QgsContrastEnhancement::ContrastEnhancementAlgorithm algorithm, QgsRasterMinMaxOrigin::Limits limits=QgsRasterMinMaxOrigin::MinMax, const QgsRectangle &amp;extent=QgsRectangle(), int sampleSize=QgsRasterLayer::SAMPLE_SIZE, bool generateLookupTableFlag=true)</div><div class="ttdoc">Set contrast enhancement algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00914">qgsrasterlayer.cpp:914</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html_ab94f98322e4a172a19b81e037116395b"><div class="ttname"><a href="classQgsColorRampShader.html#ab94f98322e4a172a19b81e037116395b">QgsColorRampShader::setColorRampType</a></div><div class="ttdeci">void setColorRampType(QgsColorRampShader::Type colorRampType)</div><div class="ttdoc">Sets the color ramp type. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8cpp_source.html#l00099">qgscolorrampshader.cpp:99</a></div></div>
<div class="ttc" id="classQgsRaster_html_a94cc43355c657fab44bd147d82b2c2f1a6673fecadf2baea9635f1c1dcb748f1a"><div class="ttname"><a href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1a6673fecadf2baea9635f1c1dcb748f1a">QgsRaster::AlphaBand</a></div><div class="ttdoc">Alpha (0=transparent, 255=opaque) </div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00043">qgsraster.h:43</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aa94300f244b4585b7545287c97c21cad"><div class="ttname"><a href="classQgsRasterLayer.html#aa94300f244b4585b7545287c97c21cad">QgsRasterLayer::dataProvider</a></div><div class="ttdeci">QgsRasterDataProvider * dataProvider() override</div><div class="ttdoc">Returns the layer&amp;#39;s data provider, it may be nullptr. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00231">qgsrasterlayer.cpp:231</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html">QgsRasterMinMaxOrigin</a></div><div class="ttdoc">This class describes the origin of min/max values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00033">qgsrasterminmaxorigin.h:33</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html"><div class="ttname"><a href="classQgsRasterBandStats.html">QgsRasterBandStats</a></div><div class="ttdoc">The RasterBandStats struct is a container for statistics about a single raster band. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00034">qgsrasterbandstats.h:34</a></div></div>
<div class="ttc" id="classQgsProviderRegistry_html_a60c16019b5073ee00c3e26141312bfb2"><div class="ttname"><a href="classQgsProviderRegistry.html#a60c16019b5073ee00c3e26141312bfb2">QgsProviderRegistry::instance</a></div><div class="ttdeci">static QgsProviderRegistry * instance(const QString &amp;pluginPath=QString())</div><div class="ttdoc">Means of accessing canonical single instance. </div><div class="ttdef"><b>Definition:</b> <a href="qgsproviderregistry_8cpp_source.html#l00054">qgsproviderregistry.cpp:54</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a508c8cf96ed6925d12a33085612f9b05acb26e48d27a087df228b73e542b1f1d2"><div class="ttname"><a href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05acb26e48d27a087df228b73e542b1f1d2">QgsRasterInterface::IdentifyHtml</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00193">qgsrasterinterface.h:193</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aa9b52a22deef26e7c01c7430c35bd50c"><div class="ttname"><a href="classQgsRasterLayer.html#aa9b52a22deef26e7c01c7430c35bd50c">QgsRasterLayer::isValidRasterFileName</a></div><div class="ttdeci">static bool isValidRasterFileName(const QString &amp;fileNameQString, QString &amp;retError)</div><div class="ttdoc">This helper checks to see whether the file name appears to be a valid raster file name...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00164">qgsrasterlayer.cpp:164</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a59c31d267e0ce60e43a6b8615fc4ab5a"><div class="ttname"><a href="classQgsRasterBandStats.html#a59c31d267e0ce60e43a6b8615fc4ab5a">QgsRasterBandStats::mean</a></div><div class="ttdeci">double mean</div><div class="ttdoc">The mean cell value for the band. NO_DATA values are excluded. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00094">qgsrasterbandstats.h:94</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a37e287fd16e799bddcf0e5533de07c13a850efa187d4bbb1031ac89209dcb7845"><div class="ttname"><a href="classQgsRasterLayer.html#a37e287fd16e799bddcf0e5533de07c13a850efa187d4bbb1031ac89209dcb7845">QgsRasterLayer::Palette</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00238">qgsrasterlayer.h:238</a></div></div>
<div class="ttc" id="classQgsRaster_html_a94cc43355c657fab44bd147d82b2c2f1ae787e73fa31f37ffb064f72715f01b19"><div class="ttname"><a href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1ae787e73fa31f37ffb064f72715f01b19">QgsRaster::ContinuousPalette</a></div><div class="ttdoc">Continuous palette, QGIS addition, GRASS. </div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00054">qgsraster.h:54</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_acf7dc47492c36f8ecd15a0fb129d08f4"><div class="ttname"><a href="classQgsRasterLayer.html#acf7dc47492c36f8ecd15a0fb129d08f4">QgsRasterLayer::writeSld</a></div><div class="ttdeci">bool writeSld(QDomNode &amp;node, QDomDocument &amp;doc, QString &amp;errorMessage, const QgsStringMap &amp;props=QgsStringMap()) const</div><div class="ttdoc">Writes the symbology of the layer into the document provided in SLD 1.0.0 format. ...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01293">qgsrasterlayer.cpp:1293</a></div></div>
<div class="ttc" id="classQgsReadWriteContext_html_a52e6acb47125e08da507f77f40d15a4f"><div class="ttname"><a href="classQgsReadWriteContext.html#a52e6acb47125e08da507f77f40d15a4f">QgsReadWriteContext::transformContext</a></div><div class="ttdeci">QgsCoordinateTransformContext transformContext() const</div><div class="ttdoc">Returns data provider coordinate transform context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsreadwritecontext_8cpp_source.html#l00059">qgsreadwritecontext.cpp:59</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_a45a747fe84825287e1f82172f71c8deca8efb2392daf2e19233c011aa6fd04f77"><div class="ttname"><a href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca8efb2392daf2e19233c011aa6fd04f77">QgsHueSaturationFilter::GrayscaleLuminosity</a></div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00040">qgshuesaturationfilter.h:40</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_af2fa3e3bbf1cd735da065dab4737b286"><div class="ttname"><a href="classQgsMapLayer.html#af2fa3e3bbf1cd735da065dab4737b286">QgsMapLayer::writeCommonStyle</a></div><div class="ttdeci">void writeCommonStyle(QDomElement &amp;layerElement, QDomDocument &amp;document, const QgsReadWriteContext &amp;context, StyleCategories categories=AllStyleCategories) const</div><div class="ttdoc">Write style data common to all layer types. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00533">qgsmaplayer.cpp:533</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a075f62844c2684906e4ed12b3acaa9f5"><div class="ttname"><a href="classQgsMapLayer.html#a075f62844c2684906e4ed12b3acaa9f5">QgsMapLayer::readStyleManager</a></div><div class="ttdeci">void readStyleManager(const QDomNode &amp;layerNode)</div><div class="ttdoc">Read style manager&amp;#39;s configuration (if any). To be called by subclasses. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00624">qgsmaplayer.cpp:624</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a508c8cf96ed6925d12a33085612f9b05aadc59abc8f2b2c71d9297613e18261b5"><div class="ttname"><a href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aadc59abc8f2b2c71d9297613e18261b5">QgsRasterInterface::Size</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00186">qgsrasterinterface.h:186</a></div></div>
<div class="ttc" id="qgsbrightnesscontrastfilter_8h_html"><div class="ttname"><a href="qgsbrightnesscontrastfilter_8h.html">qgsbrightnesscontrastfilter.h</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_ab8093d31cf49acd259157971a75f26d4"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#ab8093d31cf49acd259157971a75f26d4">QgsMultiBandColorRenderer::setRedContrastEnhancement</a></div><div class="ttdeci">void setRedContrastEnhancement(QgsContrastEnhancement *ce)</div><div class="ttdoc">Takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8cpp_source.html#l00070">qgsmultibandcolorrenderer.cpp:70</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_a2053436888b59f8d5c7c76f7fa7b7b70"><div class="ttname"><a href="classQgsDataSourceUri.html#a2053436888b59f8d5c7c76f7fa7b7b70">QgsDataSourceUri::removeParam</a></div><div class="ttdeci">int removeParam(const QString &amp;key)</div><div class="ttdoc">Removes a generic parameter by key. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00738">qgsdatasourceuri.cpp:738</a></div></div>
<div class="ttc" id="qgslogger_8h_html_a795a1fcfb1c61b988bbd999396411d13"><div class="ttname"><a href="qgslogger_8h.html#a795a1fcfb1c61b988bbd999396411d13">QgsDebugMsgLevel</a></div><div class="ttdeci">#define QgsDebugMsgLevel(str, level)</div><div class="ttdef"><b>Definition:</b> <a href="qgslogger_8h_source.html#l00039">qgslogger.h:39</a></div></div>
<div class="ttc" id="classQgsRectangle_html_ac5d660b2ad11bf1e1db7f61e03e12ba6"><div class="ttname"><a href="classQgsRectangle.html#ac5d660b2ad11bf1e1db7f61e03e12ba6">QgsRectangle::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the rectangle is empty. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00426">qgsrectangle.h:426</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html_a04aef4f4a482dcf42b69940e958219f6a9d951ea968c1c317b422d33ebe568d5a"><div class="ttname"><a href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a9d951ea968c1c317b422d33ebe568d5a">QgsContrastEnhancement::NoEnhancement</a></div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8h_source.html#l00050">qgscontrastenhancement.h:50</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a7369f6cb5c04217125103437112f577d"><div class="ttname"><a href="classQgsMapLayer.html#a7369f6cb5c04217125103437112f577d">QgsMapLayer::setMetadata</a></div><div class="ttdeci">virtual void setMetadata(const QgsLayerMetadata &amp;metadata)</div><div class="ttdoc">Sets the layer&amp;#39;s metadata store. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01774">qgsmaplayer.cpp:1774</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_afc72ec9bb0d3b98fe20b5b85c3d70512"><div class="ttname"><a href="classQgsMapLayer.html#afc72ec9bb0d3b98fe20b5b85c3d70512">QgsMapLayer::setCrs</a></div><div class="ttdeci">void setCrs(const QgsCoordinateReferenceSystem &amp;srs, bool emitSignal=true)</div><div class="ttdoc">Sets layer&amp;#39;s spatial reference system. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00756">qgsmaplayer.cpp:756</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_a49b73b52a45c96975ef5ff59cf240f3b"><div class="ttname"><a href="structQgsRasterViewPort.html#a49b73b52a45c96975ef5ff59cf240f3b">QgsRasterViewPort::mBottomRightPoint</a></div><div class="ttdeci">QgsPointXY mBottomRightPoint</div><div class="ttdoc">Coordinate (in output device coordinate system) of bottom right corner of the part of the raster that...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00050">qgsrasterviewport.h:50</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_adb432fe846c0ca47321636f606128b99"><div class="ttname"><a href="classQgsRasterInterface.html#adb432fe846c0ca47321636f606128b99">QgsRasterInterface::capabilities</a></div><div class="ttdeci">virtual int capabilities() const</div><div class="ttdoc">Returns a bitmask containing the supported capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00205">qgsrasterinterface.h:205</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a855b75f332cfa88c09d5bfc34f67f6e6"><div class="ttname"><a href="classQgsRasterDataProvider.html#a855b75f332cfa88c09d5bfc34f67f6e6">QgsRasterDataProvider::extent</a></div><div class="ttdeci">QgsRectangle extent() const override=0</div><div class="ttdoc">Returns the extent of the layer. </div></div>
<div class="ttc" id="classQgsDataProvider_html_a6d034edbd7af7a7b02a642d241aa61fd"><div class="ttname"><a href="classQgsDataProvider.html#a6d034edbd7af7a7b02a642d241aa61fd">QgsDataProvider::isValid</a></div><div class="ttdeci">virtual bool isValid() const =0</div><div class="ttdoc">Returns true if this is a valid layer. </div></div>
<div class="ttc" id="classQgsDataProvider_html_a390a2d77b871763209396167d5558d18"><div class="ttname"><a href="classQgsDataProvider.html#a390a2d77b871763209396167d5558d18">QgsDataProvider::crs</a></div><div class="ttdeci">virtual QgsCoordinateReferenceSystem crs() const =0</div><div class="ttdoc">Returns the coordinate system for the data source. </div></div>
<div class="ttc" id="classQgsRasterLayer_html_ae0cb845971ece438215a1794fed3ac2f"><div class="ttname"><a href="classQgsRasterLayer.html#ae0cb845971ece438215a1794fed3ac2f">QgsRasterLayer::SINGLE_BAND_ENHANCEMENT_ALGORITHM</a></div><div class="ttdeci">static const QgsContrastEnhancement::ContrastEnhancementAlgorithm SINGLE_BAND_ENHANCEMENT_ALGORITHM</div><div class="ttdoc">Default enhancement algorithm for single band raster. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00147">qgsrasterlayer.h:147</a></div></div>
<div class="ttc" id="structQgsRasterLayer_1_1LayerOptions_html_a955a2fe99834abf200d9d53ee89301c7"><div class="ttname"><a href="structQgsRasterLayer_1_1LayerOptions.html#a955a2fe99834abf200d9d53ee89301c7">QgsRasterLayer::LayerOptions::loadDefaultStyle</a></div><div class="ttdeci">bool loadDefaultStyle</div><div class="ttdoc">Sets to true if the default layer style should be loaded. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00184">qgsrasterlayer.h:184</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_ad420d5ab8fb9c50a66146757430d8ae9a599b47fb9a1dac1ac8411c0453aa7a95"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9a599b47fb9a1dac1ac8411c0453aa7a95">QgsRasterMinMaxOrigin::None</a></div><div class="ttdoc">User defined. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00050">qgsrasterminmaxorigin.h:50</a></div></div>
<div class="ttc" id="classQgsRaster_html_a17a81534803b9b5ee1e5cd91aab628c6ad479923d2eca37a6f07e9d1da8fab8db"><div class="ttname"><a href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6ad479923d2eca37a6f07e9d1da8fab8db">QgsRaster::IdentifyFormatUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00059">qgsraster.h:59</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_ae58f3b7a001fa887f47237d224d7fc1e"><div class="ttname"><a href="classQgsRasterPipe.html#ae58f3b7a001fa887f47237d224d7fc1e">QgsRasterPipe::at</a></div><div class="ttdeci">QgsRasterInterface * at(int idx) const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8h_source.html#l00113">qgsrasterpipe.h:113</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_abf11eeb70640f035028764ccd2f4cba4"><div class="ttname"><a href="classQgsRasterLayer.html#abf11eeb70640f035028764ccd2f4cba4">QgsRasterLayer::providerType</a></div><div class="ttdeci">QString providerType() const</div><div class="ttdoc">[ data provider interface ] Which provider is being used for this Raster Layer? </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00545">qgsrasterlayer.cpp:545</a></div></div>
<div class="ttc" id="classQgsRectangle_html_a7f80945a6f9149707a29d16706b3bafd"><div class="ttname"><a href="classQgsRectangle.html#a7f80945a6f9149707a29d16706b3bafd">QgsRectangle::width</a></div><div class="ttdeci">double width() const</div><div class="ttdoc">Returns the width of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00202">qgsrectangle.h:202</a></div></div>
<div class="ttc" id="classQgsRasterShader_html_a38d70b2336cad799a1b422c32a45a692"><div class="ttname"><a href="classQgsRasterShader.html#a38d70b2336cad799a1b422c32a45a692">QgsRasterShader::rasterShaderFunction</a></div><div class="ttdeci">QgsRasterShaderFunction * rasterShaderFunction()</div><div class="ttdef"><b>Definition:</b> <a href="qgsrastershader_8h_source.html#l00065">qgsrastershader.h:65</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_aa9c99649f2f6896a1e11ae328acd1352"><div class="ttname"><a href="classQgsMapLayer.html#aa9c99649f2f6896a1e11ae328acd1352">QgsMapLayer::setExtent</a></div><div class="ttdeci">virtual void setExtent(const QgsRectangle &amp;rect)</div><div class="ttdoc">Sets the extent. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01796">qgsmaplayer.cpp:1796</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a4bd3a2c0867616e77e50fb0b9e23f156"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a4bd3a2c0867616e77e50fb0b9e23f156">Qgis::CFloat32</a></div><div class="ttdoc">Complex Float32. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00091">qgis.h:91</a></div></div>
<div class="ttc" id="classQgsMessageLog_html_a08b7139ea06e6c5f12bf3b060d6960d5"><div class="ttname"><a href="classQgsMessageLog.html#a08b7139ea06e6c5f12bf3b060d6960d5">QgsMessageLog::logMessage</a></div><div class="ttdeci">static void logMessage(const QString &amp;message, const QString &amp;tag=QString(), Qgis::MessageLevel level=Qgis::Warning, bool notifyUser=true)</div><div class="ttdoc">Adds a message to the log instance (and creates it if necessary). </div><div class="ttdef"><b>Definition:</b> <a href="qgsmessagelog_8cpp_source.html#l00027">qgsmessagelog.cpp:27</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_a94c4cce6651e60b9245989ba4bffd625"><div class="ttname"><a href="classQgsDataProvider.html#a94c4cce6651e60b9245989ba4bffd625">QgsDataProvider::dataSourceUri</a></div><div class="ttdeci">virtual QString dataSourceUri(bool expandAuthConfig=false) const</div><div class="ttdoc">Gets the data source specification. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00138">qgsdataprovider.h:138</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a858761ece9d239c49ed3b54c37a4d53e"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a858761ece9d239c49ed3b54c37a4d53e">QgsRasterMinMaxOrigin::cumulativeCutUpper</a></div><div class="ttdeci">double cumulativeCutUpper() const</div><div class="ttdoc">Returns the upper bound of cumulative cut method (between 0 and 1). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00097">qgsrasterminmaxorigin.h:97</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcfa024f07c19ee4fb3b42d1d53ba23151a9"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfa024f07c19ee4fb3b42d1d53ba23151a9">QgsRaster::SingleBandColorDataStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00101">qgsraster.h:101</a></div></div>
<div class="ttc" id="qgsmessagelog_8h_html"><div class="ttname"><a href="qgsmessagelog_8h.html">qgsmessagelog.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aa760dd6ec4dcb758d0f8c8084aa716d0"><div class="ttname"><a href="classQgsRasterLayer.html#aa760dd6ec4dcb758d0f8c8084aa716d0">QgsRasterLayer::bandName</a></div><div class="ttdeci">QString bandName(int bandNoInt) const</div><div class="ttdoc">Returns the name of a band given its number. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00221">qgsrasterlayer.cpp:221</a></div></div>
<div class="ttc" id="qgsapplication_8h_html"><div class="ttname"><a href="qgsapplication_8h.html">qgsapplication.h</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a68c9d4a7af67828f51525da85edf66b3a330ac856c6065e8d6c15659cde43c17b"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a68c9d4a7af67828f51525da85edf66b3a330ac856c6065e8d6c15659cde43c17b">QgsRasterMinMaxOrigin::UpdatedCanvas</a></div><div class="ttdoc">Constantly updated extent of the canvas is used to compute statistics. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00064">qgsrasterminmaxorigin.h:64</a></div></div>
<div class="ttc" id="classQgsRectangle_html_a05a40e45995b2b25689467caa297a93e"><div class="ttname"><a href="classQgsRectangle.html#a05a40e45995b2b25689467caa297a93e">QgsRectangle::toString</a></div><div class="ttdeci">QString toString(int precision=16) const</div><div class="ttdoc">Returns a string representation of form xmin,ymin : xmax,ymax Coordinates will be truncated to the sp...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8cpp_source.html#l00127">qgsrectangle.cpp:127</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_ad14d9430addc4dc547f157b11b1b2765"><div class="ttname"><a href="classQgsRasterInterface.html#ad14d9430addc4dc547f157b11b1b2765">QgsRasterInterface::hasStatistics</a></div><div class="ttdeci">virtual bool hasStatistics(int bandNo, int stats=QgsRasterBandStats::All, const QgsRectangle &amp;extent=QgsRectangle(), int sampleSize=0)</div><div class="ttdoc">Returns true if histogram is available (cached, already calculated). </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8cpp_source.html#l00093">qgsrasterinterface.cpp:93</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_a2766e485fb8eeeca109a2607d32b08a3"><div class="ttname"><a href="classQgsDataSourceUri.html#a2766e485fb8eeeca109a2607d32b08a3">QgsDataSourceUri::setEncodedUri</a></div><div class="ttdeci">void setEncodedUri(const QByteArray &amp;uri)</div><div class="ttdoc">Sets the complete encoded uri. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00587">qgsdatasourceuri.cpp:587</a></div></div>
<div class="ttc" id="classQgsSingleBandPseudoColorRenderer_html"><div class="ttname"><a href="classQgsSingleBandPseudoColorRenderer.html">QgsSingleBandPseudoColorRenderer</a></div><div class="ttdoc">Raster renderer pipe for single band pseudocolor. </div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandpseudocolorrenderer_8h_source.html#l00035">qgssinglebandpseudocolorrenderer.h:35</a></div></div>
<div class="ttc" id="classQgsCoordinateReferenceSystem_html_a2888185eab7e7bf2f7d80ffe2b274224"><div class="ttname"><a href="classQgsCoordinateReferenceSystem.html#a2888185eab7e7bf2f7d80ffe2b274224">QgsCoordinateReferenceSystem::description</a></div><div class="ttdeci">QString description() const</div><div class="ttdoc">Returns the descriptive name of the CRS, e.g., &quot;WGS 84&quot; or &quot;GDA 94 / Vicgrid94&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatereferencesystem_8cpp_source.html#l01250">qgscoordinatereferencesystem.cpp:1250</a></div></div>
<div class="ttc" id="classQgsRasterShader_html_aaab873ad98e3a214069cafae58d2f751"><div class="ttname"><a href="classQgsRasterShader.html#aaab873ad98e3a214069cafae58d2f751">QgsRasterShader::setRasterShaderFunction</a></div><div class="ttdeci">void setRasterShaderFunction(QgsRasterShaderFunction *function)</div><div class="ttdoc">A public method that allows the user to set their own shader function. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrastershader_8cpp_source.html#l00056">qgsrastershader.cpp:56</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_ad420d5ab8fb9c50a66146757430d8ae9a1654a8e14fc9ff251891836a678d3377"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9a1654a8e14fc9ff251891836a678d3377">QgsRasterMinMaxOrigin::StdDev</a></div><div class="ttdoc">Range is [ mean - stdDevFactor() * stddev, mean + stdDevFactor() * stddev ]. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00052">qgsrasterminmaxorigin.h:52</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html_a24f33a9a0b645659178e46623cb15abb"><div class="ttname"><a href="classQgsContrastEnhancement.html#a24f33a9a0b645659178e46623cb15abb">QgsContrastEnhancement::contrastEnhancementAlgorithmString</a></div><div class="ttdeci">static QString contrastEnhancementAlgorithmString(ContrastEnhancementAlgorithm algorithm)</div><div class="ttdoc">Returns a string to serialize ContrastEnhancementAlgorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8cpp_source.html#l00429">qgscontrastenhancement.cpp:429</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ab7c94eb6dc64f7f6c08298f88a3003e4"><div class="ttname"><a href="classQgsMapLayer.html#ab7c94eb6dc64f7f6c08298f88a3003e4">QgsMapLayer::crs</a></div><div class="ttdeci">QgsCoordinateReferenceSystem crs() const</div><div class="ttdoc">Returns the layer&amp;#39;s spatial reference system. </div></div>
<div class="ttc" id="classQgsRasterLayer_html_a066fb7ee41f0fc1b0a350fc57933e9c0"><div class="ttname"><a href="classQgsRasterLayer.html#a066fb7ee41f0fc1b0a350fc57933e9c0">QgsRasterLayer::defaultContrastEnhancementSettings</a></div><div class="ttdeci">bool defaultContrastEnhancementSettings(QgsContrastEnhancement::ContrastEnhancementAlgorithm &amp;myAlgorithm, QgsRasterMinMaxOrigin::Limits &amp;myLimits) const</div><div class="ttdoc">Returns default contrast enhancement settings for that type of raster. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01193">qgsrasterlayer.cpp:1193</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a8586c80375937101c16d0ef8e499316c"><div class="ttname"><a href="classQgsMapLayer.html#a8586c80375937101c16d0ef8e499316c">QgsMapLayer::dataSourceChanged</a></div><div class="ttdeci">void dataSourceChanged()</div><div class="ttdoc">Emitted whenever the layer&amp;#39;s data source has been changed. </div></div>
<div class="ttc" id="classQgsRasterLayer_html_ad2820cfc207826a377be2f02b2d60ded"><div class="ttname"><a href="classQgsRasterLayer.html#ad2820cfc207826a377be2f02b2d60ded">QgsRasterLayer::draw</a></div><div class="ttdeci">void draw(QPainter *theQPainter, QgsRasterViewPort *myRasterViewPort, const QgsMapToPixel *qgsMapToPixel=nullptr)</div><div class="ttdoc">This is an overloaded version of the draw() function that is called by both draw() and thumbnailAsPix...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00255">qgsrasterlayer.cpp:255</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a2da43913a3a0ed20b4873b2276e2e7f9"><div class="ttname"><a href="classQgsMapLayer.html#a2da43913a3a0ed20b4873b2276e2e7f9">QgsMapLayer::publicSource</a></div><div class="ttdeci">QString publicSource() const</div><div class="ttdoc">Gets a version of the internal layer definition that has sensitive bits removed (for example...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00177">qgsmaplayer.cpp:177</a></div></div>
<div class="ttc" id="classQgsSingleBandGrayRenderer_html"><div class="ttname"><a href="classQgsSingleBandGrayRenderer.html">QgsSingleBandGrayRenderer</a></div><div class="ttdoc">Raster renderer pipe for single band gray. </div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandgrayrenderer_8h_source.html#l00033">qgssinglebandgrayrenderer.h:33</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a9644507fc77197b16cc58b2fee550c35"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a9644507fc77197b16cc58b2fee550c35">Qgis::CInt32</a></div><div class="ttdoc">Complex Int32. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00090">qgis.h:90</a></div></div>
<div class="ttc" id="qgsrectangle_8h_html"><div class="ttname"><a href="qgsrectangle_8h.html">qgsrectangle.h</a></div></div>
<div class="ttc" id="qgslayermetadataformatter_8h_html"><div class="ttname"><a href="qgslayermetadataformatter_8h.html">qgslayermetadataformatter.h</a></div></div>
<div class="ttc" id="classQgsRasterBlock_html_aa7a9ee70ea9b88d8bfed9a7ecbbf2ba6"><div class="ttname"><a href="classQgsRasterBlock.html#aa7a9ee70ea9b88d8bfed9a7ecbbf2ba6">QgsRasterBlock::typeSize</a></div><div class="ttdeci">static int typeSize(int dataType)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterblock_8h_source.html#l00081">qgsrasterblock.h:81</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_aa3506c762a380ea93c5f09283e0dff73"><div class="ttname"><a href="classQgsDataSourceUri.html#aa3506c762a380ea93c5f09283e0dff73">QgsDataSourceUri::setParam</a></div><div class="ttdeci">void setParam(const QString &amp;key, const QString &amp;value)</div><div class="ttdoc">Sets a generic parameter value on the URI. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00723">qgsdatasourceuri.cpp:723</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a14ffa29aa20f59061b7b49cb0b4855f6"><div class="ttname"><a href="classQgsRasterLayer.html#a14ffa29aa20f59061b7b49cb0b4855f6">QgsRasterLayer::createMapRenderer</a></div><div class="ttdeci">QgsMapLayerRenderer * createMapRenderer(QgsRenderContext &amp;rendererContext) override</div><div class="ttdoc">Returns new instance of QgsMapLayerRenderer that will be used for rendering of given context...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00249">qgsrasterlayer.cpp:249</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5ad58c30e559800fdfc3448a593a982486"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5ad58c30e559800fdfc3448a593a982486">Qgis::UInt16</a></div><div class="ttdoc">Sixteen bit unsigned integer (quint16) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00083">qgis.h:83</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_a0cf28542bcea779cb93d3fd67cd623c0"><div class="ttname"><a href="classQgsDataProvider.html#a0cf28542bcea779cb93d3fd67cd623c0">QgsDataProvider::setLayerOrder</a></div><div class="ttdeci">virtual void setLayerOrder(const QStringList &amp;layers)</div><div class="ttdoc">Reorder the list of layer names to be rendered by this provider (in order from bottom to top) ...</div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00273">qgsdataprovider.h:273</a></div></div>
<div class="ttc" id="group__core_html_ggafbd92a77d43d50b374d3d022ec71d30ca4bd4dfc6131d926f44355ecd5a6da56e"><div class="ttname"><a href="group__core.html#ggafbd92a77d43d50b374d3d022ec71d30ca4bd4dfc6131d926f44355ecd5a6da56e">QgsMapLayerType::RasterLayer</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a7ebae7adad0b6a73f822e7cd63049f8b"><div class="ttname"><a href="classQgsMapLayer.html#a7ebae7adad0b6a73f822e7cd63049f8b">QgsMapLayer::transformContext</a></div><div class="ttdeci">QgsCoordinateTransformContext transformContext() const</div><div class="ttdoc">Returns the layer data provider coordinate transform context or a default transform context if the la...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00770">qgsmaplayer.cpp:770</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a5f877d01e41257481125c2d7fd78eab9"><div class="ttname"><a href="classQgsRasterLayer.html#a5f877d01e41257481125c2d7fd78eab9">QgsRasterLayer::decodedSource</a></div><div class="ttdeci">QString decodedSource(const QString &amp;source, const QString &amp;provider, const QgsReadWriteContext &amp;context) const override</div><div class="ttdoc">Called by readLayerXML(), used by derived classes to decode provider&amp;#39;s specific data source from proj...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l02060">qgsrasterlayer.cpp:2060</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af41a00eb819bd15c90d269256815ef24"><div class="ttname"><a href="classQgsRasterLayer.html#af41a00eb819bd15c90d269256815ef24">QgsRasterLayer::setTransformContext</a></div><div class="ttdeci">virtual void setTransformContext(const QgsCoordinateTransformContext &amp;transformContext) override</div><div class="ttdoc">Sets the coordinate transform context to transformContext. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01518">qgsrasterlayer.cpp:1518</a></div></div>
<div class="ttc" id="qgsprojectfiletransform_8h_html"><div class="ttname"><a href="qgsprojectfiletransform_8h.html">qgsprojectfiletransform.h</a></div></div>
<div class="ttc" id="qgsrasterresamplefilter_8h_html"><div class="ttname"><a href="qgsrasterresamplefilter_8h.html">qgsrasterresamplefilter.h</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a80c0ffdd172ec6ebe6f0e2937d408ecd"><div class="ttname"><a href="classQgsMapLayer.html#a80c0ffdd172ec6ebe6f0e2937d408ecd">QgsMapLayer::rendererChanged</a></div><div class="ttdeci">void rendererChanged()</div><div class="ttdoc">Signal emitted when renderer is changed. </div></div>
<div class="ttc" id="classQgsMapLayer_html_ac48abcf34770c8ccf129b3347d81c62a"><div class="ttname"><a href="classQgsMapLayer.html#ac48abcf34770c8ccf129b3347d81c62a">QgsMapLayer::minimumScale</a></div><div class="ttdeci">double minimumScale() const</div><div class="ttdoc">Returns the minimum map scale (i.e. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00728">qgsmaplayer.cpp:728</a></div></div>
<div class="ttc" id="classQgsCoordinateTransformContext_html"><div class="ttname"><a href="classQgsCoordinateTransformContext.html">QgsCoordinateTransformContext</a></div><div class="ttdoc">Contains information about the context in which a coordinate transform is executed. </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatetransformcontext_8h_source.html#l00057">qgscoordinatetransformcontext.h:57</a></div></div>
<div class="ttc" id="classQgsRasterRenderer_html_a8e5994d54694fb33f1ff7b17b0593bcc"><div class="ttname"><a href="classQgsRasterRenderer.html#a8e5994d54694fb33f1ff7b17b0593bcc">QgsRasterRenderer::setAlphaBand</a></div><div class="ttdeci">void setAlphaBand(int band)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8h_source.html#l00092">qgsrasterrenderer.h:92</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_af521ebe03daa523188ca746ed147c7fd"><div class="ttname"><a href="classQgsMapLayer.html#af521ebe03daa523188ca746ed147c7fd">QgsMapLayer::maximumScale</a></div><div class="ttdeci">double maximumScale() const</div><div class="ttdoc">Returns the maximum map scale (i.e. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00712">qgsmaplayer.cpp:712</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ae3fe8a9661bbeefd28ee2c14f0e22be6"><div class="ttname"><a href="classQgsMapLayer.html#ae3fe8a9661bbeefd28ee2c14f0e22be6">QgsMapLayer::mValid</a></div><div class="ttdeci">bool mValid</div><div class="ttdoc">Indicates if the layer is valid and can be drawn. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l01442">qgsmaplayer.h:1442</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a84b92162d04c890ea98344d5ea4b202a"><div class="ttname"><a href="classQgsRasterLayer.html#a84b92162d04c890ea98344d5ea4b202a">QgsRasterLayer::writeStyle</a></div><div class="ttdeci">bool writeStyle(QDomNode &amp;node, QDomDocument &amp;doc, QString &amp;errorMessage, const QgsReadWriteContext &amp;context, QgsMapLayer::StyleCategories categories=QgsMapLayer::AllStyleCategories) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01871">qgsrasterlayer.cpp:1871</a></div></div>
<div class="ttc" id="qgis_8h_html_ad27cdbdce10104044399eb83c7654a3c"><div class="ttname"><a href="qgis_8h.html#ad27cdbdce10104044399eb83c7654a3c">cast_to_fptr</a></div><div class="ttdeci">#define cast_to_fptr(f)</div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00158">qgis.h:158</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_aa6cbb1bf0644d7bb82d410ca56557d6c"><div class="ttname"><a href="classQgsMapLayer.html#aa6cbb1bf0644d7bb82d410ca56557d6c">QgsMapLayer::setName</a></div><div class="ttdeci">void setName(const QString &amp;name)</div><div class="ttdoc">Set the display name of the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00151">qgsmaplayer.cpp:151</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a4617b774b5de99d050f6492fa39157da"><div class="ttname"><a href="classQgsRasterLayer.html#a4617b774b5de99d050f6492fa39157da">QgsRasterLayer::setDataProvider</a></div><div class="ttdeci">Q_DECL_DEPRECATED void setDataProvider(const QString &amp;provider)</div><div class="ttdoc">Set the data provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00201">qgsrasterlayer.cpp:201</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_ad420d5ab8fb9c50a66146757430d8ae9adc0e1191b187fcf73a66680150373951"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9adc0e1191b187fcf73a66680150373951">QgsRasterMinMaxOrigin::CumulativeCut</a></div><div class="ttdoc">Range is [ min + cumulativeCutLower() * (max - min), min + cumulativeCutUpper() * (max - min) ]...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00053">qgsrasterminmaxorigin.h:53</a></div></div>
<div class="ttc" id="qgsrastershader_8h_html"><div class="ttname"><a href="qgsrastershader_8h.html">qgsrastershader.h</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html"><div class="ttname"><a href="classQgsRasterInterface.html">QgsRasterInterface</a></div><div class="ttdoc">Base class for processing filters like renderers, reprojector, resampler etc. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00116">qgsrasterinterface.h:116</a></div></div>
<div class="ttc" id="porting__processing_8dox_html_a2363590aeaf7c1e254a233e7d840ae29"><div class="ttname"><a href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a></div><div class="ttdeci">As part of the API refactoring and improvements which landed in the Processing API was substantially reworked from the x version This was done in order to allow much of the underlying Processing framework to be ported into allowing algorithms to be written in pure substantial changes are required in order to port existing x Processing algorithms for QGIS x The most significant changes are outlined not GeoAlgorithm For algorithms which operate on features one by consider subclassing the QgsProcessingFeatureBasedAlgorithm class This class allows much of the boilerplate code for looping over features from a vector layer to be bypassed and instead requires implementation of a processFeature method Ensure that your algorithm(or algorithm 's parent class) implements the new pure virtual createInstance(self) call</div></div>
<div class="ttc" id="qgscolorrampshader_8h_html"><div class="ttname"><a href="qgscolorrampshader_8h.html">qgscolorrampshader.h</a></div></div>
<div class="ttc" id="qgspainting_8h_html"><div class="ttname"><a href="qgspainting_8h.html">qgspainting.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a7bb9eb150fe422864ea129e221c5fb57"><div class="ttname"><a href="classQgsRasterLayer.html#a7bb9eb150fe422864ea129e221c5fb57">QgsRasterLayer::SINGLE_BAND_MIN_MAX_LIMITS</a></div><div class="ttdeci">static const QgsRasterMinMaxOrigin::Limits SINGLE_BAND_MIN_MAX_LIMITS</div><div class="ttdoc">Default enhancement limits for single band raster. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00156">qgsrasterlayer.h:156</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a1346d2968bb9f5b0d185b7ca56ddc309"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a1346d2968bb9f5b0d185b7ca56ddc309">QgsRasterMinMaxOrigin::limitsString</a></div><div class="ttdeci">static QString limitsString(Limits limits)</div><div class="ttdoc">Returns a string to serialize Limits. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8cpp_source.html#l00046">qgsrasterminmaxorigin.cpp:46</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a6d60ea7dadf340a5c55dab0ea87c2369"><div class="ttname"><a href="classQgsRasterLayer.html#a6d60ea7dadf340a5c55dab0ea87c2369">QgsRasterLayer::setSubLayerVisibility</a></div><div class="ttdeci">void setSubLayerVisibility(const QString &amp;name, bool vis) override</div><div class="ttdoc">Set the visibility of the given sublayer name. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01276">qgsrasterlayer.cpp:1276</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a444498d02435eee131a0e957b9b2fe6e"><div class="ttname"><a href="classQgsRasterDataProvider.html#a444498d02435eee131a0e957b9b2fe6e">QgsRasterDataProvider::htmlMetadata</a></div><div class="ttdeci">virtual QString htmlMetadata()=0</div><div class="ttdoc">Returns metadata in a format suitable for feeding directly into a subset of the GUI raster properties...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8cpp_source.html#l00238">qgsrasterdataprovider.cpp:238</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a8156ad4f3130cdfdea47ea4d8161d727"><div class="ttname"><a href="classQgsMapLayer.html#a8156ad4f3130cdfdea47ea4d8161d727">QgsMapLayer::title</a></div><div class="ttdeci">QString title() const</div><div class="ttdoc">Returns the title of the layer used by QGIS Server in GetCapabilities request. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00278">qgsmaplayer.h:278</a></div></div>
<div class="ttc" id="qgsmultibandcolorrenderer_8h_html"><div class="ttname"><a href="qgsmultibandcolorrenderer_8h.html">qgsmultibandcolorrenderer.h</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_a01ed8775cf7c580ed193fddac322bbb0"><div class="ttname"><a href="classQgsRasterPipe.html#a01ed8775cf7c580ed193fddac322bbb0">QgsRasterPipe::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8h_source.html#l00112">qgsrasterpipe.h:112</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_a45a747fe84825287e1f82172f71c8deca6ff55a3c5960c097ba13908ec98e6bf1"><div class="ttname"><a href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8deca6ff55a3c5960c097ba13908ec98e6bf1">QgsHueSaturationFilter::GrayscaleOff</a></div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00038">qgshuesaturationfilter.h:38</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html_a26a009ae7d96a2901b01da4389d91bca"><div class="ttname"><a href="classQgsContrastEnhancement.html#a26a009ae7d96a2901b01da4389d91bca">QgsContrastEnhancement::contrastEnhancementAlgorithmFromString</a></div><div class="ttdeci">static ContrastEnhancementAlgorithm contrastEnhancementAlgorithmFromString(const QString &amp;contrastEnhancementString)</div><div class="ttdoc">Deserialize ContrastEnhancementAlgorithm. </div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8cpp_source.html#l00447">qgscontrastenhancement.cpp:447</a></div></div>
<div class="ttc" id="qgssinglebandgrayrenderer_8h_html"><div class="ttname"><a href="qgssinglebandgrayrenderer_8h.html">qgssinglebandgrayrenderer.h</a></div></div>
<div class="ttc" id="classQgsRaster_html_a17a81534803b9b5ee1e5cd91aab628c6abddd4a3ccc84c95df83e7bfdd8dbf9fe"><div class="ttname"><a href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6abddd4a3ccc84c95df83e7bfdd8dbf9fe">QgsRaster::IdentifyFormatValue</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00060">qgsraster.h:60</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html_aa5dea703e378e4881167303287d7d213"><div class="ttname"><a href="classQgsColorRampShader.html#aa5dea703e378e4881167303287d7d213">QgsColorRampShader::classifyColorRamp</a></div><div class="ttdeci">void classifyColorRamp(int classes=0, int band=-1, const QgsRectangle &amp;extent=QgsRectangle(), QgsRasterInterface *input=nullptr)</div><div class="ttdoc">Classify color ramp shader. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8cpp_source.html#l00135">qgscolorrampshader.cpp:135</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ac82373970429eac2c9f41cd14b502020"><div class="ttname"><a href="classQgsMapLayer.html#ac82373970429eac2c9f41cd14b502020">QgsMapLayer::repaintRequested</a></div><div class="ttdeci">void repaintRequested(bool deferredUpdate=false)</div><div class="ttdoc">By emitting this signal the layer tells that either appearance or content have been changed and any v...</div></div>
<div class="ttc" id="classQgsRasterRenderer_html_a395a45ed57fb7c2809061eb6710a90e4"><div class="ttname"><a href="classQgsRasterRenderer.html#a395a45ed57fb7c2809061eb6710a90e4">QgsRasterRenderer::setMinMaxOrigin</a></div><div class="ttdeci">void setMinMaxOrigin(const QgsRasterMinMaxOrigin &amp;origin)</div><div class="ttdoc">Sets origin of min/max values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8h_source.html#l00114">qgsrasterrenderer.h:114</a></div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html_a85c8e1425c6c11de5d051db3c43ce7ec"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html#a85c8e1425c6c11de5d051db3c43ce7ec">QgsLayerMetadataFormatter::identificationSectionHtml</a></div><div class="ttdeci">QString identificationSectionHtml() const</div><div class="ttdoc">Formats the &quot;Identification&quot; section according to a metadata object. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8cpp_source.html#l00183">qgslayermetadataformatter.cpp:183</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_ad420d5ab8fb9c50a66146757430d8ae9"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9">QgsRasterMinMaxOrigin::Limits</a></div><div class="ttdeci">Limits</div><div class="ttdoc">This enumerator describes the limits used to compute min/max values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00048">qgsrasterminmaxorigin.h:48</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_ab89e44c94d6782d79fe460cd0c5abaf1"><div class="ttname"><a href="structQgsRasterViewPort.html#ab89e44c94d6782d79fe460cd0c5abaf1">QgsRasterViewPort::mSrcCRS</a></div><div class="ttdeci">QgsCoordinateReferenceSystem mSrcCRS</div><div class="ttdoc">Source coordinate system. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00065">qgsrasterviewport.h:65</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a49a8589fa9b4de8844018ef0c8c83c13"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a49a8589fa9b4de8844018ef0c8c83c13">QgsRasterMinMaxOrigin::setLimits</a></div><div class="ttdeci">void setLimits(QgsRasterMinMaxOrigin::Limits limits)</div><div class="ttdoc">Sets the limits. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00105">qgsrasterminmaxorigin.h:105</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a16065dafa18ccae59483f21464c0a901"><div class="ttname"><a href="classQgsMapLayer.html#a16065dafa18ccae59483f21464c0a901">QgsMapLayer::writeStyleManager</a></div><div class="ttdeci">void writeStyleManager(QDomNode &amp;layerNode, QDomDocument &amp;doc) const</div><div class="ttdoc">Write style manager&amp;#39;s configuration (if exists). To be called by subclasses. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00633">qgsmaplayer.cpp:633</a></div></div>
<div class="ttc" id="classQgsRasterProjector_html"><div class="ttname"><a href="classQgsRasterProjector.html">QgsRasterProjector</a></div><div class="ttdoc">QgsRasterProjector implements approximate projection support for it calculates grid of points in sour...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterprojector_8h_source.html#l00047">qgsrasterprojector.h:47</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a2ab7bdb03899bfdadaf8ac87a4a012d2"><div class="ttname"><a href="classQgsRasterLayer.html#a2ab7bdb03899bfdadaf8ac87a4a012d2">QgsRasterLayer::writeSymbology</a></div><div class="ttdeci">bool writeSymbology(QDomNode &amp;, QDomDocument &amp;doc, QString &amp;errorMessage, const QgsReadWriteContext &amp;context, QgsMapLayer::StyleCategories categories=QgsMapLayer::AllStyleCategories) const override</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01840">qgsrasterlayer.cpp:1840</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_a015ddeaa568ee710f44da1615fa0c810"><div class="ttname"><a href="classQgsRasterPipe.html#a015ddeaa568ee710f44da1615fa0c810">QgsRasterPipe::set</a></div><div class="ttdeci">bool set(QgsRasterInterface *interface)</div><div class="ttdoc">Insert a new known interface in default place or replace interface of the same role if it already exi...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8cpp_source.html#l00162">qgsrasterpipe.cpp:162</a></div></div>
<div class="ttc" id="structQgsRasterRendererRegistryEntry_html"><div class="ttname"><a href="structQgsRasterRendererRegistryEntry.html">QgsRasterRendererRegistryEntry</a></div><div class="ttdoc">Registry for raster renderer entries. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrendererregistry_8h_source.html#l00044">qgsrasterrendererregistry.h:44</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_a1716494dc8a177d11d9ab285c27811b0"><div class="ttname"><a href="classQgsDataProvider.html#a1716494dc8a177d11d9ab285c27811b0">QgsDataProvider::transformContext</a></div><div class="ttdeci">QgsCoordinateTransformContext transformContext() const</div><div class="ttdoc">Returns data provider coordinate transform context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8cpp_source.html#l00057">qgsdataprovider.cpp:57</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_aaa39473935ac32b7b38970fed2ffaaac"><div class="ttname"><a href="classQgsRasterInterface.html#aaa39473935ac32b7b38970fed2ffaaac">QgsRasterInterface::bandStatistics</a></div><div class="ttdeci">virtual QgsRasterBandStats bandStatistics(int bandNo, int stats=QgsRasterBandStats::All, const QgsRectangle &amp;extent=QgsRectangle(), int sampleSize=0, QgsRasterBlockFeedback *feedback=nullptr)</div><div class="ttdoc">Returns the band statistics. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8cpp_source.html#l00116">qgsrasterinterface.cpp:116</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a7c29f50c8a8cf36e5a1174cffaf9be8ba5a91f2b3639c42cdc0dcc57fb021d9d8"><div class="ttname"><a href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba5a91f2b3639c42cdc0dcc57fb021d9d8">QgsRasterBandStats::Mean</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00044">qgsrasterbandstats.h:44</a></div></div>
<div class="ttc" id="qgsrasterlayer_8h_html_a94dc041a8288bdc5076cc362147cd96d"><div class="ttname"><a href="qgsrasterlayer_8h.html#a94dc041a8288bdc5076cc362147cd96d">QgsLegendColorList</a></div><div class="ttdeci">QList&lt; QPair&lt; QString, QColor &gt; &gt; QgsLegendColorList</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00048">qgsrasterlayer.h:48</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a8f6190f9bea92287aee15d6d94ffe9a4"><div class="ttname"><a href="classQgsRasterLayer.html#a8f6190f9bea92287aee15d6d94ffe9a4">QgsRasterLayer::previewAsImage</a></div><div class="ttdeci">QImage previewAsImage(QSize size, const QColor &amp;bgColor=Qt::white, QImage::Format format=QImage::Format_ARGB32_Premultiplied)</div><div class="ttdoc">Draws a preview of the rasterlayer into a QImage. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01531">qgsrasterlayer.cpp:1531</a></div></div>
<div class="ttc" id="qgscoordinatetransform_8h_html"><div class="ttname"><a href="qgscoordinatetransform_8h.html">qgscoordinatetransform.h</a></div></div>
<div class="ttc" id="classQgsSingleBandGrayRenderer_html_a2b6605366fe935e65965a66beeb886e6"><div class="ttname"><a href="classQgsSingleBandGrayRenderer.html#a2b6605366fe935e65965a66beeb886e6">QgsSingleBandGrayRenderer::setContrastEnhancement</a></div><div class="ttdeci">void setContrastEnhancement(QgsContrastEnhancement *ce)</div><div class="ttdoc">Takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandgrayrenderer_8cpp_source.html#l00075">qgssinglebandgrayrenderer.cpp:75</a></div></div>
<div class="ttc" id="classQgsBrightnessContrastFilter_html_a3857642f39588b95fbcd1eec5fc2fafd"><div class="ttname"><a href="classQgsBrightnessContrastFilter.html#a3857642f39588b95fbcd1eec5fc2fafd">QgsBrightnessContrastFilter::brightness</a></div><div class="ttdeci">int brightness() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsbrightnesscontrastfilter_8h_source.html#l00047">qgsbrightnesscontrastfilter.h:47</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a508c8cf96ed6925d12a33085612f9b05aec5ee874e5e3a63ec621f5bb76a399f0"><div class="ttname"><a href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05aec5ee874e5e3a63ec621f5bb76a399f0">QgsRasterInterface::IdentifyText</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00192">qgsrasterinterface.h:192</a></div></div>
<div class="ttc" id="classQgsReadWriteContext_html_ad19460c487ca9ec017672fcdc12eae1c"><div class="ttname"><a href="classQgsReadWriteContext.html#ad19460c487ca9ec017672fcdc12eae1c">QgsReadWriteContext::pathResolver</a></div><div class="ttdeci">const QgsPathResolver &amp; pathResolver() const</div><div class="ttdoc">Returns path resolver for conversion between relative and absolute paths. </div><div class="ttdef"><b>Definition:</b> <a href="qgsreadwritecontext_8cpp_source.html#l00029">qgsreadwritecontext.cpp:29</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html_a04aef4f4a482dcf42b69940e958219f6"><div class="ttname"><a href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6">QgsContrastEnhancement::ContrastEnhancementAlgorithm</a></div><div class="ttdeci">ContrastEnhancementAlgorithm</div><div class="ttdoc">This enumerator describes the types of contrast enhancement algorithms that can be used...</div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8h_source.html#l00048">qgscontrastenhancement.h:48</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a44d7dceef01f180c0db76b2d346fad2f"><div class="ttname"><a href="classQgsMapLayer.html#a44d7dceef01f180c0db76b2d346fad2f">QgsMapLayer::loadDefaultStyle</a></div><div class="ttdeci">virtual QString loadDefaultStyle(bool &amp;resultFlag)</div><div class="ttdoc">Retrieve the default style for this layer if one exists (either as a .qml file on disk or as a record...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00846">qgsmaplayer.cpp:846</a></div></div>
<div class="ttc" id="classQgsRenderContext_html"><div class="ttname"><a href="classQgsRenderContext.html">QgsRenderContext</a></div><div class="ttdoc">Contains information about the context of a rendering operation. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrendercontext_8h_source.html#l00050">qgsrendercontext.h:50</a></div></div>
<div class="ttc" id="structQgsDataProvider_1_1ProviderOptions_html"><div class="ttname"><a href="structQgsDataProvider_1_1ProviderOptions.html">QgsDataProvider::ProviderOptions</a></div><div class="ttdoc">Setting options for creating vector data providers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00100">qgsdataprovider.h:100</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a36c2af8daef522a221d7ee67b257b057"><div class="ttname"><a href="classQgsMapLayer.html#a36c2af8daef522a221d7ee67b257b057">QgsMapLayer::name</a></div><div class="ttdeci">QString name() const</div><div class="ttdoc">Returns the display name of the layer. </div></div>
<div class="ttc" id="classQgsSingleBandPseudoColorRenderer_html_a0159506037010841e13404e7379cfe7f"><div class="ttname"><a href="classQgsSingleBandPseudoColorRenderer.html#a0159506037010841e13404e7379cfe7f">QgsSingleBandPseudoColorRenderer::setClassificationMin</a></div><div class="ttdeci">void setClassificationMin(double min)</div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandpseudocolorrenderer_8cpp_source.html#l00047">qgssinglebandpseudocolorrenderer.cpp:47</a></div></div>
<div class="ttc" id="classQgsMapLayerLegend_html_abbbb5da34ded965cc0c80de2cd74279d"><div class="ttname"><a href="classQgsMapLayerLegend.html#abbbb5da34ded965cc0c80de2cd74279d">QgsMapLayerLegend::defaultRasterLegend</a></div><div class="ttdeci">static QgsMapLayerLegend * defaultRasterLegend(QgsRasterLayer *rl)</div><div class="ttdoc">Create new legend implementation for raster layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerlegend_8cpp_source.html#l00052">qgsmaplayerlegend.cpp:52</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_a22129983ce402c6b7912b1b3ca1e8905"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#a22129983ce402c6b7912b1b3ca1e8905">QgsMultiBandColorRenderer::redContrastEnhancement</a></div><div class="ttdeci">const QgsContrastEnhancement * redContrastEnhancement() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00058">qgsmultibandcolorrenderer.h:58</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_afdb2d3a3d555d8b98c9d87150e848cd7"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#afdb2d3a3d555d8b98c9d87150e848cd7">QgsMultiBandColorRenderer::greenContrastEnhancement</a></div><div class="ttdeci">const QgsContrastEnhancement * greenContrastEnhancement() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00062">qgsmultibandcolorrenderer.h:62</a></div></div>
<div class="ttc" id="qgsreadwritecontext_8h_html"><div class="ttname"><a href="qgsreadwritecontext_8h.html">qgsreadwritecontext.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_ac773ccb8156c286edf4dd1383d109fb3"><div class="ttname"><a href="classQgsRasterLayer.html#ac773ccb8156c286edf4dd1383d109fb3">QgsRasterLayer::resampleFilter</a></div><div class="ttdeci">QgsRasterResampleFilter * resampleFilter() const</div><div class="ttdoc">Sets raster resample filter. Takes ownership of the resample filter object. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00295">qgsrasterlayer.h:295</a></div></div>
<div class="ttc" id="classQgsRasterPipe_html_a8ab6a9c3704a8db7cb1ca17064e87ef2"><div class="ttname"><a href="classQgsRasterPipe.html#a8ab6a9c3704a8db7cb1ca17064e87ef2">QgsRasterPipe::remove</a></div><div class="ttdeci">bool remove(int idx)</div><div class="ttdoc">Remove and delete interface at given index if possible. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterpipe_8cpp_source.html#l00267">qgsrasterpipe.cpp:267</a></div></div>
<div class="ttc" id="qgsrasterrange_8h_html_aa019f327f8ac3e6a626f33ed9d047d1e"><div class="ttname"><a href="qgsrasterrange_8h.html#aa019f327f8ac3e6a626f33ed9d047d1e">QgsRasterRangeList</a></div><div class="ttdeci">QList&lt; QgsRasterRange &gt; QgsRasterRangeList</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrange_8h_source.html#l00026">qgsrasterrange.h:26</a></div></div>
<div class="ttc" id="qgsmaplayerlegend_8h_html"><div class="ttname"><a href="qgsmaplayerlegend_8h.html">qgsmaplayerlegend.h</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ab5fc04c67ff2528d9de23be1d39e3ef3"><div class="ttname"><a href="classQgsMapLayer.html#ab5fc04c67ff2528d9de23be1d39e3ef3">QgsMapLayer::mDataSource</a></div><div class="ttdeci">QString mDataSource</div><div class="ttdoc">Data source description string, varies by layer type. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l01445">qgsmaplayer.h:1445</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_af36b4c59d0970126bfa9070b9f425212"><div class="ttname"><a href="classQgsDataProvider.html#af36b4c59d0970126bfa9070b9f425212">QgsDataProvider::setTransformContext</a></div><div class="ttdeci">virtual void setTransformContext(const QgsCoordinateTransformContext &amp;transformContext)</div><div class="ttdoc">Sets data coordinate transform context to transformContext. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8cpp_source.html#l00063">qgsdataprovider.cpp:63</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_ac650d1dba494762832ae1aae3a875e13"><div class="ttname"><a href="structQgsRasterViewPort.html#ac650d1dba494762832ae1aae3a875e13">QgsRasterViewPort::mTransformContext</a></div><div class="ttdeci">QgsCoordinateTransformContext mTransformContext</div><div class="ttdoc">Coordinate transform context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00073">qgsrasterviewport.h:73</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a1b9b89d2f8877ccddf9a15c6aab5de9d"><div class="ttname"><a href="classQgsMapLayer.html#a1b9b89d2f8877ccddf9a15c6aab5de9d">QgsMapLayer::source</a></div><div class="ttdeci">QString source() const</div><div class="ttdoc">Returns the source for the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00185">qgsmaplayer.cpp:185</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_ac35584be06e26baf799a522426afdfd8"><div class="ttname"><a href="classQgsRasterLayer.html#ac35584be06e26baf799a522426afdfd8">QgsRasterLayer::readSymbology</a></div><div class="ttdeci">bool readSymbology(const QDomNode &amp;node, QString &amp;errorMessage, QgsReadWriteContext &amp;context, QgsMapLayer::StyleCategories categories=QgsMapLayer::AllStyleCategories) override</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01593">qgsrasterlayer.cpp:1593</a></div></div>
<div class="ttc" id="classQgsRaster_html_a17a81534803b9b5ee1e5cd91aab628c6af6aed95d5d8235256871c9f27d126c0d"><div class="ttname"><a href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6af6aed95d5d8235256871c9f27d126c0d">QgsRaster::IdentifyFormatHtml</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00062">qgsraster.h:62</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a1cf751088ebc443bb7efb0c0006b442d"><div class="ttname"><a href="classQgsRasterInterface.html#a1cf751088ebc443bb7efb0c0006b442d">QgsRasterInterface::clone</a></div><div class="ttdeci">virtual QgsRasterInterface * clone() const =0</div><div class="ttdoc">Clone itself, create deep copy. </div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a68c9d4a7af67828f51525da85edf66b3a8f67134beb176a04e1ba2197b3501fc3"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a68c9d4a7af67828f51525da85edf66b3a8f67134beb176a04e1ba2197b3501fc3">QgsRasterMinMaxOrigin::WholeRaster</a></div><div class="ttdoc">Whole raster is used to compute statistics. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00060">qgsrasterminmaxorigin.h:60</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a8b1e61edeca056f552fe01438155dbde"><div class="ttname"><a href="classQgsMapLayer.html#a8b1e61edeca056f552fe01438155dbde">QgsMapLayer::hasScaleBasedVisibility</a></div><div class="ttdeci">bool hasScaleBasedVisibility() const</div><div class="ttdoc">Returns whether scale based visibility is enabled for the layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00663">qgsmaplayer.cpp:663</a></div></div>
<div class="ttc" id="classQgsDataProvider_html_aea143a6723ae49ca0a10061ec52322d0"><div class="ttname"><a href="classQgsDataProvider.html#aea143a6723ae49ca0a10061ec52322d0">QgsDataProvider::reloadData</a></div><div class="ttdeci">virtual void reloadData()</div><div class="ttdoc">Reloads the data from the source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdataprovider_8h_source.html#l00366">qgsdataprovider.h:366</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html_a1246c5e2d02dc3f5b2125485cdf20bee"><div class="ttname"><a href="classQgsDataSourceUri.html#a1246c5e2d02dc3f5b2125485cdf20bee">QgsDataSourceUri::encodedUri</a></div><div class="ttdeci">QByteArray encodedUri() const</div><div class="ttdoc">Returns the complete encoded URI as a byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8cpp_source.html#l00577">qgsdatasourceuri.cpp:577</a></div></div>
<div class="ttc" id="qgssinglebandcolordatarenderer_8h_html"><div class="ttname"><a href="qgssinglebandcolordatarenderer_8h.html">qgssinglebandcolordatarenderer.h</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_af7179175f035f96a181e1fd9d2c5b6ce"><div class="ttname"><a href="structQgsRasterViewPort.html#af7179175f035f96a181e1fd9d2c5b6ce">QgsRasterViewPort::mHeight</a></div><div class="ttdeci">int mHeight</div><div class="ttdoc">Distance in map units from bottom edge to top edge for the part of the raster that is to be rendered...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00059">qgsrasterviewport.h:59</a></div></div>
<div class="ttc" id="classQgsBrightnessContrastFilter_html"><div class="ttname"><a href="classQgsBrightnessContrastFilter.html">QgsBrightnessContrastFilter</a></div><div class="ttdoc">Brightness/contrast filter pipe for rasters. </div><div class="ttdef"><b>Definition:</b> <a href="qgsbrightnesscontrastfilter_8h_source.html#l00031">qgsbrightnesscontrastfilter.h:31</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_a6bb5ba0beb30f4e4c7b4bd21eeecbbde"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#a6bb5ba0beb30f4e4c7b4bd21eeecbbde">QgsMultiBandColorRenderer::blueBand</a></div><div class="ttdeci">int blueBand() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00055">qgsmultibandcolorrenderer.h:55</a></div></div>
<div class="ttc" id="classQgsCoordinateReferenceSystem_html"><div class="ttname"><a href="classQgsCoordinateReferenceSystem.html">QgsCoordinateReferenceSystem</a></div><div class="ttdoc">This class represents a coordinate reference system (CRS). </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatereferencesystem_8h_source.html#l00198">qgscoordinatereferencesystem.h:198</a></div></div>
<div class="ttc" id="classQgsRaster_html_aa7defa62bd87b1b5fd11a09228372bcfacfb55e2f7cd4d57cd36b89f9e434e4e4"><div class="ttname"><a href="classQgsRaster.html#aa7defa62bd87b1b5fd11a09228372bcfacfb55e2f7cd4d57cd36b89f9e434e4e4">QgsRaster::UndefinedDrawingStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00091">qgsraster.h:91</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html"><div class="ttname"><a href="classQgsHueSaturationFilter.html">QgsHueSaturationFilter</a></div><div class="ttdoc">Color and saturation filter pipe for rasters. </div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00031">qgshuesaturationfilter.h:31</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a7c29f50c8a8cf36e5a1174cffaf9be8ba0d18f9b8691953850284e098d20fe739"><div class="ttname"><a href="classQgsRasterBandStats.html#a7c29f50c8a8cf36e5a1174cffaf9be8ba0d18f9b8691953850284e098d20fe739">QgsRasterBandStats::Max</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00041">qgsrasterbandstats.h:41</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_aa7ddcb21c1101e1adfda8c51bcd77630"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#aa7ddcb21c1101e1adfda8c51bcd77630">QgsMultiBandColorRenderer::setBlueContrastEnhancement</a></div><div class="ttdeci">void setBlueContrastEnhancement(QgsContrastEnhancement *ce)</div><div class="ttdoc">Takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8cpp_source.html#l00082">qgsmultibandcolorrenderer.cpp:82</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_aa0417bf62ab0164d5a5ed1801e7f12daa30ea09201e4d40c0cdcd09681a0e6ae5"><div class="ttname"><a href="classQgsRasterDataProvider.html#aa0417bf62ab0164d5a5ed1801e7f12daa30ea09201e4d40c0cdcd09681a0e6ae5">QgsRasterDataProvider::ReadLayerMetadata</a></div><div class="ttdoc">Provider can read layer metadata from data store. Since QGIS 3.0. See QgsDataProvider::layerMetadata(...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00100">qgsrasterdataprovider.h:100</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html_ad7c5c0d73b29fee8bf8fd46d1465dd66"><div class="ttname"><a href="classQgsContrastEnhancement.html#ad7c5c0d73b29fee8bf8fd46d1465dd66">QgsContrastEnhancement::contrastEnhancementAlgorithm</a></div><div class="ttdeci">ContrastEnhancementAlgorithm contrastEnhancementAlgorithm() const</div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8h_source.html#l00100">qgscontrastenhancement.h:100</a></div></div>
<div class="ttc" id="classQgsRaster_html_a94cc43355c657fab44bd147d82b2c2f1ab38e658eff4c6e3d23cf42bccfcc76c1"><div class="ttname"><a href="classQgsRaster.html#a94cc43355c657fab44bd147d82b2c2f1ab38e658eff4c6e3d23cf42bccfcc76c1">QgsRaster::GrayIndex</a></div><div class="ttdoc">Greyscale. </div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00038">qgsraster.h:38</a></div></div>
<div class="ttc" id="qgsrasterlayer_8cpp_html_a40b4d7bb24c382580765978004a06312"><div class="ttname"><a href="qgsrasterlayer_8cpp.html#a40b4d7bb24c382580765978004a06312">isvalidrasterfilename_t</a></div><div class="ttdeci">bool isvalidrasterfilename_t(QString const &amp;fileNameQString, QString &amp;retErrMsg)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00082">qgsrasterlayer.cpp:82</a></div></div>
<div class="ttc" id="classQgsSingleBandGrayRenderer_html_a30045387aa27b9b0284ae8b2b9bdfdca"><div class="ttname"><a href="classQgsSingleBandGrayRenderer.html#a30045387aa27b9b0284ae8b2b9bdfdca">QgsSingleBandGrayRenderer::grayBand</a></div><div class="ttdeci">int grayBand() const</div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandgrayrenderer_8h_source.html#l00055">qgssinglebandgrayrenderer.h:55</a></div></div>
<div class="ttc" id="qgssymbollayerutils_8h_html"><div class="ttname"><a href="qgssymbollayerutils_8h.html">qgssymbollayerutils.h</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a9b2426640429f78b13b6a5fbb9d0f6f7"><div class="ttname"><a href="classQgsRasterDataProvider.html#a9b2426640429f78b13b6a5fbb9d0f6f7">QgsRasterDataProvider::subLayers</a></div><div class="ttdeci">QStringList subLayers() const override</div><div class="ttdoc">Returns the sublayers of this layer - useful for providers that manage their own layers, such as WMS. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00257">qgsrasterdataprovider.h:257</a></div></div>
<div class="ttc" id="classQgsPathResolver_html_a20d561880e5515d24a4d928547c4b245"><div class="ttname"><a href="classQgsPathResolver.html#a20d561880e5515d24a4d928547c4b245">QgsPathResolver::writePath</a></div><div class="ttdeci">QString writePath(const QString &amp;filename) const</div><div class="ttdoc">Prepare a filename to save it to the project file. </div><div class="ttdef"><b>Definition:</b> <a href="qgspathresolver_8cpp_source.html#l00146">qgspathresolver.cpp:146</a></div></div>
<div class="ttc" id="classQgsRasterBandStats_html_a64e79039aa1fd84ea84a494da8d025ed"><div class="ttname"><a href="classQgsRasterBandStats.html#a64e79039aa1fd84ea84a494da8d025ed">QgsRasterBandStats::minimumValue</a></div><div class="ttdeci">double minimumValue</div><div class="ttdoc">The minimum cell value in the raster band. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterbandstats_8h_source.html#l00091">qgsrasterbandstats.h:91</a></div></div>
<div class="ttc" id="classQgsLayerMetadataFormatter_html"><div class="ttname"><a href="classQgsLayerMetadataFormatter.html">QgsLayerMetadataFormatter</a></div><div class="ttdoc">Class for metadata formatter. </div><div class="ttdef"><b>Definition:</b> <a href="qgslayermetadataformatter_8h_source.html#l00033">qgslayermetadataformatter.h:33</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html">QgsMultiBandColorRenderer</a></div><div class="ttdoc">Renderer for multiband images with the color components. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00032">qgsmultibandcolorrenderer.h:32</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_aab986300fe8b66d0b74a7e4c68002fed"><div class="ttname"><a href="classQgsRasterLayer.html#aab986300fe8b66d0b74a7e4c68002fed">QgsRasterLayer::isSpatial</a></div><div class="ttdeci">bool isSpatial() const override</div><div class="ttdoc">Returns true if the layer is considered a spatial layer, ie it has some form of geometry associated w...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00344">qgsrasterlayer.h:344</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a9a99625af1f7d08d843b2984bb41c476"><div class="ttname"><a href="classQgsMapLayer.html#a9a99625af1f7d08d843b2984bb41c476">QgsMapLayer::dataChanged</a></div><div class="ttdeci">void dataChanged()</div><div class="ttdoc">Data of layer changed. </div></div>
<div class="ttc" id="classQgsMapLayer_html_ab2ef166c47e54080e3a939c03a2e3065"><div class="ttname"><a href="classQgsMapLayer.html#ab2ef166c47e54080e3a939c03a2e3065">QgsMapLayer::appendError</a></div><div class="ttdeci">void appendError(const QgsErrorMessage &amp;error)</div><div class="ttdoc">Add error message. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l01434">qgsmaplayer.h:1434</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_acab0cf63182d7071c175cf9bdec38da0"><div class="ttname"><a href="classQgsRasterDataProvider.html#acab0cf63182d7071c175cf9bdec38da0">QgsRasterDataProvider::userNoDataValues</a></div><div class="ttdeci">virtual QgsRasterRangeList userNoDataValues(int bandNo) const</div><div class="ttdoc">Returns a list of user no data value ranges. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00248">qgsrasterdataprovider.h:248</a></div></div>
<div class="ttc" id="classQgsMapLayerRenderer_html"><div class="ttname"><a href="classQgsMapLayerRenderer.html">QgsMapLayerRenderer</a></div><div class="ttdoc">Base class for utility classes that encapsulate information necessary for rendering of map layers...</div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayerrenderer_8h_source.html#l00048">qgsmaplayerrenderer.h:48</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html_a9d30694b4c16b0a23a69a44d3286d246a19f6eeeb60a86751d2562efcce1f7a73"><div class="ttname"><a href="classQgsColorRampShader.html#a9d30694b4c16b0a23a69a44d3286d246a19f6eeeb60a86751d2562efcce1f7a73">QgsColorRampShader::Interpolated</a></div><div class="ttdoc">Interpolates the color between two class breaks linearly. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8h_source.html#l00047">qgscolorrampshader.h:47</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html"><div class="ttname"><a href="classQgsContrastEnhancement.html">QgsContrastEnhancement</a></div><div class="ttdoc">Manipulates raster pixel values so that they enhanceContrast or clip into a specified numerical range...</div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8h_source.html#l00042">qgscontrastenhancement.h:42</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a0bd555e5014834244a73b4bf442e47f0"><div class="ttname"><a href="classQgsRasterLayer.html#a0bd555e5014834244a73b4bf442e47f0">QgsRasterLayer::encodedSource</a></div><div class="ttdeci">QString encodedSource(const QString &amp;source, const QgsReadWriteContext &amp;context) const override</div><div class="ttdoc">Called by writeLayerXML(), used by derived classes to encode provider&amp;#39;s specific data source to proje...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01964">qgsrasterlayer.cpp:1964</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_acccf2dc099060ba9ed4257ad36ad9d03"><div class="ttname"><a href="classQgsHueSaturationFilter.html#acccf2dc099060ba9ed4257ad36ad9d03">QgsHueSaturationFilter::readXml</a></div><div class="ttdeci">void readXml(const QDomElement &amp;filterElem) override</div><div class="ttdoc">Sets base class members from xml. Usually called from create() methods of subclasses. </div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8cpp_source.html#l00351">qgshuesaturationfilter.cpp:351</a></div></div>
<div class="ttc" id="group__core_html_gafbd92a77d43d50b374d3d022ec71d30c"><div class="ttname"><a href="group__core.html#gafbd92a77d43d50b374d3d022ec71d30c">QgsMapLayerType</a></div><div class="ttdeci">QgsMapLayerType</div><div class="ttdoc">Types of layers that can be added to a map. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l00065">qgsmaplayer.h:65</a></div></div>
<div class="ttc" id="qgshuesaturationfilter_8h_html"><div class="ttname"><a href="qgshuesaturationfilter_8h.html">qgshuesaturationfilter.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a5285451327946519147e4e06f593348a"><div class="ttname"><a href="classQgsRasterLayer.html#a5285451327946519147e4e06f593348a">QgsRasterLayer::refreshRendererIfNeeded</a></div><div class="ttdeci">void refreshRendererIfNeeded(QgsRasterRenderer *rasterRenderer, const QgsRectangle &amp;extent)</div><div class="ttdoc">Refresh renderer with new extent, if needed. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l01096">qgsrasterlayer.cpp:1096</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_ae250350354baaa5bf9d6b91401061931"><div class="ttname"><a href="classQgsRasterLayer.html#ae250350354baaa5bf9d6b91401061931">QgsRasterLayer::~QgsRasterLayer</a></div><div class="ttdeci">~QgsRasterLayer() override</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00130">qgsrasterlayer.cpp:130</a></div></div>
<div class="ttc" id="qgsrasterprojector_8h_html"><div class="ttname"><a href="qgsrasterprojector_8h.html">qgsrasterprojector.h</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html"><div class="ttname"><a href="structQgsRasterViewPort.html">QgsRasterViewPort</a></div><div class="ttdoc">This class provides details of the viewable area that a raster will be rendered into. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00034">qgsrasterviewport.h:34</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_aa5feb08163f509264cd3fcbf8e8305b8"><div class="ttname"><a href="classQgsRasterDataProvider.html#aa5feb08163f509264cd3fcbf8e8305b8">QgsRasterDataProvider::dataTimestamp</a></div><div class="ttdeci">QDateTime dataTimestamp() const override</div><div class="ttdoc">Current time stamp of data source. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00417">qgsrasterdataprovider.h:417</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a3277411b3891dba04ce4eb5700347ec8"><div class="ttname"><a href="classQgsRasterDataProvider.html#a3277411b3891dba04ce4eb5700347ec8">QgsRasterDataProvider::useSourceNoDataValue</a></div><div class="ttdeci">virtual bool useSourceNoDataValue(int bandNo) const</div><div class="ttdoc">Returns the source nodata value usage. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00237">qgsrasterdataprovider.h:237</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_ad420d5ab8fb9c50a66146757430d8ae9aa6e755e218bddff18c1aa9795172858e"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#ad420d5ab8fb9c50a66146757430d8ae9aa6e755e218bddff18c1aa9795172858e">QgsRasterMinMaxOrigin::MinMax</a></div><div class="ttdoc">Real min-max values. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00051">qgsrasterminmaxorigin.h:51</a></div></div>
<div class="ttc" id="qgsproviderregistry_8h_html"><div class="ttname"><a href="qgsproviderregistry_8h.html">qgsproviderregistry.h</a></div></div>
<div class="ttc" id="classQgsColorRampShader_html_a9d30694b4c16b0a23a69a44d3286d246a81a5f64ba6ee99f385555cb7560c4069"><div class="ttname"><a href="classQgsColorRampShader.html#a9d30694b4c16b0a23a69a44d3286d246a81a5f64ba6ee99f385555cb7560c4069">QgsColorRampShader::Discrete</a></div><div class="ttdoc">Assigns the color of the higher class for every pixel between two class breaks. </div><div class="ttdef"><b>Definition:</b> <a href="qgscolorrampshader_8h_source.html#l00048">qgscolorrampshader.h:48</a></div></div>
<div class="ttc" id="classQgsContrastEnhancement_html_a04aef4f4a482dcf42b69940e958219f6a0819c23941809548e46a27301d56cca8"><div class="ttname"><a href="classQgsContrastEnhancement.html#a04aef4f4a482dcf42b69940e958219f6a0819c23941809548e46a27301d56cca8">QgsContrastEnhancement::StretchToMinimumMaximum</a></div><div class="ttdef"><b>Definition:</b> <a href="qgscontrastenhancement_8h_source.html#l00051">qgscontrastenhancement.h:51</a></div></div>
<div class="ttc" id="structQgsRasterLayer_1_1LayerOptions_html_a9bd15549ba86340b9339cc650fb2e93a"><div class="ttname"><a href="structQgsRasterLayer_1_1LayerOptions.html#a9bd15549ba86340b9339cc650fb2e93a">QgsRasterLayer::LayerOptions::transformContext</a></div><div class="ttdeci">QgsCoordinateTransformContext transformContext</div><div class="ttdoc">Coordinate transform context. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00190">qgsrasterlayer.h:190</a></div></div>
<div class="ttc" id="classQgsRasterRenderer_html_a56ff35fe30084073f1dadaa04d40f7cd"><div class="ttname"><a href="classQgsRasterRenderer.html#a56ff35fe30084073f1dadaa04d40f7cd">QgsRasterRenderer::legendSymbologyItems</a></div><div class="ttdeci">virtual void legendSymbologyItems(QList&lt; QPair&lt; QString, QColor &gt; &gt; &amp;symbolItems) const</div><div class="ttdoc">Gets symbology items if provided by renderer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8h_source.html#l00096">qgsrasterrenderer.h:96</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a6fd95d26a509c3855900518b5411b193"><div class="ttname"><a href="classQgsRasterInterface.html#a6fd95d26a509c3855900518b5411b193">QgsRasterInterface::generateBandName</a></div><div class="ttdeci">virtual QString generateBandName(int bandNumber) const</div><div class="ttdoc">helper function to create zero padded band names </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00244">qgsrasterinterface.h:244</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a8bbb70eb20fe3667fd7eaa4c42e544f0"><div class="ttname"><a href="classQgsRasterLayer.html#a8bbb70eb20fe3667fd7eaa4c42e544f0">QgsRasterLayer::reload</a></div><div class="ttdeci">void reload() override</div><div class="ttdoc">Synchronises with changes in the datasource. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00241">qgsrasterlayer.cpp:241</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ad719757736676710b1c856640e4d232d"><div class="ttname"><a href="classQgsMapLayer.html#ad719757736676710b1c856640e4d232d">QgsMapLayer::setLegend</a></div><div class="ttdeci">void setLegend(QgsMapLayerLegend *legend)</div><div class="ttdoc">Assign a legend controller to the map layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01727">qgsmaplayer.cpp:1727</a></div></div>
<div class="ttc" id="classQgsDataSourceUri_html"><div class="ttname"><a href="classQgsDataSourceUri.html">QgsDataSourceUri</a></div><div class="ttdoc">Class for storing the component parts of a RDBMS data source URI (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="qgsdatasourceuri_8h_source.html#l00035">qgsdatasourceuri.h:35</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_afac35ba3e4f04668ae25558d0d559643"><div class="ttname"><a href="classQgsRasterDataProvider.html#afac35ba3e4f04668ae25558d0d559643">QgsRasterDataProvider::setUserNoDataValue</a></div><div class="ttdeci">virtual void setUserNoDataValue(int bandNo, const QgsRasterRangeList &amp;noData)</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8cpp_source.html#l00388">qgsrasterdataprovider.cpp:388</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5a231786e9edfec3157173efa250fbc013"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5a231786e9edfec3157173efa250fbc013">Qgis::CFloat64</a></div><div class="ttdoc">Complex Float64. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00092">qgis.h:92</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a148d2b4ef75873ec4fe8008a30198a01"><div class="ttname"><a href="classQgsRasterLayer.html#a148d2b4ef75873ec4fe8008a30198a01">QgsRasterLayer::legendSymbologyItems</a></div><div class="ttdeci">QgsLegendColorList legendSymbologyItems() const</div><div class="ttdoc">Returns a list with classification items (Text and color) </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00286">qgsrasterlayer.cpp:286</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a5c4b360b60641aead70bf7744982f5fc"><div class="ttname"><a href="classQgsRasterDataProvider.html#a5c4b360b60641aead70bf7744982f5fc">QgsRasterDataProvider::providerCapabilities</a></div><div class="ttdeci">virtual QgsRasterDataProvider::ProviderCapabilities providerCapabilities() const</div><div class="ttdoc">Returns flags containing the supported capabilities of the data provider. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8cpp_source.html#l00227">qgsrasterdataprovider.cpp:227</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a508c8cf96ed6925d12a33085612f9b05a3289d821c3ce98cc0152d083c040ab2e"><div class="ttname"><a href="classQgsRasterInterface.html#a508c8cf96ed6925d12a33085612f9b05a3289d821c3ce98cc0152d083c040ab2e">QgsRasterInterface::IdentifyValue</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00191">qgsrasterinterface.h:191</a></div></div>
<div class="ttc" id="classQgsBrightnessContrastFilter_html_a53385f74c87845c2c3b285549993dda3"><div class="ttname"><a href="classQgsBrightnessContrastFilter.html#a53385f74c87845c2c3b285549993dda3">QgsBrightnessContrastFilter::readXml</a></div><div class="ttdeci">void readXml(const QDomElement &amp;filterElem) override</div><div class="ttdoc">Sets base class members from xml. Usually called from create() methods of subclasses. </div><div class="ttdef"><b>Definition:</b> <a href="qgsbrightnesscontrastfilter_8cpp_source.html#l00202">qgsbrightnesscontrastfilter.cpp:202</a></div></div>
<div class="ttc" id="qgspalettedrasterrenderer_8h_html"><div class="ttname"><a href="qgspalettedrasterrenderer_8h.html">qgspalettedrasterrenderer.h</a></div></div>
<div class="ttc" id="qgsrasterrendererregistry_8h_html"><div class="ttname"><a href="qgsrasterrendererregistry_8h.html">qgsrasterrendererregistry.h</a></div></div>
<div class="ttc" id="classQgsRasterMinMaxOrigin_html_a45219f2a4944ab2645be0cd768a48766"><div class="ttname"><a href="classQgsRasterMinMaxOrigin.html#a45219f2a4944ab2645be0cd768a48766">QgsRasterMinMaxOrigin::stdDevFactor</a></div><div class="ttdeci">double stdDevFactor() const</div><div class="ttdoc">Returns the factor f so that the min/max range is [ mean - f * stddev , mean + f * stddev ]...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterminmaxorigin_8h_source.html#l00100">qgsrasterminmaxorigin.h:100</a></div></div>
<div class="ttc" id="classQgsRasterInterface_html_a6024da23ab7abf219925b505a956526b"><div class="ttname"><a href="classQgsRasterInterface.html#a6024da23ab7abf219925b505a956526b">QgsRasterInterface::xSize</a></div><div class="ttdeci">virtual int xSize() const</div><div class="ttdoc">Gets raster size. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterinterface_8h_source.html#l00240">qgsrasterinterface.h:240</a></div></div>
<div class="ttc" id="classQgsApplication_html_a5a49d4af864859ff92fdecf0f6b173af"><div class="ttname"><a href="classQgsApplication.html#a5a49d4af864859ff92fdecf0f6b173af">QgsApplication::rasterRendererRegistry</a></div><div class="ttdeci">static QgsRasterRendererRegistry * rasterRendererRegistry()</div><div class="ttdoc">Returns the application&amp;#39;s raster renderer registry, used for managing raster layer renderers...</div><div class="ttdef"><b>Definition:</b> <a href="qgsapplication_8cpp_source.html#l01830">qgsapplication.cpp:1830</a></div></div>
<div class="ttc" id="classQgsMultiBandColorRenderer_html_afca7f3c5bd92305ba74040b012c82fa2"><div class="ttname"><a href="classQgsMultiBandColorRenderer.html#afca7f3c5bd92305ba74040b012c82fa2">QgsMultiBandColorRenderer::greenBand</a></div><div class="ttdeci">int greenBand() const</div><div class="ttdef"><b>Definition:</b> <a href="qgsmultibandcolorrenderer_8h_source.html#l00053">qgsmultibandcolorrenderer.h:53</a></div></div>
<div class="ttc" id="qgssettings_8h_html"><div class="ttname"><a href="qgssettings_8h.html">qgssettings.h</a></div></div>
<div class="ttc" id="classQgsRasterRenderer_html"><div class="ttname"><a href="classQgsRasterRenderer.html">QgsRasterRenderer</a></div><div class="ttdoc">Raster renderer pipe that applies colors to a raster. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrenderer_8h_source.html#l00037">qgsrasterrenderer.h:37</a></div></div>
<div class="ttc" id="structQgsRasterRendererRegistryEntry_html_ae16a83ab3922299ce9ca2b43a6ef3a38"><div class="ttname"><a href="structQgsRasterRendererRegistryEntry.html#ae16a83ab3922299ce9ca2b43a6ef3a38">QgsRasterRendererRegistryEntry::rendererCreateFunction</a></div><div class="ttdeci">QgsRasterRendererCreateFunc rendererCreateFunction</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterrendererregistry_8h_source.html#l00056">qgsrasterrendererregistry.h:56</a></div></div>
<div class="ttc" id="classQgsRaster_html_a17a81534803b9b5ee1e5cd91aab628c6ad4058a09b52fd61eaae2200c17d1a4d3"><div class="ttname"><a href="classQgsRaster.html#a17a81534803b9b5ee1e5cd91aab628c6ad4058a09b52fd61eaae2200c17d1a4d3">QgsRaster::IdentifyFormatText</a></div><div class="ttdef"><b>Definition:</b> <a href="qgsraster_8h_source.html#l00061">qgsraster.h:61</a></div></div>
<div class="ttc" id="qgscoordinatereferencesystem_8h_html"><div class="ttname"><a href="qgscoordinatereferencesystem_8h.html">qgscoordinatereferencesystem.h</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a4f3c7abdee90f23ab6ef817b9407104f"><div class="ttname"><a href="classQgsRasterLayer.html#a4f3c7abdee90f23ab6ef817b9407104f">QgsRasterLayer::MULTIPLE_BAND_SINGLE_BYTE_ENHANCEMENT_ALGORITHM</a></div><div class="ttdeci">static const QgsContrastEnhancement::ContrastEnhancementAlgorithm MULTIPLE_BAND_SINGLE_BYTE_ENHANCEMENT_ALGORITHM</div><div class="ttdoc">Default enhancement algorithm for multiple band raster of type Byte. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00150">qgsrasterlayer.h:150</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a13215d5a4b435db62ec684a29a85ce68"><div class="ttname"><a href="classQgsMapLayer.html#a13215d5a4b435db62ec684a29a85ce68">QgsMapLayer::setError</a></div><div class="ttdeci">void setError(const QgsError &amp;error)</div><div class="ttdoc">Sets error message. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8h_source.html#l01436">qgsmaplayer.h:1436</a></div></div>
<div class="ttc" id="classQgsCoordinateReferenceSystem_html_ab2dee1805d8e3b62448e4d106753b595"><div class="ttname"><a href="classQgsCoordinateReferenceSystem.html#ab2dee1805d8e3b62448e4d106753b595">QgsCoordinateReferenceSystem::authid</a></div><div class="ttdeci">QString authid() const</div><div class="ttdoc">Returns the authority identifier for the CRS. </div><div class="ttdef"><b>Definition:</b> <a href="qgscoordinatereferencesystem_8cpp_source.html#l01245">qgscoordinatereferencesystem.cpp:1245</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5aff09d65e170dc3ceb704a912eaf1ddee"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5aff09d65e170dc3ceb704a912eaf1ddee">Qgis::Byte</a></div><div class="ttdoc">Eight bit unsigned integer (quint8) </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00082">qgis.h:82</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a8c5dcd2b095725610d6755d1c7de5985"><div class="ttname"><a href="classQgsRasterDataProvider.html#a8c5dcd2b095725610d6755d1c7de5985">QgsRasterDataProvider::dataType</a></div><div class="ttdeci">Qgis::DataType dataType(int bandNo) const override=0</div><div class="ttdoc">Returns data type for the band specified by number. </div></div>
<div class="ttc" id="structQgsRasterLayer_1_1LayerOptions_html"><div class="ttname"><a href="structQgsRasterLayer_1_1LayerOptions.html">QgsRasterLayer::LayerOptions</a></div><div class="ttdoc">Setting options for loading raster layers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00171">qgsrasterlayer.h:171</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_a82872a2bd95a1d65edb827aa9063baef"><div class="ttname"><a href="classQgsRasterLayer.html#a82872a2bd95a1d65edb827aa9063baef">QgsRasterLayer::MULTIPLE_BAND_MULTI_BYTE_MIN_MAX_LIMITS</a></div><div class="ttdeci">static const QgsRasterMinMaxOrigin::Limits MULTIPLE_BAND_MULTI_BYTE_MIN_MAX_LIMITS</div><div class="ttdoc">Default enhancement limits for multiple band raster of type different from Byte. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8h_source.html#l00162">qgsrasterlayer.h:162</a></div></div>
<div class="ttc" id="qgsrasterdataprovider_8h_html"><div class="ttname"><a href="qgsrasterdataprovider_8h.html">qgsrasterdataprovider.h</a></div></div>
<div class="ttc" id="classQgsSingleBandPseudoColorRenderer_html_a21a97faf415a590d9bb33fe931a67705"><div class="ttname"><a href="classQgsSingleBandPseudoColorRenderer.html#a21a97faf415a590d9bb33fe931a67705">QgsSingleBandPseudoColorRenderer::band</a></div><div class="ttdeci">int band() const</div><div class="ttdoc">Returns the band used by the renderer. </div><div class="ttdef"><b>Definition:</b> <a href="qgssinglebandpseudocolorrenderer_8h_source.html#l00091">qgssinglebandpseudocolorrenderer.h:91</a></div></div>
<div class="ttc" id="classQgis_html_aeb8e0dfb7dc6eb09e552bf3dff9c84d5ae294414b7cd738fd1d579490102afb2c"><div class="ttname"><a href="classQgis.html#aeb8e0dfb7dc6eb09e552bf3dff9c84d5ae294414b7cd738fd1d579490102afb2c">Qgis::ARGB32</a></div><div class="ttdoc">Color, alpha, red, green, blue, 4 bytes the same as QImage::Format_ARGB32. </div><div class="ttdef"><b>Definition:</b> <a href="qgis_8h_source.html#l00093">qgis.h:93</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_ac13919103a84ede309afd4aab97ed832"><div class="ttname"><a href="classQgsMapLayer.html#ac13919103a84ede309afd4aab97ed832">QgsMapLayer::readCommonStyle</a></div><div class="ttdeci">void readCommonStyle(const QDomElement &amp;layerElement, const QgsReadWriteContext &amp;context, StyleCategories categories=AllStyleCategories)</div><div class="ttdoc">Read style data common to all layer types. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l01606">qgsmaplayer.cpp:1606</a></div></div>
<div class="ttc" id="classQgsMapLayer_html_a61e0449e63d9c93dc42b84b9e1fab916"><div class="ttname"><a href="classQgsMapLayer.html#a61e0449e63d9c93dc42b84b9e1fab916">QgsMapLayer::blendMode</a></div><div class="ttdeci">QPainter::CompositionMode blendMode() const</div><div class="ttdoc">Returns the current blending mode for a layer. </div><div class="ttdef"><b>Definition:</b> <a href="qgsmaplayer_8cpp_source.html#l00205">qgsmaplayer.cpp:205</a></div></div>
<div class="ttc" id="classQgsHueSaturationFilter_html_a45a747fe84825287e1f82172f71c8decafce6c73797294b4864fe769a448ec7ed"><div class="ttname"><a href="classQgsHueSaturationFilter.html#a45a747fe84825287e1f82172f71c8decafce6c73797294b4864fe769a448ec7ed">QgsHueSaturationFilter::GrayscaleLightness</a></div><div class="ttdef"><b>Definition:</b> <a href="qgshuesaturationfilter_8h_source.html#l00039">qgshuesaturationfilter.h:39</a></div></div>
<div class="ttc" id="classQgsRectangle_html_ad0a64f974edb994e38e3c418e48396d8"><div class="ttname"><a href="classQgsRectangle.html#ad0a64f974edb994e38e3c418e48396d8">QgsRectangle::height</a></div><div class="ttdeci">double height() const</div><div class="ttdoc">Returns the height of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrectangle_8h_source.html#l00209">qgsrectangle.h:209</a></div></div>
<div class="ttc" id="classQgsRasterProjector_html_ad81f5a209e690d895c9cb196294a58fd"><div class="ttname"><a href="classQgsRasterProjector.html#ad81f5a209e690d895c9cb196294a58fd">QgsRasterProjector::setCrs</a></div><div class="ttdeci">Q_DECL_DEPRECATED void setCrs(const QgsCoordinateReferenceSystem &amp;srcCRS, const QgsCoordinateReferenceSystem &amp;destCRS, int srcDatumTransform=-1, int destDatumTransform=-1)</div><div class="ttdoc">Sets the source and destination CRS. </div></div>
<div class="ttc" id="classQgsRasterDataProvider_html_a776b438d34af635e49bed4010fc40fe1"><div class="ttname"><a href="classQgsRasterDataProvider.html#a776b438d34af635e49bed4010fc40fe1">QgsRasterDataProvider::colorInterpretation</a></div><div class="ttdeci">virtual int colorInterpretation(int bandNo) const</div><div class="ttdoc">Returns data type for the band specified by number. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00142">qgsrasterdataprovider.h:142</a></div></div>
<div class="ttc" id="qgsrasterlayerrenderer_8h_html"><div class="ttname"><a href="qgsrasterlayerrenderer_8h.html">qgsrasterlayerrenderer.h</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_ac355b86e1507649b92fbb05683ce30f9"><div class="ttname"><a href="structQgsRasterViewPort.html#ac355b86e1507649b92fbb05683ce30f9">QgsRasterViewPort::mDrawnExtent</a></div><div class="ttdeci">QgsRectangle mDrawnExtent</div><div class="ttdoc">Intersection of current map extent and layer extent. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00062">qgsrasterviewport.h:62</a></div></div>
<div class="ttc" id="classQgsRasterDataProvider_html"><div class="ttname"><a href="classQgsRasterDataProvider.html">QgsRasterDataProvider</a></div><div class="ttdoc">Base class for raster data providers. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterdataprovider_8h_source.html#l00087">qgsrasterdataprovider.h:87</a></div></div>
<div class="ttc" id="qgslogger_8h_html"><div class="ttname"><a href="qgslogger_8h.html">qgslogger.h</a></div></div>
<div class="ttc" id="structQgsRasterViewPort_html_ab7b97970a852a56cb139295d11ef6895"><div class="ttname"><a href="structQgsRasterViewPort.html#ab7b97970a852a56cb139295d11ef6895">QgsRasterViewPort::mTopLeftPoint</a></div><div class="ttdeci">QgsPointXY mTopLeftPoint</div><div class="ttdoc">Coordinate (in output device coordinate system) of top left corner of the part of the raster that is ...</div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterviewport_8h_source.html#l00045">qgsrasterviewport.h:45</a></div></div>
<div class="ttc" id="classQgsRasterLayer_html_af70aee7065e0159f245067b4641f7349"><div class="ttname"><a href="classQgsRasterLayer.html#af70aee7065e0159f245067b4641f7349">QgsRasterLayer::QgsRasterLayer</a></div><div class="ttdeci">QgsRasterLayer()</div><div class="ttdoc">Constructor. Provider is not set. </div><div class="ttdef"><b>Definition:</b> <a href="qgsrasterlayer_8cpp_source.html#l00102">qgsrasterlayer.cpp:102</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 22 2019 09:24:07 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
