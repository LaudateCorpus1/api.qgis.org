<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Quantum GIS API Documentation: src/core/qgsrasterdataprovider.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
<h1>src/core/qgsrasterdataprovider.h</h1><a href="qgsrasterdataprovider_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">    qgsrasterdataprovider.h - DataProvider Interface for raster layers</span>
<a name="l00003"></a>00003 <span class="comment">     --------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment">    Date                 : Mar 11, 2005</span>
<a name="l00005"></a>00005 <span class="comment">    Copyright            : (C) 2005 by Brendan Morley</span>
<a name="l00006"></a>00006 <span class="comment">    email                : morb at ozemail dot com dot au</span>
<a name="l00007"></a>00007 <span class="comment"> ***************************************************************************/</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="comment">/***************************************************************************</span>
<a name="l00010"></a>00010 <span class="comment"> *                                                                         *</span>
<a name="l00011"></a>00011 <span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span>
<a name="l00012"></a>00012 <span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span>
<a name="l00013"></a>00013 <span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span>
<a name="l00014"></a>00014 <span class="comment"> *   (at your option) any later version.                                   *</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                         *</span>
<a name="l00016"></a>00016 <span class="comment"> ***************************************************************************/</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="comment">/* Thank you to Marco Hugentobler for the original vector DataProvider */</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef QGSRASTERDATAPROVIDER_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define QGSRASTERDATAPROVIDER_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;QDateTime&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include "<a class="code" href="qgslogger_8h.html">qgslogger.h</a>"</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include "<a class="code" href="qgsrectangle_8h.html">qgsrectangle.h</a>"</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="qgsdataprovider_8h.html">qgsdataprovider.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="qgscolorrampshader_8h.html">qgscolorrampshader.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="code" href="qgsrasterpyramid_8h.html">qgsrasterpyramid.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="qgscoordinatereferencesystem_8h.html">qgscoordinatereferencesystem.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include "<a class="code" href="qgsrasterbandstats_8h.html">qgsrasterbandstats.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include "cpl_conv.h"</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">class </span>QImage;
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="classQgsPoint.html" title="A class to represent a point geometry.">QgsPoint</a>;
<a name="l00037"></a>00037 <span class="keyword">class </span>QByteArray;
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="qgsrasterdataprovider_8h.html#67b190ef6bc73d53481ffdb0f92ffe5a">00039</a> <span class="preprocessor">#define TINY_VALUE  std::numeric_limits&lt;double&gt;::epsilon() * 20</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 
<a name="l00049"></a><a class="code" href="classQgsRasterDataProvider.html">00049</a> <span class="keyword">class </span>CORE_EXPORT <a class="code" href="classQgsRasterDataProvider.html" title="Base class for raster data providers.">QgsRasterDataProvider</a> : <span class="keyword">public</span> <a class="code" href="classQgsDataProvider.html" title="Abstract base class for spatial data provider implementations.">QgsDataProvider</a>
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051 
<a name="l00052"></a>00052     Q_OBJECT
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="keyword">public</span>:
<a name="l00055"></a>00055 
<a name="l00057"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8">00057</a>     <span class="keyword">enum</span> <a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8" title="If you add to this, please also add to capabilitiesString().">Capability</a>
<a name="l00058"></a>00058     {
<a name="l00059"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8df225e30ec0de31d31e59228173e4834">00059</a>       NoCapabilities =          0,
<a name="l00060"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd823a9fb045ef53b2b663311ea679b4856">00060</a>       Identify =                1,
<a name="l00061"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8769563036cb53029e84153987d09daf3">00061</a>       ExactMinimumMaximum =     1 &lt;&lt; 1,
<a name="l00062"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8e9c6aa10e75ba69e3f7f1f25dd2c7a8c">00062</a>       ExactResolution =         1 &lt;&lt; 2,
<a name="l00063"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd83ae3d6d895c6c24857d945398184609b">00063</a>       EstimatedMinimumMaximum = 1 &lt;&lt; 3,
<a name="l00064"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd825aa85bbfa4f8cc66ba9bc9efba55150">00064</a>       BuildPyramids =           1 &lt;&lt; 4,
<a name="l00065"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd82ed0b4020b2f4ce0734d00d68696f635">00065</a>       Histogram =               1 &lt;&lt; 5,
<a name="l00066"></a><a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8150b092de04ba700d4230b5706c648a0">00066</a>       Size =                    1 &lt;&lt; 6  <span class="comment">// has fixed source type</span>
<a name="l00067"></a>00067     };
<a name="l00068"></a>00068 
<a name="l00069"></a>00069     <span class="comment">// This is modified copy of GDALDataType</span>
<a name="l00070"></a><a class="code" href="classQgsRasterDataProvider.html#e9409f481869827695f725681482d3d0">00070</a>     <span class="keyword">enum</span> <a class="code" href="classQgsRasterDataProvider.html#e9409f481869827695f725681482d3d0">DataType</a>
<a name="l00071"></a>00071     {          UnknownDataType = 0,           Byte = 1,         UInt16 = 2,           Int16 = 3,      UInt32 = 4,        Int32 = 5,        Float32 = 6,        Float64 = 7,                        CInt16 = 8,                        CInt32 = 9,                      CFloat32 = 10,                      CFloat64 = 11, ARGBDataType = 12,
<a name="l00085"></a><a class="code" href="classQgsRasterDataProvider.html#e9409f481869827695f725681482d3d08071db60c3497742251368b433621ec6">00085</a>       TypeCount = 13          <span class="comment">/* maximum type # + 1 */</span>
<a name="l00086"></a>00086     };
<a name="l00087"></a>00087 
<a name="l00088"></a>00088     <span class="comment">// This is modified copy of GDALColorInterp</span>
<a name="l00089"></a><a class="code" href="classQgsRasterDataProvider.html#abd52eb3de63c739f2a720eec33b1cd5">00089</a>     <span class="keyword">enum</span> <a class="code" href="classQgsRasterDataProvider.html#abd52eb3de63c739f2a720eec33b1cd5">ColorInterpretation</a>
<a name="l00090"></a>00090     {
<a name="l00091"></a><a class="code" href="classQgsRasterDataProvider.html#abd52eb3de63c739f2a720eec33b1cd57936b3305cba3cbdca6b8a13248ca0f5">00091</a>       UndefinedColorInterpretation = 0,                                      GrayIndex = 1,          PaletteIndex = 2,                         RedBand = 3,                       GreenBand = 4,                        BlueBand = 5,              AlphaBand = 6,                          HueBand = 7,                   SaturationBand = 8,                    LightnessBand = 9,                        CyanBand = 10,                     MagentaBand = 11,                      YellowBand = 12,                       BlackBand = 13,                                    YCbCr_YBand = 14,                                      YCbCr_CbBand = 15,                                      YCbCr_CrBand = 16,                              ColorInterpretationMax = 16
<a name="l00109"></a>00109     };
<a name="l00110"></a>00110 
<a name="l00111"></a>00111     <span class="comment">// Progress types</span>
<a name="l00112"></a><a class="code" href="classQgsRasterDataProvider.html#b1898f1f99e71e3dde50fab36bf50347">00112</a>     <span class="keyword">enum</span> <a class="code" href="classQgsRasterDataProvider.html#b1898f1f99e71e3dde50fab36bf50347">RasterProgressType</a>
<a name="l00113"></a>00113     {
<a name="l00114"></a><a class="code" href="classQgsRasterDataProvider.html#b1898f1f99e71e3dde50fab36bf50347f3434a71e57e273f09db038d5eaf7780">00114</a>       ProgressHistogram = 0,
<a name="l00115"></a><a class="code" href="classQgsRasterDataProvider.html#b1898f1f99e71e3dde50fab36bf50347d50af686458a9ca4191b363cdc5c0627">00115</a>       ProgressPyramids  = 1,
<a name="l00116"></a><a class="code" href="classQgsRasterDataProvider.html#b1898f1f99e71e3dde50fab36bf503470becf6f091b8ab2c73c4ed95d231a553">00116</a>       ProgressStatistics = 2
<a name="l00117"></a>00117     };
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     <a class="code" href="classQgsRasterDataProvider.html" title="Base class for raster data providers.">QgsRasterDataProvider</a>();
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <a class="code" href="classQgsRasterDataProvider.html" title="Base class for raster data providers.">QgsRasterDataProvider</a>( QString <span class="keyword">const</span> &amp; uri );
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="classQgsRasterDataProvider.html#39e444e22afa6393fe169f317a0defaf">00123</a>     <span class="keyword">virtual</span> ~<a class="code" href="classQgsRasterDataProvider.html" title="Base class for raster data providers.">QgsRasterDataProvider</a>() {};
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 
<a name="l00129"></a>00129     <span class="keyword">virtual</span> <span class="keywordtype">void</span> addLayers( QStringList <span class="keyword">const</span> &amp; layers,
<a name="l00130"></a>00130                             QStringList  <span class="keyword">const</span> &amp; styles = QStringList() ) = 0;
<a name="l00131"></a>00131 
<a name="l00133"></a>00133     <span class="keyword">virtual</span> QStringList supportedImageEncodings() = 0;
<a name="l00134"></a>00134 
<a name="l00138"></a>00138     <span class="keyword">virtual</span> QString imageEncoding() <span class="keyword">const</span> = 0;
<a name="l00139"></a>00139 
<a name="l00143"></a>00143     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setImageEncoding( QString  <span class="keyword">const</span> &amp; mimeType ) = 0;
<a name="l00144"></a>00144 
<a name="l00148"></a>00148     <span class="keyword">virtual</span> <span class="keywordtype">void</span> setImageCrs( QString <span class="keyword">const</span> &amp; crs ) = 0;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 
<a name="l00151"></a>00151     <span class="comment">// TODO: Document this better.</span>
<a name="l00154"></a>00154 <span class="comment"></span>    <span class="keyword">virtual</span> QImage* draw( <a class="code" href="classQgsRectangle.html" title="A rectangle specified with double values.">QgsRectangle</a>  <span class="keyword">const</span> &amp; viewExtent, <span class="keywordtype">int</span> pixelWidth, <span class="keywordtype">int</span> pixelHeight ) = 0;
<a name="l00155"></a>00155 
<a name="l00161"></a><a class="code" href="classQgsRasterDataProvider.html#dd0ebfae8b389d7e9c83861715dea5e9">00161</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> capabilities()<span class="keyword"> const</span>
<a name="l00162"></a>00162 <span class="keyword">    </span>{
<a name="l00163"></a>00163       <span class="keywordflow">return</span> <a class="code" href="classQgsRasterDataProvider.html#f68cf3fd3688b17bca48d1f59c720fd8df225e30ec0de31d31e59228173e4834">QgsRasterDataProvider::NoCapabilities</a>;
<a name="l00164"></a>00164     }
<a name="l00165"></a>00165 
<a name="l00169"></a>00169     QString capabilitiesString() <span class="keyword">const</span>;
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <span class="comment">// TODO: Get the supported formats by this provider</span>
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <span class="comment">// TODO: Get the file masks supported by this provider, suitable for feeding into the file open dialog box</span>
<a name="l00175"></a>00175 
<a name="l00177"></a><a class="code" href="classQgsRasterDataProvider.html#ea062802353449140e8af85604402b98">00177</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> dataType( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const</span>
<a name="l00178"></a>00178 <span class="keyword">    </span>{
<a name="l00179"></a>00179       <span class="keywordflow">return</span> srcDataType( bandNo );
<a name="l00180"></a>00180     }
<a name="l00181"></a>00181 
<a name="l00185"></a><a class="code" href="classQgsRasterDataProvider.html#d2653eb9062e21adc768abe5c6d22975">00185</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> srcDataType( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const</span>
<a name="l00186"></a>00186 <span class="keyword">    </span>{
<a name="l00187"></a>00187       Q_UNUSED( bandNo );
<a name="l00188"></a>00188       <span class="keywordflow">return</span> <a class="code" href="classQgsRasterDataProvider.html#e9409f481869827695f725681482d3d02cf759e7a3d0d29d826f2dd53591164c">QgsRasterDataProvider::UnknownDataType</a>;
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="classQgsRasterDataProvider.html#8a1cf5719fa9277e2b00b09e29b63da0">00191</a>     <span class="keywordtype">int</span> typeSize( <span class="keywordtype">int</span> dataType )<span class="keyword"> const</span>
<a name="l00192"></a>00192 <span class="keyword">    </span>{
<a name="l00193"></a>00193       <span class="comment">// modified copy from GDAL</span>
<a name="l00194"></a>00194       <span class="keywordflow">switch</span> ( dataType )
<a name="l00195"></a>00195       {
<a name="l00196"></a>00196         <span class="keywordflow">case</span> Byte:
<a name="l00197"></a>00197           <span class="keywordflow">return</span> 8;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="keywordflow">case</span> UInt16:
<a name="l00200"></a>00200         <span class="keywordflow">case</span> Int16:
<a name="l00201"></a>00201           <span class="keywordflow">return</span> 16;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203         <span class="keywordflow">case</span> UInt32:
<a name="l00204"></a>00204         <span class="keywordflow">case</span> Int32:
<a name="l00205"></a>00205         <span class="keywordflow">case</span> Float32:
<a name="l00206"></a>00206         <span class="keywordflow">case</span> CInt16:
<a name="l00207"></a>00207           <span class="keywordflow">return</span> 32;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <span class="keywordflow">case</span> Float64:
<a name="l00210"></a>00210         <span class="keywordflow">case</span> CInt32:
<a name="l00211"></a>00211         <span class="keywordflow">case</span> CFloat32:
<a name="l00212"></a>00212           <span class="keywordflow">return</span> 64;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214         <span class="keywordflow">case</span> CFloat64:
<a name="l00215"></a>00215           <span class="keywordflow">return</span> 128;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217         <span class="keywordflow">case</span> ARGBDataType:
<a name="l00218"></a>00218           <span class="keywordflow">return</span> 32;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220         <span class="keywordflow">default</span>:
<a name="l00221"></a>00221           <span class="keywordflow">return</span> 0;
<a name="l00222"></a>00222       }
<a name="l00223"></a>00223     }
<a name="l00224"></a><a class="code" href="classQgsRasterDataProvider.html#76f31e6dd7a946a8c68616358e985097">00224</a>     <span class="keywordtype">int</span> dataTypeSize( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const</span>
<a name="l00225"></a>00225 <span class="keyword">    </span>{
<a name="l00226"></a>00226       <span class="keywordflow">return</span> typeSize( dataType( bandNo ) );
<a name="l00227"></a>00227     }
<a name="l00228"></a>00228 
<a name="l00230"></a><a class="code" href="classQgsRasterDataProvider.html#3b9024c54ef1a0d082dfc01d068db636">00230</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> bandCount()<span class="keyword"> const</span>
<a name="l00231"></a>00231 <span class="keyword">    </span>{
<a name="l00232"></a>00232       <span class="keywordflow">return</span> 1;
<a name="l00233"></a>00233     }
<a name="l00234"></a>00234 
<a name="l00236"></a><a class="code" href="classQgsRasterDataProvider.html#cefedb74ece24a60e34ff10f39658dc1">00236</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> colorInterpretation( <span class="keywordtype">int</span> theBandNo )<span class="keyword"> const</span>
<a name="l00237"></a>00237 <span class="keyword">    </span>{
<a name="l00238"></a>00238       Q_UNUSED( theBandNo );
<a name="l00239"></a>00239       <span class="keywordflow">return</span> <a class="code" href="classQgsRasterDataProvider.html#abd52eb3de63c739f2a720eec33b1cd57936b3305cba3cbdca6b8a13248ca0f5">QgsRasterDataProvider::UndefinedColorInterpretation</a>;
<a name="l00240"></a>00240     }
<a name="l00241"></a>00241 
<a name="l00242"></a><a class="code" href="classQgsRasterDataProvider.html#a03d396c20dc28f719e27b771dcc2b78">00242</a>     QString colorName( <span class="keywordtype">int</span> colorInterpretation )<span class="keyword"> const</span>
<a name="l00243"></a>00243 <span class="keyword">    </span>{
<a name="l00244"></a>00244       <span class="comment">// Modified copy from GDAL</span>
<a name="l00245"></a>00245       <span class="keywordflow">switch</span> ( colorInterpretation )
<a name="l00246"></a>00246       {
<a name="l00247"></a>00247         <span class="keywordflow">case</span> UndefinedColorInterpretation:
<a name="l00248"></a>00248           <span class="keywordflow">return</span> <span class="stringliteral">"Undefined"</span>;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250         <span class="keywordflow">case</span> GrayIndex:
<a name="l00251"></a>00251           <span class="keywordflow">return</span> <span class="stringliteral">"Gray"</span>;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253         <span class="keywordflow">case</span> PaletteIndex:
<a name="l00254"></a>00254           <span class="keywordflow">return</span> <span class="stringliteral">"Palette"</span>;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256         <span class="keywordflow">case</span> RedBand:
<a name="l00257"></a>00257           <span class="keywordflow">return</span> <span class="stringliteral">"Red"</span>;
<a name="l00258"></a>00258 
<a name="l00259"></a>00259         <span class="keywordflow">case</span> GreenBand:
<a name="l00260"></a>00260           <span class="keywordflow">return</span> <span class="stringliteral">"Green"</span>;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262         <span class="keywordflow">case</span> BlueBand:
<a name="l00263"></a>00263           <span class="keywordflow">return</span> <span class="stringliteral">"Blue"</span>;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265         <span class="keywordflow">case</span> AlphaBand:
<a name="l00266"></a>00266           <span class="keywordflow">return</span> <span class="stringliteral">"Alpha"</span>;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268         <span class="keywordflow">case</span> HueBand:
<a name="l00269"></a>00269           <span class="keywordflow">return</span> <span class="stringliteral">"Hue"</span>;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         <span class="keywordflow">case</span> SaturationBand:
<a name="l00272"></a>00272           <span class="keywordflow">return</span> <span class="stringliteral">"Saturation"</span>;
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         <span class="keywordflow">case</span> LightnessBand:
<a name="l00275"></a>00275           <span class="keywordflow">return</span> <span class="stringliteral">"Lightness"</span>;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <span class="keywordflow">case</span> CyanBand:
<a name="l00278"></a>00278           <span class="keywordflow">return</span> <span class="stringliteral">"Cyan"</span>;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="keywordflow">case</span> MagentaBand:
<a name="l00281"></a>00281           <span class="keywordflow">return</span> <span class="stringliteral">"Magenta"</span>;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283         <span class="keywordflow">case</span> YellowBand:
<a name="l00284"></a>00284           <span class="keywordflow">return</span> <span class="stringliteral">"Yellow"</span>;
<a name="l00285"></a>00285 
<a name="l00286"></a>00286         <span class="keywordflow">case</span> BlackBand:
<a name="l00287"></a>00287           <span class="keywordflow">return</span> <span class="stringliteral">"Black"</span>;
<a name="l00288"></a>00288 
<a name="l00289"></a>00289         <span class="keywordflow">case</span> YCbCr_YBand:
<a name="l00290"></a>00290           <span class="keywordflow">return</span> <span class="stringliteral">"YCbCr_Y"</span>;
<a name="l00291"></a>00291 
<a name="l00292"></a>00292         <span class="keywordflow">case</span> YCbCr_CbBand:
<a name="l00293"></a>00293           <span class="keywordflow">return</span> <span class="stringliteral">"YCbCr_Cb"</span>;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295         <span class="keywordflow">case</span> YCbCr_CrBand:
<a name="l00296"></a>00296           <span class="keywordflow">return</span> <span class="stringliteral">"YCbCr_Cr"</span>;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298         <span class="keywordflow">default</span>:
<a name="l00299"></a>00299           <span class="keywordflow">return</span> <span class="stringliteral">"Unknown"</span>;
<a name="l00300"></a>00300       }
<a name="l00301"></a>00301     }
<a name="l00303"></a><a class="code" href="classQgsRasterDataProvider.html#549cd8846ecc4318459279087bd3bd50">00303</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> reload( ) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00304"></a>00304 
<a name="l00305"></a><a class="code" href="classQgsRasterDataProvider.html#a9e910d0f5217ea3862b66581f6a14cf">00305</a>     <span class="keyword">virtual</span> QString colorInterpretationName( <span class="keywordtype">int</span> theBandNo )<span class="keyword"> const</span>
<a name="l00306"></a>00306 <span class="keyword">    </span>{
<a name="l00307"></a>00307       <span class="keywordflow">return</span> colorName( colorInterpretation( theBandNo ) );
<a name="l00308"></a>00308     }
<a name="l00309"></a>00309 
<a name="l00311"></a><a class="code" href="classQgsRasterDataProvider.html#890ef24c99134461d1e32209d522b1d9">00311</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> xBlockSize()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }
<a name="l00312"></a><a class="code" href="classQgsRasterDataProvider.html#03bd0e8be3e9c2a93a8ab2f8268f6192">00312</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> yBlockSize()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }
<a name="l00313"></a>00313 
<a name="l00315"></a><a class="code" href="classQgsRasterDataProvider.html#e089ace5bd5a0b9f0b56148f5c61d196">00315</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> xSize()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }
<a name="l00316"></a><a class="code" href="classQgsRasterDataProvider.html#ce9a6d4a09797c31b129f31e84128850">00316</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> ySize()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }
<a name="l00317"></a>00317 
<a name="l00319"></a>00319     <span class="comment">// TODO clarify what happens on the last block (the part outside raster)</span>
<a name="l00320"></a><a class="code" href="classQgsRasterDataProvider.html#8f7c71c008db953aa1769d690b411c7b">00320</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> readBlock( <span class="keywordtype">int</span> bandNo, <span class="keywordtype">int</span> xBlock, <span class="keywordtype">int</span> yBlock, <span class="keywordtype">void</span> *data )
<a name="l00321"></a>00321     { Q_UNUSED( bandNo ); Q_UNUSED( xBlock ); Q_UNUSED( yBlock ); Q_UNUSED( data ); }
<a name="l00322"></a>00322 
<a name="l00324"></a><a class="code" href="classQgsRasterDataProvider.html#4d8a04177b9dc0aa6fd16abd426aee8e">00324</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> readBlock( <span class="keywordtype">int</span> bandNo, <a class="code" href="classQgsRectangle.html" title="A rectangle specified with double values.">QgsRectangle</a>  <span class="keyword">const</span> &amp; viewExtent, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">void</span> *data )
<a name="l00325"></a>00325     { Q_UNUSED( bandNo ); Q_UNUSED( viewExtent ); Q_UNUSED( width ); Q_UNUSED( height ); Q_UNUSED( data ); }
<a name="l00326"></a>00326 
<a name="l00328"></a>00328     <span class="keyword">virtual</span> <span class="keywordtype">void</span> readBlock( <span class="keywordtype">int</span> bandNo, <a class="code" href="classQgsRectangle.html" title="A rectangle specified with double values.">QgsRectangle</a>  <span class="keyword">const</span> &amp; viewExtent, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <a class="code" href="classQgsCoordinateReferenceSystem.html" title="Class for storing a coordinate reference system (CRS).">QgsCoordinateReferenceSystem</a> theSrcCRS, <a class="code" href="classQgsCoordinateReferenceSystem.html" title="Class for storing a coordinate reference system (CRS).">QgsCoordinateReferenceSystem</a> theDestCRS, <span class="keywordtype">void</span> *data );
<a name="l00329"></a>00329     
<a name="l00330"></a>00330     <span class="comment">/* Read a value from a data block at a given index. */</span>
<a name="l00331"></a>00331     <span class="keyword">virtual</span> <span class="keywordtype">double</span> readValue( <span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> index );
<a name="l00332"></a>00332 
<a name="l00334"></a><a class="code" href="classQgsRasterDataProvider.html#4131d5da434acff3b4dc2a3603970a16">00334</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> noDataValue()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }
<a name="l00335"></a>00335 
<a name="l00336"></a><a class="code" href="classQgsRasterDataProvider.html#ba77d4bbbc6f753e628e5f27a8ed942f">00336</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> minimumValue( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const </span>{ Q_UNUSED( bandNo ); <span class="keywordflow">return</span> 0; }
<a name="l00337"></a><a class="code" href="classQgsRasterDataProvider.html#77ace80f60fd3993e821c866a086fe0a">00337</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> maximumValue( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const </span>{ Q_UNUSED( bandNo ); <span class="keywordflow">return</span> 0; }
<a name="l00338"></a>00338 
<a name="l00339"></a><a class="code" href="classQgsRasterDataProvider.html#18fc2402f124e2f4d557d5ea59cedc88">00339</a>     <span class="keyword">virtual</span> QList&lt;QgsColorRampShader::ColorRampItem&gt; colorTable( <span class="keywordtype">int</span> bandNo )<span class="keyword"> const</span>
<a name="l00340"></a>00340 <span class="keyword">    </span>{ Q_UNUSED( bandNo ); <span class="keywordflow">return</span> QList&lt;QgsColorRampShader::ColorRampItem&gt;(); }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342     <span class="comment">// Defined in parent</span>
<a name="l00344"></a><a class="code" href="classQgsRasterDataProvider.html#85f5f0fcfc3a2016613c59f253ef164c">00344</a> <span class="comment"></span>    <span class="keyword">virtual</span> QStringList <a class="code" href="classQgsDataProvider.html#9c3c13aee049bd8fe4d6d02a65ec4f20" title="Sub-layers handled by this provider, in order from bottom to top.">subLayers</a>()<span class="keyword"> const</span>
<a name="l00345"></a>00345 <span class="keyword">    </span>{
<a name="l00346"></a>00346       <span class="keywordflow">return</span> QStringList();
<a name="l00347"></a>00347     }
<a name="l00348"></a>00348 
<a name="l00351"></a><a class="code" href="classQgsRasterDataProvider.html#2f9af694fc1f255184d6bf787bb69b6e">00351</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> populateHistogram( <span class="keywordtype">int</span> theBandNoInt,
<a name="l00352"></a>00352                                     <a class="code" href="classQgsRasterBandStats.html" title="The RasterBandStats struct is a container for statistics about a single raster band...">QgsRasterBandStats</a> &amp; theBandStats,
<a name="l00353"></a>00353                                     <span class="keywordtype">int</span> theBinCountInt = 256,
<a name="l00354"></a>00354                                     <span class="keywordtype">bool</span> theIgnoreOutOfRangeFlag = <span class="keyword">true</span>,
<a name="l00355"></a>00355                                     <span class="keywordtype">bool</span> theThoroughBandScanFlag = <span class="keyword">false</span>
<a name="l00356"></a>00356                                   )
<a name="l00357"></a>00357     { Q_UNUSED( theBandNoInt ); Q_UNUSED( theBandStats ); Q_UNUSED( theBinCountInt ); Q_UNUSED( theIgnoreOutOfRangeFlag ); Q_UNUSED( theThoroughBandScanFlag ); }
<a name="l00358"></a>00358 
<a name="l00360"></a><a class="code" href="classQgsRasterDataProvider.html#653b42a73cac2dbfd03979db167ee3f7">00360</a>     <span class="keyword">virtual</span> QString buildPyramids( <span class="keyword">const</span> QList&lt;QgsRasterPyramid&gt;  &amp; thePyramidList,
<a name="l00361"></a>00361                                    <span class="keyword">const</span> QString &amp;  theResamplingMethod = <span class="stringliteral">"NEAREST"</span>,
<a name="l00362"></a>00362                                    <span class="keywordtype">bool</span> theTryInternalFlag = <span class="keyword">false</span> )
<a name="l00363"></a>00363     { Q_UNUSED( thePyramidList ); Q_UNUSED( theResamplingMethod ); Q_UNUSED( theTryInternalFlag ); <span class="keywordflow">return</span> <span class="stringliteral">"FAILED_NOT_SUPPORTED"</span>; };
<a name="l00364"></a>00364 
<a name="l00370"></a><a class="code" href="classQgsRasterDataProvider.html#ceceb318dfcdcb3086d30115079f3a81">00370</a>     <span class="keyword">virtual</span> QList&lt;QgsRasterPyramid&gt; buildPyramidList() { <span class="keywordflow">return</span> QList&lt;QgsRasterPyramid&gt;(); };
<a name="l00371"></a>00371 
<a name="l00375"></a>00375     <span class="keyword">virtual</span> <a class="code" href="classQgsRasterBandStats.html" title="The RasterBandStats struct is a container for statistics about a single raster band...">QgsRasterBandStats</a> bandStatistics( <span class="keywordtype">int</span> theBandNo );
<a name="l00376"></a>00376 
<a name="l00378"></a><a class="code" href="classQgsRasterDataProvider.html#20761cf4812aadf180cac0993a14c9d4">00378</a>     QString  generateBandName( <span class="keywordtype">int</span> theBandNumber )
<a name="l00379"></a>00379     {
<a name="l00380"></a>00380       <span class="keywordflow">return</span> tr( <span class="stringliteral">"Band"</span> ) + QString( <span class="stringliteral">" %1"</span> ) .arg( theBandNumber,  1 + ( <span class="keywordtype">int</span> ) log10(( <span class="keywordtype">float</span> ) bandCount() ), 10, QChar( <span class="charliteral">'0'</span> ) );
<a name="l00381"></a>00381     };
<a name="l00382"></a>00382 
<a name="l00387"></a>00387     <span class="keyword">virtual</span> QString metadata() = 0;
<a name="l00388"></a>00388 
<a name="l00390"></a>00390     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> identify( <span class="keyword">const</span> <a class="code" href="classQgsPoint.html" title="A class to represent a point geometry.">QgsPoint</a> &amp; point, QMap&lt;QString, QString&gt;&amp; results );
<a name="l00391"></a>00391 
<a name="l00405"></a>00405     <span class="keyword">virtual</span> QString identifyAsText( <span class="keyword">const</span> <a class="code" href="classQgsPoint.html" title="A class to represent a point geometry.">QgsPoint</a>&amp; point ) = 0;
<a name="l00406"></a>00406 
<a name="l00422"></a>00422     <span class="keyword">virtual</span> QString identifyAsHtml( <span class="keyword">const</span> <a class="code" href="classQgsPoint.html" title="A class to represent a point geometry.">QgsPoint</a>&amp; point ) = 0;
<a name="l00423"></a>00423 
<a name="l00433"></a>00433     <span class="keyword">virtual</span> QString lastErrorTitle() = 0;
<a name="l00434"></a>00434 
<a name="l00444"></a>00444     <span class="keyword">virtual</span> QString lastError() = 0;
<a name="l00445"></a>00445 
<a name="l00451"></a>00451     <span class="keyword">virtual</span> QString lastErrorFormat();
<a name="l00452"></a>00452 
<a name="l00453"></a>00453     <span class="comment">//virtual void buildSupportedRasterFileFilter( QString &amp; theFileFiltersString ) ;</span>
<a name="l00454"></a>00454 
<a name="l00461"></a>00461     <span class="comment">//virtual bool isValidRasterFileName( QString const &amp; theFileNameQString, QString &amp; retErrMsg ) { return false; } ;</span>
<a name="l00462"></a>00462 
<a name="l00463"></a>00463     <span class="comment">//virtual bool isValidRasterFileName( const QString &amp; theFileNameQString ) { return false; };</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 
<a name="l00468"></a><a class="code" href="classQgsRasterDataProvider.html#fc22b7c56c87faa954784cf20c37be00">00468</a>     <span class="keywordtype">int</span> dpi()<span class="keyword"> const </span>{<span class="keywordflow">return</span> mDpi;}
<a name="l00469"></a>00469 
<a name="l00472"></a><a class="code" href="classQgsRasterDataProvider.html#8299aa87b3489382c420e016a9995893">00472</a>     <span class="keywordtype">void</span> setDpi( <span class="keywordtype">int</span> dpi ) {mDpi = dpi;}
<a name="l00473"></a>00473 
<a name="l00475"></a><a class="code" href="classQgsRasterDataProvider.html#d5bd886cfebe715d2bf5d016e4e3dca9">00475</a>     <span class="keywordtype">bool</span> isNoDataValueValid()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mValidNoDataValue; }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     <span class="keyword">static</span> QStringList cStringList2Q_( <span class="keywordtype">char</span> ** stringList );
<a name="l00478"></a>00478 
<a name="l00479"></a>00479     <span class="keyword">static</span> QString makeTableCell( QString <span class="keyword">const</span> &amp; value );
<a name="l00480"></a>00480     <span class="keyword">static</span> QString makeTableCells( QStringList <span class="keyword">const</span> &amp; values );
<a name="l00481"></a>00481 
<a name="l00483"></a>00483     QByteArray noValueBytes( <span class="keywordtype">int</span> theBandNo );
<a name="l00484"></a>00484 
<a name="l00486"></a><a class="code" href="classQgsRasterDataProvider.html#8021deb8726b1715fbd9b2425c6d4384">00486</a>     <span class="keyword">virtual</span> QDateTime <a class="code" href="classQgsDataProvider.html#2325688b6ae15933604eb950537e1c50" title="Time stamp of data source in the moment when data/metadata were loaded by provider...">timestamp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mTimestamp; }
<a name="l00487"></a>00487 
<a name="l00489"></a><a class="code" href="classQgsRasterDataProvider.html#6af27869ed0f491f9047eb27d0cb719e">00489</a>     <span class="keyword">virtual</span> QDateTime <a class="code" href="classQgsDataProvider.html#bbbbe524685c8d2c728e0cace8dd7d92" title="Current time stamp of data source.">dataTimestamp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> QDateTime(); }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491   signals:
<a name="l00494"></a>00494     <span class="keywordtype">void</span> progress( <span class="keywordtype">int</span> theType, <span class="keywordtype">double</span> theProgress, QString theMessage );
<a name="l00495"></a>00495 
<a name="l00496"></a>00496   <span class="keyword">protected</span>:
<a name="l00500"></a><a class="code" href="classQgsRasterDataProvider.html#fb2ff90d0f7a49e0942e3576ccfd215c">00500</a>     <span class="keywordtype">int</span> mDpi;
<a name="l00501"></a>00501 
<a name="l00503"></a><a class="code" href="classQgsRasterDataProvider.html#68d4d32685b867f2237a286a06dccd3f">00503</a>     QList&lt;double&gt; mNoDataValue;
<a name="l00504"></a>00504 
<a name="l00506"></a><a class="code" href="classQgsRasterDataProvider.html#a163883793dd99f431c1a28d8e9a79fe">00506</a>     <span class="keywordtype">bool</span> mValidNoDataValue;
<a name="l00507"></a>00507 
<a name="l00508"></a><a class="code" href="classQgsRasterDataProvider.html#fd514abd420c871f4e26bb96f090b700">00508</a>     <a class="code" href="classQgsRectangle.html" title="A rectangle specified with double values.">QgsRectangle</a> mExtent;
<a name="l00509"></a>00509 };
<a name="l00510"></a>00510 
<a name="l00511"></a>00511 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 4 19:08:32 2012 for Quantum GIS API Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
