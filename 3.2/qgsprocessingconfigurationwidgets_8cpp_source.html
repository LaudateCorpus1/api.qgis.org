<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QGIS API Documentation: /tmp/buildd/qgis-3.2.0+99unstable/src/gui/processing/qgsprocessingconfigurationwidgets.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="api_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QGIS API Documentation
   &#160;<span id="projectnumber">3.2.0-Bonn (bc43194)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_99d0482cf009f9d97a0877749b817f19.html">gui</a></li><li class="navelem"><a class="el" href="dir_d78fade339fe3027f54a8ddb51ecca47.html">processing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qgsprocessingconfigurationwidgets.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qgsprocessingconfigurationwidgets_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">                         qgsprocessingconfigurationwidgets.cpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">                         ---------------------</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    begin                : April 2018</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    copyright            : (C) 2018 by Matthias Kuhn</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    email                : matthias@opengis.ch</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingconfigurationwidgets_8h.html">qgsprocessingconfigurationwidgets.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingalgorithm_8h.html">qgsprocessingalgorithm.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsexpressionlineedit_8h.html">qgsexpressionlineedit.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsapplication_8h.html">qgsapplication.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsgui_8h.html">qgsgui.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qgsprocessingguiregistry_8h.html">qgsprocessingguiregistry.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;QTableWidget&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;QGridLayout&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;QToolButton&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;QLabel&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;QCheckBox&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;QHeaderView&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;QgsFilterAlgorithmConfigurationWidget::QgsFilterAlgorithmConfigurationWidget( QWidget *parent )</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  : <a class="code" href="classQgsProcessingAlgorithmConfigurationWidget.html">QgsProcessingAlgorithmConfigurationWidget</a>( parent )</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  setContentsMargins( 0, 0, 0, 0 );</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  mOutputExpressionWidget = <span class="keyword">new</span> QTableWidget();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  mOutputExpressionWidget-&gt;setColumnCount( 3 );</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  mOutputExpressionWidget-&gt;setHorizontalHeaderItem( 0, <span class="keyword">new</span> QTableWidgetItem( tr( <span class="stringliteral">&quot;Output Name&quot;</span> ) ) );</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  mOutputExpressionWidget-&gt;setHorizontalHeaderItem( 1, <span class="keyword">new</span> QTableWidgetItem( tr( <span class="stringliteral">&quot;Filter Expression&quot;</span> ) ) );</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  mOutputExpressionWidget-&gt;setHorizontalHeaderItem( 2, <span class="keyword">new</span> QTableWidgetItem( tr( <span class="stringliteral">&quot;Final Output&quot;</span> ) ) );</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  mOutputExpressionWidget-&gt;horizontalHeader()-&gt;setResizeMode( 1, QHeaderView::Stretch );</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  QGridLayout *layout = <span class="keyword">new</span> QGridLayout();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  setLayout( layout );</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  layout-&gt;addWidget( <span class="keyword">new</span> QLabel( tr( <span class="stringliteral">&quot;Outputs and filters&quot;</span> ) ), 0, 0, 1, 2 );</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  layout-&gt;addWidget( mOutputExpressionWidget, 1, 0, 4, 1 );</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  QToolButton *addOutputButton = <span class="keyword">new</span> QToolButton();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  addOutputButton-&gt;setIcon( <a class="code" href="classQgsApplication.html#afe2f6b9ced1b37bbf67ba0a189b24093">QgsApplication::getThemeIcon</a>( QStringLiteral( <span class="stringliteral">&quot;/mActionAddLayer.svg&quot;</span> ) ) );</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  addOutputButton-&gt;setText( tr( <span class="stringliteral">&quot;Add Output&quot;</span> ) );</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  QToolButton *removeOutputButton = <span class="keyword">new</span> QToolButton();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  removeOutputButton-&gt;setIcon( <a class="code" href="classQgsApplication.html#afe2f6b9ced1b37bbf67ba0a189b24093">QgsApplication::getThemeIcon</a>( QStringLiteral( <span class="stringliteral">&quot;/mActionRemoveLayer.svg&quot;</span> ) ) );</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  removeOutputButton-&gt;setToolTip( tr( <span class="stringliteral">&quot;Remove Selected Outputs&quot;</span> ) );</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  layout-&gt;addWidget( addOutputButton, 2, 1, 1, 1 );</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  layout-&gt;addWidget( removeOutputButton, 3, 1, 1, 1 );</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  connect( addOutputButton, &amp;QToolButton::clicked, <span class="keyword">this</span>, &amp;QgsFilterAlgorithmConfigurationWidget::addOutput );</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  connect( removeOutputButton, &amp;QToolButton::clicked, <span class="keyword">this</span>, &amp;QgsFilterAlgorithmConfigurationWidget::removeSelectedOutputs );</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  connect( mOutputExpressionWidget-&gt;selectionModel(), &amp;QItemSelectionModel::selectionChanged, [removeOutputButton, <span class="keyword">this</span>]</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    removeOutputButton-&gt;setEnabled( !mOutputExpressionWidget-&gt;selectionModel()-&gt;selectedIndexes().isEmpty() );</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  } );</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;QVariantMap QgsFilterAlgorithmConfigurationWidget::configuration()<span class="keyword"> const</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  QVariantList outputs;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; mOutputExpressionWidget-&gt;rowCount(); ++i )</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    QVariantMap output;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    output.insert( QStringLiteral( <span class="stringliteral">&quot;name&quot;</span> ), mOutputExpressionWidget-&gt;item( i, 0 )-&gt;text() );</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    output.insert( QStringLiteral( <span class="stringliteral">&quot;expression&quot;</span> ), qobject_cast&lt;QgsExpressionLineEdit *&gt;( mOutputExpressionWidget-&gt;cellWidget( i, 1 ) )-&gt;expression() );</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    output.insert( QStringLiteral( <span class="stringliteral">&quot;isModelOutput&quot;</span> ), qobject_cast&lt;QCheckBox *&gt;( mOutputExpressionWidget-&gt;cellWidget( i, 2 ) )-&gt;isChecked() );</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    outputs.append( output );</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  QVariantMap map;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  map.insert( <span class="stringliteral">&quot;outputs&quot;</span>, outputs );</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> map;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keywordtype">void</span> QgsFilterAlgorithmConfigurationWidget::setConfiguration( <span class="keyword">const</span> QVariantMap &amp;configuration )</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  mOutputExpressionWidget-&gt;setRowCount( 0 );</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">int</span> currentRow = 0;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keyword">const</span> QVariantList outputs = configuration.value( <span class="stringliteral">&quot;outputs&quot;</span> ).toList();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> QVariant &amp;outputvar : outputs )</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">const</span> QVariantMap output = outputvar.toMap();</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    mOutputExpressionWidget-&gt;insertRow( currentRow );</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    mOutputExpressionWidget-&gt;setItem( currentRow, 0, <span class="keyword">new</span> QTableWidgetItem( output.value( <span class="stringliteral">&quot;name&quot;</span> ).toString() ) );</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="classQgsExpressionLineEdit.html">QgsExpressionLineEdit</a> *expressionBuilder = <span class="keyword">new</span> <a class="code" href="classQgsExpressionLineEdit.html">QgsExpressionLineEdit</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    expressionBuilder-&gt;<a class="code" href="classQgsExpressionLineEdit.html#a9d5e9271f7b90985ae7910417e0c450b">setExpression</a>( output.value( <span class="stringliteral">&quot;expression&quot;</span> ).toString() );</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    mOutputExpressionWidget-&gt;setCellWidget( currentRow, 1, expressionBuilder );</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    QCheckBox *isModelOutput = <span class="keyword">new</span> QCheckBox();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    isModelOutput-&gt;setChecked( output.value( <span class="stringliteral">&quot;isModelOutput&quot;</span> ).toBool() );</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    mOutputExpressionWidget-&gt;setCellWidget( currentRow, 2, isModelOutput );</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    currentRow++;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> ( outputs.isEmpty() )</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    addOutput();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keywordtype">void</span> QgsFilterAlgorithmConfigurationWidget::removeSelectedOutputs()</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  QItemSelection selection( mOutputExpressionWidget-&gt;selectionModel()-&gt;selection() );</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  QList&lt;int&gt; rows;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">const</span> QModelIndexList indexes = selection.indexes();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">for</span> ( <span class="keyword">const</span> QModelIndex &amp;index : indexes )</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    rows.append( index.row() );</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  std::sort( rows.begin(), rows.end() );</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">int</span> prev = -1;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = rows.count() - 1; i &gt;= 0; i -= 1 )</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">int</span> current = rows[i];</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> ( current != prev )</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      mOutputExpressionWidget-&gt;removeRow( current );</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      prev = current;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keywordtype">void</span> QgsFilterAlgorithmConfigurationWidget::addOutput()</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">int</span> rowIndex = mOutputExpressionWidget-&gt;rowCount();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  mOutputExpressionWidget-&gt;setRowCount( rowIndex + 1 );</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classQgsExpressionLineEdit.html">QgsExpressionLineEdit</a> *expressionBuilder = <span class="keyword">new</span> <a class="code" href="classQgsExpressionLineEdit.html">QgsExpressionLineEdit</a>();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  mOutputExpressionWidget-&gt;setItem( rowIndex, 0, <span class="keyword">new</span> QTableWidgetItem( QString() ) );</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  mOutputExpressionWidget-&gt;setCellWidget( rowIndex, 1, expressionBuilder );</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  mOutputExpressionWidget-&gt;setCellWidget( rowIndex, 2, <span class="keyword">new</span> QCheckBox() );</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<a class="code" href="classQgsProcessingAlgorithmConfigurationWidget.html">QgsProcessingAlgorithmConfigurationWidget</a> *QgsFilterAlgorithmConfigurationWidgetFactory::create( <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *<a class="code" href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a> )<span class="keyword"> const</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">if</span> ( algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#ad9eb6365281f92799f1a4562ec386127">name</a>() == QStringLiteral( <span class="stringliteral">&quot;filter&quot;</span> ) )</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> QgsFilterAlgorithmConfigurationWidget();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keywordtype">bool</span> QgsFilterAlgorithmConfigurationWidgetFactory::canCreateFor( <span class="keyword">const</span> <a class="code" href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a> *algorithm )<span class="keyword"> const</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> ( algorithm-&gt;<a class="code" href="classQgsProcessingAlgorithm.html#ad9eb6365281f92799f1a4562ec386127">name</a>() == QStringLiteral( <span class="stringliteral">&quot;filter&quot;</span> ) )</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="ttc" id="classQgsProcessingAlgorithm_html_ad9eb6365281f92799f1a4562ec386127"><div class="ttname"><a href="classQgsProcessingAlgorithm.html#ad9eb6365281f92799f1a4562ec386127">QgsProcessingAlgorithm::name</a></div><div class="ttdeci">virtual QString name() const =0</div><div class="ttdoc">Returns the algorithm name, used for identifying the algorithm. </div></div>
<div class="ttc" id="classQgsApplication_html_afe2f6b9ced1b37bbf67ba0a189b24093"><div class="ttname"><a href="classQgsApplication.html#afe2f6b9ced1b37bbf67ba0a189b24093">QgsApplication::getThemeIcon</a></div><div class="ttdeci">static QIcon getThemeIcon(const QString &amp;name)</div><div class="ttdoc">Helper to get a theme icon. </div><div class="ttdef"><b>Definition:</b> <a href="qgsapplication_8cpp_source.html#l00497">qgsapplication.cpp:497</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithm_html"><div class="ttname"><a href="classQgsProcessingAlgorithm.html">QgsProcessingAlgorithm</a></div><div class="ttdoc">Abstract base class for processing algorithms. </div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithm_8h_source.html#l00051">qgsprocessingalgorithm.h:51</a></div></div>
<div class="ttc" id="classQgsExpressionLineEdit_html_a9d5e9271f7b90985ae7910417e0c450b"><div class="ttname"><a href="classQgsExpressionLineEdit.html#a9d5e9271f7b90985ae7910417e0c450b">QgsExpressionLineEdit::setExpression</a></div><div class="ttdeci">void setExpression(const QString &amp;expression)</div><div class="ttdoc">Sets the current expression to show in the widget. </div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressionlineedit_8cpp_source.html#l00139">qgsexpressionlineedit.cpp:139</a></div></div>
<div class="ttc" id="qgsprocessingalgorithm_8h_html"><div class="ttname"><a href="qgsprocessingalgorithm_8h.html">qgsprocessingalgorithm.h</a></div></div>
<div class="ttc" id="qgsapplication_8h_html"><div class="ttname"><a href="qgsapplication_8h.html">qgsapplication.h</a></div></div>
<div class="ttc" id="porting__processing_8dox_html_a2363590aeaf7c1e254a233e7d840ae29"><div class="ttname"><a href="porting__processing_8dox.html#a2363590aeaf7c1e254a233e7d840ae29">algorithm</a></div><div class="ttdeci">As part of the API refactoring and improvements which landed in the Processing API was substantially reworked from the x version This was done in order to allow much of the underlying Processing framework to be ported into allowing algorithms to be written in pure substantial changes are required in order to port existing x Processing algorithms for QGIS x The most significant changes are outlined not GeoAlgorithm For algorithms which operate on features one by consider subclassing the QgsProcessingFeatureBasedAlgorithm class This class allows much of the boilerplate code for looping over features from a vector layer to be bypassed and instead requires implementation of a processFeature method Ensure that your algorithm(or algorithm 's parent class) implements the new pure virtual createInstance(self) call</div></div>
<div class="ttc" id="qgsprocessingguiregistry_8h_html"><div class="ttname"><a href="qgsprocessingguiregistry_8h.html">qgsprocessingguiregistry.h</a></div></div>
<div class="ttc" id="qgsprocessingconfigurationwidgets_8h_html"><div class="ttname"><a href="qgsprocessingconfigurationwidgets_8h.html">qgsprocessingconfigurationwidgets.h</a></div></div>
<div class="ttc" id="qgsexpressionlineedit_8h_html"><div class="ttname"><a href="qgsexpressionlineedit_8h.html">qgsexpressionlineedit.h</a></div></div>
<div class="ttc" id="qgsgui_8h_html"><div class="ttname"><a href="qgsgui_8h.html">qgsgui.h</a></div></div>
<div class="ttc" id="classQgsProcessingAlgorithmConfigurationWidget_html"><div class="ttname"><a href="classQgsProcessingAlgorithmConfigurationWidget.html">QgsProcessingAlgorithmConfigurationWidget</a></div><div class="ttdoc">A configuration widget for processing algorithms allows providing additional configuration options di...</div><div class="ttdef"><b>Definition:</b> <a href="qgsprocessingalgorithmconfigurationwidget_8h_source.html#l00038">qgsprocessingalgorithmconfigurationwidget.h:38</a></div></div>
<div class="ttc" id="classQgsExpressionLineEdit_html"><div class="ttname"><a href="classQgsExpressionLineEdit.html">QgsExpressionLineEdit</a></div><div class="ttdoc">The QgsExpressionLineEdit widget includes a line edit for entering expressions together with a button...</div><div class="ttdef"><b>Definition:</b> <a href="qgsexpressionlineedit_8h_source.html#l00049">qgsexpressionlineedit.h:49</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 23 2018 20:58:15 for QGIS API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
